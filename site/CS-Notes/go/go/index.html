
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.0, mkdocs-material-9.5.29">
    
    
      
        <title>Go - JimmyEastBrook'NoteBook</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.76a95c52.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=lxgw-wenkai:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"lxgw-wenkai";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../stylesheets/extra.css">
    
      <link rel="stylesheet" href="../../../stylesheets/link.css">
    
      <link rel="stylesheet" href="../../../stylesheets/customize.css">
    
      <link rel="stylesheet" href="https://cdn.staticfile.org/font-awesome/4.7.0/css/font-awesome.css">
    
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lxgw-wenkai-webfont@1.1.0/style.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  

<script id="__analytics">function __md_analytics(){function n(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],n("js",new Date),n("config",""),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){this.value&&n("event","search",{search_term:this.value})}),document$.subscribe(function(){var a=document.forms.feedback;if(void 0!==a)for(var e of a.querySelectorAll("[type=submit]"))e.addEventListener("click",function(e){e.preventDefault();var t=document.location.pathname,e=this.getAttribute("data-md-value");n("event","feedback",{page:t,data:e}),a.firstElementChild.disabled=!0;e=a.querySelector(".md-feedback__note [data-md-value='"+e+"']");e&&(e.hidden=!1)}),a.hidden=!1}),location$.subscribe(function(e){n("config","",{page_path:e.pathname})})});var e=document.createElement("script");e.async=!0,e.src="https://www.googletagmanager.com/gtag/js?id=",document.getElementById("__analytics").insertAdjacentElement("afterEnd",e)}</script>
  
    <script>"undefined"!=typeof __md_analytics&&__md_analytics()</script>
  

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#go" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="JimmyEastBrook&#39;NoteBook" class="md-header__button md-logo" aria-label="JimmyEastBrook'NoteBook" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            JimmyEastBrook'NoteBook
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Go
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="关闭自动模式"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="关闭自动模式" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1M8 13h8v-2H8v2m9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1 0 1.71-1.39 3.1-3.1 3.1h-4V17h4a5 5 0 0 0 5-5 5 5 0 0 0-5-5Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="blue"  aria-label="切换至夜间模式"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="切换至夜间模式" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="切换至日间模式"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="切换至日间模式" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../.." class="md-tabs__link">
        
  
    
  
  NoteBook介绍

      </a>
    </li>
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../csdiy/cs61a/" class="md-tabs__link">
          
  
  csdiy

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../tool/git/%E8%BF%9B%E9%98%B6%E4%BD%BF%E7%94%A8/" class="md-tabs__link">
          
  
  Tool

        </a>
      </li>
    
  

    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../zju-course/%E5%85%B3%E4%BA%8E%E6%9C%AC%E6%A0%8F/" class="md-tabs__link">
          
  
  zju-course

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../go.md" class="md-tabs__link">
          
  
  CS-Notes

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../about/" class="md-tabs__link">
          
  
  关于我

        </a>
      </li>
    
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../../todolist/todolist/" class="md-tabs__link">
        
  
    
  
  todolist

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../../tag/" class="md-tabs__link">
        
  
    
  
  tags

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="JimmyEastBrook&#39;NoteBook" class="md-nav__button md-logo" aria-label="JimmyEastBrook'NoteBook" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    JimmyEastBrook'NoteBook
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    NoteBook介绍
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    csdiy
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            csdiy
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../csdiy/cs61a/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    cs61a
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../csdiy/missing-semester/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    missing semester
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Tool
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Tool
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_1" >
        
          
          <label class="md-nav__link" for="__nav_3_1" id="__nav_3_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Git教程
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_1">
            <span class="md-nav__icon md-icon"></span>
            Git教程
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../tool/git/%E8%BF%9B%E9%98%B6%E4%BD%BF%E7%94%A8/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    进阶使用
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../tool/git/%E8%AE%BE%E7%BD%AE%E5%A4%9A%E4%B8%AA%E8%B4%A6%E5%8F%B7/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    如何在本地管理多个github账号
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../tool/markdown/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Markdown简介
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../tool/latex/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    latex
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../tool/typst/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    typst
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    zju-course
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            zju-course
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../zju-course/%E5%85%B3%E4%BA%8E%E6%9C%AC%E6%A0%8F/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    关于本栏
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../zju-course/%E5%BD%A2%E7%AD%96/%E5%BD%A2%E7%AD%96/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    形策
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../zju-course/%E4%B8%9D%E7%BB%B8%E4%B9%8B%E8%B7%AF%E8%89%BA%E6%9C%AF/%E5%A4%8D%E4%B9%A0/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    丝绸之路艺术
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../zju-course/vjf/vjf1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    vjf1
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../zju-course/vjf/vjf2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    vjf2
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../zju-course/%E5%A4%A7%E7%89%A9%E7%94%B2/%E5%A4%A7%E7%89%A9%E7%94%B2%EF%BC%88%E4%B8%8A%EF%BC%89/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    大物甲（上）
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../zju-course/%E5%A4%A7%E7%89%A9%E7%94%B2/%E5%A4%A7%E7%89%A9%E7%94%B2%EF%BC%88%E4%B8%8B%EF%BC%89/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    大物甲（下）
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4_8" >
        
          
          <label class="md-nav__link" for="__nav_4_8" id="__nav_4_8_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    马原
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_8">
            <span class="md-nav__icon md-icon"></span>
            马原
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../zju-course/%E9%A9%AC%E5%8E%9F/%E9%A9%AC%E5%8E%9F/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    马原知识回顾
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../zju-course/%E9%A9%AC%E5%8E%9F/%E9%A2%98%E5%9E%8B/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    考点和套路
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../zju-course/%E5%86%9B%E4%BA%8B%E7%90%86%E8%AE%BA/%E5%86%9B%E4%BA%8B%E7%90%86%E8%AE%BA/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    军事理论
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../zju-course/%E7%A6%BB%E6%95%A3%E6%95%B0%E5%AD%A6/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    离散数学
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../zju-course/%E7%BA%BF%E4%BB%A3/%E7%BA%BF%E4%BB%A3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    线代
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    CS-Notes
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            CS-Notes
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../go.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Go
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../HTML/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    HTML
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../CSS/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CSS
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../JavaScript/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    JavaScript
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../React/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    React
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../C/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    C
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../python.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    python
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    关于我
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            关于我
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../about/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    作者个人简介
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../todolist/todolist/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    todolist
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../tag/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    tags
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="go">Go<a class="headerlink" href="#go" title="Permanent link">&para;</a></h1>
<h2 id="function">function<a class="headerlink" href="#function" title="Permanent link">&para;</a></h2>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-1">1</a></span>
<span class="normal"><a href="#__codelineno-0-2">2</a></span>
<span class="normal"><a href="#__codelineno-0-3">3</a></span>
<span class="normal"><a href="#__codelineno-0-4">4</a></span>
<span class="normal"><a href="#__codelineno-0-5">5</a></span>
<span class="normal"><a href="#__codelineno-0-6">6</a></span>
<span class="normal"><a href="#__codelineno-0-7">7</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1"></a><span class="kd">func</span><span class="w"> </span><span class="nx">function_name</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="nx">a</span><span class="p">,</span><span class="kd">var</span><span class="w"> </span><span class="nx">b</span><span class="w"> </span><span class="kt">string</span><span class="p">)(</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="p">){</span><span class="w"> </span><span class="c1">//(int a , var b string) is the parameter list and (string) is the return type</span>
<a id="__codelineno-0-2" name="__codelineno-0-2"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="nx">c</span><span class="p">=</span><span class="err">&#39;&#39;</span>
<a id="__codelineno-0-3" name="__codelineno-0-3"></a><span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="nx">i</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="nx">i</span><span class="w"> </span><span class="p">&lt;</span><span class="w"> </span><span class="nx">a</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="nx">i</span><span class="o">++</span><span class="p">){&gt;</span>
<a id="__codelineno-0-4" name="__codelineno-0-4"></a><span class="w">        </span><span class="nx">c</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="nx">b</span>
<a id="__codelineno-0-5" name="__codelineno-0-5"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-0-6" name="__codelineno-0-6"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">c</span>
<a id="__codelineno-0-7" name="__codelineno-0-7"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<ul>
<li>
<p>前一个定义形参，后一个定义返回的数据类型</p>
</li>
<li>
<p>返回值就一个的话，可以不写第二个括号（没有也可以不写）</p>
</li>
</ul>
<div class="admonition tip">
<p class="admonition-title">函数命名</p>
<p>大写函数名可以被所有包使用，但是小写只能被自己包使用！</p>
</div>
<ul>
<li>形参列表可以是0个1个n个，参数列表的作用就是接受外来的数据，然后处理。实际传入的数据叫实参（C语言小复习）</li>
</ul>
<p>返回值列表，实际上可以返回0-n个数据（和C语言中返回1个不一样：这也是为什么需要使用指针传递的原因）</p>
<div class="admonition tip">
<p class="admonition-title">简写</p>
<p>:= 是一个短变量声明操作符，它用于在函数内部声明并初始化局部变量。这种声明方式允许你同时声明变量并为其赋值，而且编译器会根据赋值表达式的类型自动推断出变量的类型。</p>
</div>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-1-1">1</a></span>
<span class="normal"><a href="#__codelineno-1-2">2</a></span>
<span class="normal"><a href="#__codelineno-1-3">3</a></span>
<span class="normal"><a href="#__codelineno-1-4">4</a></span>
<span class="normal"><a href="#__codelineno-1-5">5</a></span>
<span class="normal"><a href="#__codelineno-1-6">6</a></span>
<span class="normal"><a href="#__codelineno-1-7">7</a></span>
<span class="normal"><a href="#__codelineno-1-8">8</a></span>
<span class="normal"><a href="#__codelineno-1-9">9</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1"></a><span class="kd">func</span><span class="w"> </span><span class="nx">function_name</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="nx">a</span><span class="p">,</span><span class="kd">var</span><span class="w"> </span><span class="nx">b</span><span class="w"> </span><span class="kt">string</span><span class="p">)(</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="p">,</span><span class="kt">string</span><span class="p">){</span><span class="w"> </span><span class="c1">//(int a , var b string) is the parameter list and (string) is the return type</span>
<a id="__codelineno-1-2" name="__codelineno-1-2"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="nx">c</span><span class="p">=</span><span class="err">&#39;&#39;</span>
<a id="__codelineno-1-3" name="__codelineno-1-3"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="nx">d</span><span class="p">=</span><span class="err">&#39;&#39;</span>
<a id="__codelineno-1-4" name="__codelineno-1-4"></a><span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="nx">i</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="nx">i</span><span class="w"> </span><span class="p">&lt;</span><span class="w"> </span><span class="nx">a</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="nx">i</span><span class="o">++</span><span class="p">){&gt;</span>
<a id="__codelineno-1-5" name="__codelineno-1-5"></a><span class="w">        </span><span class="nx">c</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="nx">b</span>
<a id="__codelineno-1-6" name="__codelineno-1-6"></a><span class="w">        </span><span class="nx">d</span><span class="p">=</span><span class="nx">a</span><span class="o">+</span><span class="nx">b</span>
<a id="__codelineno-1-7" name="__codelineno-1-7"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-1-8" name="__codelineno-1-8"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span>
<a id="__codelineno-1-9" name="__codelineno-1-9"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<ul>
<li>两个返回值，对应两个数据类型，一个一个对应好久ok了</li>
</ul>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-2-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1"></a><span class="nx">sum</span><span class="p">,</span><span class="nx">_</span><span class="o">:=</span><span class="nx">function_name</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
<p>如果有数据不想接受，可以使用<code>_</code>来忽略这个数据</p>
<p>函数参数的数量是可变的</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-3-1">1</a></span>
<span class="normal"><a href="#__codelineno-3-2">2</a></span>
<span class="normal"><a href="#__codelineno-3-3">3</a></span>
<span class="normal"><a href="#__codelineno-3-4">4</a></span>
<span class="normal"><a href="#__codelineno-3-5">5</a></span>
<span class="normal"><a href="#__codelineno-3-6">6</a></span>
<span class="normal"><a href="#__codelineno-3-7">7</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1"></a><span class="kd">func</span><span class="w"> </span><span class="nx">sum</span><span class="p">(</span><span class="nx">nums</span><span class="o">...</span><span class="kt">int</span><span class="p">)(){</span><span class="c1">//可以传入任意个的数据</span>
<a id="__codelineno-3-2" name="__codelineno-3-2"></a><span class="w">    </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="s">&quot;--------------------------------&quot;</span><span class="p">)</span>
<a id="__codelineno-3-3" name="__codelineno-3-3"></a><span class="w">    </span><span class="c1">//在处理可变参数的时候，将可变参数当做一个切片来处理（数组）</span>
<a id="__codelineno-3-4" name="__codelineno-3-4"></a><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="nx">i</span><span class="o">:=</span><span class="mi">0</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="nx">i</span><span class="p">&lt;</span><span class="w"> </span><span class="nb">len</span><span class="p">(</span><span class="nx">nums</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="nx">i</span><span class="o">++</span><span class="p">{</span>
<a id="__codelineno-3-5" name="__codelineno-3-5"></a><span class="w">        </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="nx">nums</span><span class="p">[</span><span class="nx">i</span><span class="p">])</span>
<a id="__codelineno-3-6" name="__codelineno-3-6"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-3-7" name="__codelineno-3-7"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<p>基本数据类型都是值传递，在函数中修改不会改变原来的数值</p>
<h3 id="_1">内存分析（简易版本）<a class="headerlink" href="#_1" title="Permanent link">&para;</a></h3>
<p>函数运行的时候，会向计算机申请到一块内存</p>
<p>内存在逻辑上会被划分成三个区域：栈，堆，代码区</p>
<table>
<thead>
<tr>
<th style="text-align: left;">栈</th>
<th>堆</th>
<th style="text-align: right;">代码区</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">基本数据类型（通常）</td>
<td>复杂数据类型：map，切片</td>
<td style="text-align: right;">存放代码本身</td>
</tr>
<tr>
<td style="text-align: left;">main()函数对应的栈帧：变量1[具体变量]，变量2[具体变量]</td>
<td></td>
<td style="text-align: right;"></td>
</tr>
<tr>
<td style="text-align: left;">自定义函数1()对应的栈帧：num1[具体变量],num2[具体变量],num3[具体变量]</td>
<td>自定义函数1()对应的栈帧和main()函数对应的栈帧并不相同，两个作用在不同的栈帧，自定义函数1的栈帧在函数执行完成之后就会销毁</td>
<td style="text-align: right;"></td>
</tr>
</tbody>
</table>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-4-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-4-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-4-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-4-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-4-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-4-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-4-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-4-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-4-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-4-10">10</a></span>
<span class="normal"><a href="#__codelineno-4-11">11</a></span>
<span class="normal"><a href="#__codelineno-4-12">12</a></span>
<span class="normal"><a href="#__codelineno-4-13">13</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1"></a><span class="kn">package</span><span class="w"> </span><span class="nx">main</span>
<a id="__codelineno-4-2" name="__codelineno-4-2"></a><span class="kn">import</span><span class="w"> </span><span class="nx">fmt</span>
<a id="__codelineno-4-3" name="__codelineno-4-3"></a>
<a id="__codelineno-4-4" name="__codelineno-4-4"></a><span class="kd">func</span><span class="w"> </span><span class="nx">test</span><span class="p">(</span><span class="nx">num</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="p">)(){</span>
<a id="__codelineno-4-5" name="__codelineno-4-5"></a><span class="w">    </span><span class="nx">num</span><span class="p">=</span><span class="mi">10</span>
<a id="__codelineno-4-6" name="__codelineno-4-6"></a><span class="w">    </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="s">&quot;test----&quot;</span><span class="p">,</span><span class="nx">num</span><span class="p">)</span>
<a id="__codelineno-4-7" name="__codelineno-4-7"></a><span class="p">}</span>
<a id="__codelineno-4-8" name="__codelineno-4-8"></a>
<a id="__codelineno-4-9" name="__codelineno-4-9"></a><span class="kd">func</span><span class="w"> </span><span class="nx">main</span><span class="p">(){</span>
<a id="__codelineno-4-10" name="__codelineno-4-10"></a><span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nx">num</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="p">=</span><span class="mi">30</span>
<a id="__codelineno-4-11" name="__codelineno-4-11"></a><span class="w">    </span><span class="nx">test</span><span class="p">(</span><span class="nx">num</span><span class="p">)</span>
<a id="__codelineno-4-12" name="__codelineno-4-12"></a><span class="w">    </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="s">&quot;test----&quot;</span><span class="p">,</span><span class="nx">num</span><span class="p">)</span>
<a id="__codelineno-4-13" name="__codelineno-4-13"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<p>输出</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-5-1">1</a></span>
<span class="normal"><a href="#__codelineno-5-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1"></a>test----10
<a id="__codelineno-5-2" name="__codelineno-5-2"></a>test----30
</code></pre></div></td></tr></table></div>
<p>为什么会是这个结果</p>
<table>
<thead>
<tr>
<th style="text-align: left;">步骤</th>
<th>main()</th>
<th style="text-align: right;">test</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">1</td>
<td>创建num变量，并且赋值为30</td>
<td style="text-align: right;">无</td>
</tr>
<tr>
<td style="text-align: left;">2</td>
<td>调用test</td>
<td style="text-align: right;">创建test栈帧，并且在其中定义一个num，传入30的值</td>
</tr>
<tr>
<td style="text-align: left;">3</td>
<td>无</td>
<td style="text-align: right;">num=30---&gt;num=10，并且输出num=10，函数调用结束，栈帧销毁</td>
</tr>
<tr>
<td style="text-align: left;">4</td>
<td>fmt.Println()输出main函数栈帧中num的值：30</td>
<td style="text-align: right;">无</td>
</tr>
</tbody>
</table>
<p>如何让函数内外沟通起来成为了关键</p>
<h3 id="_2">函数也是一种数据类型<a class="headerlink" href="#_2" title="Permanent link">&para;</a></h3>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-6-1">1</a></span>
<span class="normal"><a href="#__codelineno-6-2">2</a></span>
<span class="normal"><a href="#__codelineno-6-3">3</a></span>
<span class="normal"><a href="#__codelineno-6-4">4</a></span>
<span class="normal"><a href="#__codelineno-6-5">5</a></span>
<span class="normal"><a href="#__codelineno-6-6">6</a></span>
<span class="normal"><a href="#__codelineno-6-7">7</a></span>
<span class="normal"><a href="#__codelineno-6-8">8</a></span>
<span class="normal"><a href="#__codelineno-6-9">9</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1"></a><span class="kd">func</span><span class="w"> </span><span class="nx">test</span><span class="p">(</span><span class="nx">num</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="p">)(){</span>
<a id="__codelineno-6-2" name="__codelineno-6-2"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">2</span><span class="o">*</span><span class="nx">num</span>
<a id="__codelineno-6-3" name="__codelineno-6-3"></a><span class="p">}</span>
<a id="__codelineno-6-4" name="__codelineno-6-4"></a>
<a id="__codelineno-6-5" name="__codelineno-6-5"></a><span class="kd">func</span><span class="w"> </span><span class="nx">main</span><span class="p">(){</span>
<a id="__codelineno-6-6" name="__codelineno-6-6"></a><span class="w">    </span><span class="nx">a</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">test</span><span class="c1">//把test这个类型给一个变量，让变量成为了一个函数</span>
<a id="__codelineno-6-7" name="__codelineno-6-7"></a><span class="w">    </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="s">&quot;a对应的类型是“%T，test函数对应的类型是%T&quot;</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">test</span><span class="p">)</span>
<a id="__codelineno-6-8" name="__codelineno-6-8"></a><span class="w">    </span><span class="nx">a</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span><span class="c1">//等价于test(10)</span>
<a id="__codelineno-6-9" name="__codelineno-6-9"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<p>在go语言里，函数类型也可以作为一种形参</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-7-1">1</a></span>
<span class="normal"><a href="#__codelineno-7-2">2</a></span>
<span class="normal"><a href="#__codelineno-7-3">3</a></span>
<span class="normal"><a href="#__codelineno-7-4">4</a></span>
<span class="normal"><a href="#__codelineno-7-5">5</a></span>
<span class="normal"><a href="#__codelineno-7-6">6</a></span>
<span class="normal"><a href="#__codelineno-7-7">7</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1"></a><span class="c1">//定义一个函数，把另外一个函数作为形参</span>
<a id="__codelineno-7-2" name="__codelineno-7-2"></a><span class="kd">func</span><span class="w"> </span><span class="nx">test</span><span class="p">(</span><span class="nx">num</span><span class="w"> </span><span class="kt">int</span><span class="p">){</span>
<a id="__codelineno-7-3" name="__codelineno-7-3"></a><span class="w">    </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="s">&quot;调用了test&quot;</span><span class="p">)</span>
<a id="__codelineno-7-4" name="__codelineno-7-4"></a><span class="p">}</span>
<a id="__codelineno-7-5" name="__codelineno-7-5"></a><span class="kd">func</span><span class="w"> </span><span class="nx">test01</span><span class="p">(</span><span class="nx">num</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="p">,</span><span class="nx">num1</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="nx">testFunc</span><span class="w"> </span><span class="nx">fun</span><span class="p">(</span><span class="kt">int</span><span class="p">)){</span>
<a id="__codelineno-7-6" name="__codelineno-7-6"></a><span class="w">    </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="s">&quot;调用了test01&quot;</span><span class="p">)</span>
<a id="__codelineno-7-7" name="__codelineno-7-7"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<h3 id="_3">自定义数据类型<a class="headerlink" href="#_3" title="Permanent link">&para;</a></h3>
<p>为了简化数据类型定义，但是go语言中支持自定义数据类型（理解成起一个别名）</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-8-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1"></a><span class="kd">type</span><span class="w">  </span><span class="nx">myint</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="c1">//自定义一个int类型，起名为myint</span>
</code></pre></div></td></tr></table></div>
<p>但是编译识别的时候，认为myint!=int，认为不是一种数据类型，不能把myint赋值给int。转成int类型可以<code>int(num1)</code>转换成int类型</p>
<p>我们还可以给函数起别名</p>
<p><code>type myfunc func(int)</code>就是把myfunc定义为一个函数类型，可以作为形参，也可以作为返回值类型</p>
<p>我们也可以定义返回值的数据类型,让返回值和数据类型一一对应</p>
<h2 id="_4">包<a class="headerlink" href="#_4" title="Permanent link">&para;</a></h2>
<ol>
<li>
<p>如何定义一个包</p>
<ul>
<li>建议包的名称和外面文件夹里的名称一致</li>
</ul>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-9-1">1</a></span>
<span class="normal"><a href="#__codelineno-9-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1"></a><span class="kn">package</span><span class="w"> </span><span class="nx">main</span>
<a id="__codelineno-9-2" name="__codelineno-9-2"></a><span class="c1">//文件在main/main.go里</span>
</code></pre></div></td></tr></table></div>
<ul>
<li>main包是程序的入口包，一般的main函数会放置在main下</li>
</ul>
</li>
<li>
<p>如何导入一个包的函数
    首字母小写，包内的函数不能被其他包访问</p>
<p>首先要import这个包，然后使用包名.函数名的方式调用</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-10-1">1</a></span>
<span class="normal"><a href="#__codelineno-10-2">2</a></span>
<span class="normal"><a href="#__codelineno-10-3">3</a></span>
<span class="normal"><a href="#__codelineno-10-4">4</a></span>
<span class="normal"><a href="#__codelineno-10-5">5</a></span>
<span class="normal"><a href="#__codelineno-10-6">6</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1"></a><span class="kn">package</span><span class="w"> </span><span class="nx">main</span>
<a id="__codelineno-10-2" name="__codelineno-10-2"></a><span class="kn">import</span><span class="w"> </span><span class="s">&quot;fmt&quot;</span>
<a id="__codelineno-10-3" name="__codelineno-10-3"></a><span class="kn">import</span><span class="w"> </span><span class="s">&quot;go_code/chapter06/funtiondemo&quot;</span><span class="c1">//包名是从$GOPATH/src后面的路径开始写，使用/进行路径分隔</span>
<a id="__codelineno-10-4" name="__codelineno-10-4"></a><span class="kd">func</span><span class="w"> </span><span class="nx">main</span><span class="p">(){</span>
<a id="__codelineno-10-5" name="__codelineno-10-5"></a><span class="w">    </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="s">&quot;hello world&quot;</span><span class="p">)</span>
<a id="__codelineno-10-6" name="__codelineno-10-6"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<p>最后，使用包名称.函数名的方式来调用函数</p>
</li>
<li>
<p>最后<code>go run main.go</code>开始运行函数</p>
</li>
</ol>
<div class="admonition tip">
<p class="admonition-title">多个包</p>
<p>如果有多个包，建议一次性导入:例如
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-11-1">1</a></span>
<span class="normal"><a href="#__codelineno-11-2">2</a></span>
<span class="normal"><a href="#__codelineno-11-3">3</a></span>
<span class="normal"><a href="#__codelineno-11-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1"></a><span class="kn">import</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-11-2" name="__codelineno-11-2"></a><span class="w">    </span><span class="s">&quot;fmt&quot;</span>
<a id="__codelineno-11-3" name="__codelineno-11-3"></a><span class="w">    </span><span class="s">&quot;go_code/chapter06/funtiondemo&quot;</span>
<a id="__codelineno-11-4" name="__codelineno-11-4"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div></p>
</div>
<h3 id="_5">包的细节<a class="headerlink" href="#_5" title="Permanent link">&para;</a></h3>
<ol>
<li>
<p>package进行包的申明，名称建议个文件夹和文件名一样</p>
</li>
<li>
<p>main包作为程序的入口包，所以一般的main函数会放在main包下，否则不会编译执行</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-12-1">1</a></span>
<span class="normal"><a href="#__codelineno-12-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1"></a><span class="c1">//main函数必须放在package main下</span>
<a id="__codelineno-12-2" name="__codelineno-12-2"></a><span class="kn">package</span><span class="w"> </span><span class="nx">main</span>
</code></pre></div></td></tr></table></div>
</li>
<li>
<p>打包的语法<code>package 包名</code></p>
</li>
<li>
<p>包的导入</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-13-1">1</a></span>
<span class="normal"><a href="#__codelineno-13-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1"></a><span class="kn">import</span><span class="w"> </span><span class="s">&quot;fmt&quot;</span>
<a id="__codelineno-13-2" name="__codelineno-13-2"></a><span class="kn">import</span><span class="w"> </span><span class="s">&quot;go_code/chapter06/funtiondemo&quot;</span>
</code></pre></div></td></tr></table></div>
<p>也可以一次性导入</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-14-1">1</a></span>
<span class="normal"><a href="#__codelineno-14-2">2</a></span>
<span class="normal"><a href="#__codelineno-14-3">3</a></span>
<span class="normal"><a href="#__codelineno-14-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1"></a><span class="kn">import</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-14-2" name="__codelineno-14-2"></a><span class="w">    </span><span class="s">&quot;fmt&quot;</span>
<a id="__codelineno-14-3" name="__codelineno-14-3"></a><span class="w">    </span><span class="s">&quot;go_code/chapter06/funtiondemo&quot;</span>
<a id="__codelineno-14-4" name="__codelineno-14-4"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
</li>
<li>
<p>引入包的语法中，包名是从$GOPATH/src后面的路径开始写，使用/进行路径分隔</p>
<p>等会再重新听一下之前的课，看看当时是怎么配置环境的</p>
</li>
<li>
<p>函数名，变量名首字母大写，函数和变量才能被其他位置访问</p>
</li>
<li>
<p>一个目录下不能有重复的函数，在同一个目录不同源文件下也不能重复定义</p>
</li>
<li>
<p>包名可以和文件夹名不一样，但是建议一样</p>
<p>导入的是包所在文件夹的位置，函数前的定位还是包名.函数名()</p>
</li>
<li>
<p>一个目录下的同级文件归属于一个包
    所以一个申明为aaa，另外的全部都得<code>package aaa</code></p>
</li>
<li>
<p>包到底是什么</p>
<p>我们导入的是包的路径。在源文件层面就是一股味文件夹</p>
<p>包是一组相关的源代码文件代码模块，这些文件被组织在一起，以便于管理和重用，是一组使用相同的package包名的源文件组成的代码模块</p>
</li>
<li>
<p>可以给包起别名，但是原名称就不能用了</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-15-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1"></a><span class="kn">import</span><span class="w"> </span><span class="nx">fm</span><span class="w"> </span><span class="s">&quot;fmt&quot;</span>
</code></pre></div></td></tr></table></div>
<p>这样就不能使用fmt了，只能使用<code>fm.Println()</code>了</p>
</li>
</ol>
<h2 id="init">init函数<a class="headerlink" href="#init" title="Permanent link">&para;</a></h2>
<p>初始化函数，用来进行一些初始化的操作，每一个源文件都可以包含一个init函数，会在main函数执行之前，被Go运行框架调用</p>
<p>init函数没有参数，没有返回值</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-16-1">1</a></span>
<span class="normal"><a href="#__codelineno-16-2">2</a></span>
<span class="normal"><a href="#__codelineno-16-3">3</a></span>
<span class="normal"><a href="#__codelineno-16-4">4</a></span>
<span class="normal"><a href="#__codelineno-16-5">5</a></span>
<span class="normal"><a href="#__codelineno-16-6">6</a></span>
<span class="normal"><a href="#__codelineno-16-7">7</a></span>
<span class="normal"><a href="#__codelineno-16-8">8</a></span>
<span class="normal"><a href="#__codelineno-16-9">9</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1"></a><span class="kn">package</span><span class="w"> </span><span class="nx">main</span>
<a id="__codelineno-16-2" name="__codelineno-16-2"></a><span class="kn">import</span><span class="w"> </span><span class="s">&quot;fmt&quot;</span>
<a id="__codelineno-16-3" name="__codelineno-16-3"></a><span class="kd">func</span><span class="w"> </span><span class="nx">init</span><span class="p">(){</span>
<a id="__codelineno-16-4" name="__codelineno-16-4"></a><span class="w">    </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="s">&quot;init函数&quot;</span><span class="p">)</span>
<a id="__codelineno-16-5" name="__codelineno-16-5"></a><span class="p">}</span>
<a id="__codelineno-16-6" name="__codelineno-16-6"></a><span class="kd">func</span><span class="w"> </span><span class="nx">main</span><span class="p">(){</span>
<a id="__codelineno-16-7" name="__codelineno-16-7"></a><span class="w">    </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="s">&quot;main函数&quot;</span><span class="p">)</span>
<a id="__codelineno-16-8" name="__codelineno-16-8"></a><span class="p">}</span>
<a id="__codelineno-16-9" name="__codelineno-16-9"></a><span class="c1">//注意输出顺序</span>
</code></pre></div></td></tr></table></div>
<p>输出</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-17-1">1</a></span>
<span class="normal"><a href="#__codelineno-17-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-17-1" name="__codelineno-17-1"></a>init函数
<a id="__codelineno-17-2" name="__codelineno-17-2"></a>main函数
</code></pre></div></td></tr></table></div>
<p>init函数先于main函数执行，后于全局变量的定义</p>
<p>多个源文件都有init函数的时候，执行顺序是按照文件名的ASCII码顺序执行的。不过main函数中的代码还是在最后执行</p>
<p>或者说，从上往下，导入的时候执行导入包里面的函数，然后全局变量，然后init函数，最后main函数</p>
<table>
<thead>
<tr>
<th style="text-align: left;">main函数</th>
<th>导入的包：aaa包</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">import{</br>"fmt"  </br> "go_code/chapter06/aaa"}</td>
<td>无</td>
</tr>
<tr>
<td style="text-align: left;">无</td>
<td>变量定义</br>init函数</br>函数执行</td>
</tr>
<tr>
<td style="text-align: left;">无</td>
<td>init函数</td>
</tr>
<tr>
<td style="text-align: left;">main()中变量定义</td>
<td>无</td>
</tr>
<tr>
<td style="text-align: left;">init函数</td>
<td>无</td>
</tr>
<tr>
<td style="text-align: left;">main函数</td>
<td>main函数</td>
</tr>
</tbody>
</table>
<p>执行原理：先执行导入的，在执行自己的</p>
<h2 id="_6">指针<a class="headerlink" href="#_6" title="Permanent link">&para;</a></h2>
<p>指针是一种特殊的变量，它指向一个值的内存地址，可以用来读写内存中的值</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-18-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-18-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-18-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-18-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-18-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-18-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-18-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-18-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-18-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-18-10">10</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-18-1" name="__codelineno-18-1"></a><span class="kn">package</span><span class="w"> </span><span class="nx">main</span>
<a id="__codelineno-18-2" name="__codelineno-18-2"></a><span class="kn">import</span><span class="w"> </span><span class="s">&quot;fmt&quot;</span>
<a id="__codelineno-18-3" name="__codelineno-18-3"></a><span class="kd">func</span><span class="w"> </span><span class="nx">main</span><span class="p">(){</span>
<a id="__codelineno-18-4" name="__codelineno-18-4"></a><span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nx">num</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="mi">10</span>
<a id="__codelineno-18-5" name="__codelineno-18-5"></a><span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nx">ptr</span><span class="w"> </span><span class="o">*</span><span class="kt">int</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="o">&amp;</span><span class="nx">num</span><span class="w"> </span><span class="c1">//获取num的内存地址</span>
<a id="__codelineno-18-6" name="__codelineno-18-6"></a><span class="w">    </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="s">&quot;num的值是&quot;</span><span class="p">,</span><span class="nx">num</span><span class="p">)</span>
<a id="__codelineno-18-7" name="__codelineno-18-7"></a><span class="w">    </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="s">&quot;num的内存地址是&quot;</span><span class="p">,</span><span class="nx">ptr</span><span class="p">)</span>
<a id="__codelineno-18-8" name="__codelineno-18-8"></a><span class="w">    </span><span class="o">*</span><span class="nx">ptr</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="mi">20</span><span class="w"> </span><span class="c1">//修改num的值</span>
<a id="__codelineno-18-9" name="__codelineno-18-9"></a><span class="w">    </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="s">&quot;num的值是&quot;</span><span class="p">,</span><span class="nx">num</span><span class="p">)</span>
<a id="__codelineno-18-10" name="__codelineno-18-10"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<p>输出</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-19-1">1</a></span>
<span class="normal"><a href="#__codelineno-19-2">2</a></span>
<span class="normal"><a href="#__codelineno-19-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-19-1" name="__codelineno-19-1"></a>num的值是<span class="w"> </span><span class="m">10</span>
<a id="__codelineno-19-2" name="__codelineno-19-2"></a>num的内存地址是<span class="w"> </span>0xc000014080
<a id="__codelineno-19-3" name="__codelineno-19-3"></a>num的值是<span class="w"> </span><span class="m">20</span>
</code></pre></div></td></tr></table></div>
<p>指针的声明方式：</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-20-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-20-1" name="__codelineno-20-1"></a><span class="kd">var</span><span class="w"> </span><span class="nx">ptr</span><span class="w"> </span><span class="o">*</span><span class="kt">int</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="o">&amp;</span><span class="nx">num</span>
</code></pre></div></td></tr></table></div>
<ul>
<li><code>var ptr *int</code>声明一个指针变量ptr，指向int类型的值</li>
<li><code>&amp;num</code>获取num的内存地址，赋值给ptr</li>
</ul>
<p>指针的使用方式：</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-21-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-21-1" name="__codelineno-21-1"></a><span class="o">*</span><span class="nx">ptr</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="mi">20</span><span class="w"> </span><span class="c1">//修改num的值</span>
</code></pre></div></td></tr></table></div>
<ul>
<li><code>*ptr</code>解引用指针，获取指针指向的值</li>
<li><code>*ptr = 20</code>修改指针指向的值</li>
</ul>
<p>指针的使用场景：</p>
<ol>
<li>
<p>作为函数参数，可以修改函数内的变量值</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-22-1">1</a></span>
<span class="normal"><a href="#__codelineno-22-2">2</a></span>
<span class="normal"><a href="#__codelineno-22-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-22-1" name="__codelineno-22-1"></a><span class="kd">func</span><span class="w"> </span><span class="nx">swap</span><span class="p">(</span><span class="nx">num1</span><span class="w"> </span><span class="o">*</span><span class="kt">int</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="nx">num2</span><span class="w"> </span><span class="o">*</span><span class="kt">int</span><span class="p">){</span>
<a id="__codelineno-22-2" name="__codelineno-22-2"></a><span class="w">    </span><span class="o">*</span><span class="nx">num1</span><span class="p">,</span><span class="o">*</span><span class="nx">num2</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="o">*</span><span class="nx">num2</span><span class="p">,</span><span class="o">*</span><span class="nx">num1</span>
<a id="__codelineno-22-3" name="__codelineno-22-3"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<ul>
<li><code>*num1,*num2 = *num2,*num1</code>交换两个变量的值</li>
</ul>
</li>
<li>
<p>作为结构体字段，可以修改结构体内的变量值</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-23-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-23-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-23-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-23-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-23-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-23-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-23-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-23-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-23-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-23-10">10</a></span>
<span class="normal"><a href="#__codelineno-23-11">11</a></span>
<span class="normal"><a href="#__codelineno-23-12">12</a></span>
<span class="normal"><a href="#__codelineno-23-13">13</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-23-1" name="__codelineno-23-1"></a><span class="kd">type</span><span class="w"> </span><span class="nx">Person</span><span class="w"> </span><span class="kd">struct</span><span class="p">{</span>
<a id="__codelineno-23-2" name="__codelineno-23-2"></a><span class="w">    </span><span class="nx">name</span><span class="w"> </span><span class="kt">string</span>
<a id="__codelineno-23-3" name="__codelineno-23-3"></a><span class="w">    </span><span class="nx">age</span><span class="w"> </span><span class="kt">int</span>
<a id="__codelineno-23-4" name="__codelineno-23-4"></a><span class="p">}</span>
<a id="__codelineno-23-5" name="__codelineno-23-5"></a><span class="kd">func</span><span class="w"> </span><span class="nx">main</span><span class="p">(){</span>
<a id="__codelineno-23-6" name="__codelineno-23-6"></a><span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nx">p</span><span class="w"> </span><span class="nx">Person</span>
<a id="__codelineno-23-7" name="__codelineno-23-7"></a><span class="w">    </span><span class="nx">p</span><span class="p">.</span><span class="nx">name</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&quot;tom&quot;</span>
<a id="__codelineno-23-8" name="__codelineno-23-8"></a><span class="w">    </span><span class="nx">p</span><span class="p">.</span><span class="nx">age</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="mi">20</span>
<a id="__codelineno-23-9" name="__codelineno-23-9"></a><span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nx">ptr</span><span class="w"> </span><span class="o">*</span><span class="nx">Person</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="o">&amp;</span><span class="nx">p</span>
<a id="__codelineno-23-10" name="__codelineno-23-10"></a><span class="w">    </span><span class="nx">ptr</span><span class="p">.</span><span class="nx">name</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&quot;jack&quot;</span>
<a id="__codelineno-23-11" name="__codelineno-23-11"></a><span class="w">    </span><span class="nx">ptr</span><span class="p">.</span><span class="nx">age</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="mi">30</span>
<a id="__codelineno-23-12" name="__codelineno-23-12"></a><span class="w">    </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="o">*</span><span class="nx">ptr</span><span class="p">)</span>
<a id="__codelineno-23-13" name="__codelineno-23-13"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<p>输出</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-24-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-24-1" name="__codelineno-24-1"></a><span class="o">{</span>jack<span class="w"> </span><span class="m">30</span><span class="o">}</span>
</code></pre></div></td></tr></table></div>
<ul>
<li><code>var ptr *Person = &amp;p</code>获取结构体p的内存地址，赋值给ptr</li>
<li><code>ptr.name = "jack"</code>修改结构体内的name的值</li>
<li><code>ptr.age = 30</code>修改结构体内的age的值</li>
<li><code>fmt.Println(*ptr)</code>打印结构体内的name和age的值</li>
</ul>
</li>
</ol>
<h2 id="_7">匿名函数<a class="headerlink" href="#_7" title="Permanent link">&para;</a></h2>
<p>如果某一个函数只希望使用一次的时候，可以考虑使用匿名函数</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-25-1">1</a></span>
<span class="normal"><a href="#__codelineno-25-2">2</a></span>
<span class="normal"><a href="#__codelineno-25-3">3</a></span>
<span class="normal"><a href="#__codelineno-25-4">4</a></span>
<span class="normal"><a href="#__codelineno-25-5">5</a></span>
<span class="normal"><a href="#__codelineno-25-6">6</a></span>
<span class="normal"><a href="#__codelineno-25-7">7</a></span>
<span class="normal"><a href="#__codelineno-25-8">8</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-25-1" name="__codelineno-25-1"></a><span class="kn">package</span><span class="w"> </span><span class="nx">main</span>
<a id="__codelineno-25-2" name="__codelineno-25-2"></a><span class="kn">import</span><span class="w"> </span><span class="s">&quot;fmt&quot;</span>
<a id="__codelineno-25-3" name="__codelineno-25-3"></a><span class="kd">func</span><span class="w"> </span><span class="nx">main</span><span class="p">(){</span>
<a id="__codelineno-25-4" name="__codelineno-25-4"></a><span class="w">    </span><span class="c1">//匿名函数</span>
<a id="__codelineno-25-5" name="__codelineno-25-5"></a><span class="w">    </span><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">n1</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="nx">n2</span><span class="w"> </span><span class="kt">int</span><span class="p">){</span>
<a id="__codelineno-25-6" name="__codelineno-25-6"></a><span class="w">        </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="nx">n1</span><span class="o">+</span><span class="nx">n2</span><span class="p">)</span>
<a id="__codelineno-25-7" name="__codelineno-25-7"></a><span class="w">    </span><span class="p">}(</span><span class="mi">10</span><span class="p">,</span><span class="mi">20</span><span class="p">)</span>
<a id="__codelineno-25-8" name="__codelineno-25-8"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<p>输出</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-26-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-26-1" name="__codelineno-26-1"></a><span class="m">30</span>
</code></pre></div></td></tr></table></div>
<ul>
<li><code>(n1 int , n2 int)</code>定义匿名函数，参数为两个int类型</li>
<li><code>(10,20)</code>调用匿名函数，传入两个参数</li>
</ul>
<h3 id="_8">匿名函数可以赋值给一个变量，通过变量调用<a class="headerlink" href="#_8" title="Permanent link">&para;</a></h3>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-27-1">1</a></span>
<span class="normal"><a href="#__codelineno-27-2">2</a></span>
<span class="normal"><a href="#__codelineno-27-3">3</a></span>
<span class="normal"><a href="#__codelineno-27-4">4</a></span>
<span class="normal"><a href="#__codelineno-27-5">5</a></span>
<span class="normal"><a href="#__codelineno-27-6">6</a></span>
<span class="normal"><a href="#__codelineno-27-7">7</a></span>
<span class="normal"><a href="#__codelineno-27-8">8</a></span>
<span class="normal"><a href="#__codelineno-27-9">9</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-27-1" name="__codelineno-27-1"></a><span class="kn">package</span><span class="w"> </span><span class="nx">main</span>
<a id="__codelineno-27-2" name="__codelineno-27-2"></a><span class="kn">import</span><span class="w"> </span><span class="s">&quot;fmt&quot;</span>
<a id="__codelineno-27-3" name="__codelineno-27-3"></a><span class="kd">func</span><span class="w"> </span><span class="nx">main</span><span class="p">(){</span>
<a id="__codelineno-27-4" name="__codelineno-27-4"></a><span class="w">    </span><span class="c1">//匿名函数</span>
<a id="__codelineno-27-5" name="__codelineno-27-5"></a><span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nx">fun</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">n1</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="nx">n2</span><span class="w"> </span><span class="kt">int</span><span class="p">){</span>
<a id="__codelineno-27-6" name="__codelineno-27-6"></a><span class="w">        </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="nx">n1</span><span class="o">+</span><span class="nx">n2</span><span class="p">)</span>
<a id="__codelineno-27-7" name="__codelineno-27-7"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-27-8" name="__codelineno-27-8"></a><span class="w">    </span><span class="nx">fun</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">20</span><span class="p">)</span>
<a id="__codelineno-27-9" name="__codelineno-27-9"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<p>输出</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-28-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-28-1" name="__codelineno-28-1"></a><span class="m">30</span>
</code></pre></div></td></tr></table></div>
<ul>
<li><code>var fun = func (n1 int , n2 int)</code>定义匿名函数，赋值给变量fun</li>
<li><code>fun(10,20)</code>调用匿名函数，传入两个参数</li>
</ul>
<p><em>好蠢的写法，为什么不直接写成函数</em>。</p>
<h3 id="_9">匿名函数可以作为返回值<a class="headerlink" href="#_9" title="Permanent link">&para;</a></h3>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-29-1">1</a></span>
<span class="normal"><a href="#__codelineno-29-2">2</a></span>
<span class="normal"><a href="#__codelineno-29-3">3</a></span>
<span class="normal"><a href="#__codelineno-29-4">4</a></span>
<span class="normal"><a href="#__codelineno-29-5">5</a></span>
<span class="normal"><a href="#__codelineno-29-6">6</a></span>
<span class="normal"><a href="#__codelineno-29-7">7</a></span>
<span class="normal"><a href="#__codelineno-29-8">8</a></span>
<span class="normal"><a href="#__codelineno-29-9">9</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-29-1" name="__codelineno-29-1"></a><span class="kn">package</span><span class="w"> </span><span class="nx">main</span>
<a id="__codelineno-29-2" name="__codelineno-29-2"></a><span class="kn">import</span><span class="w"> </span><span class="s">&quot;fmt&quot;</span>
<a id="__codelineno-29-3" name="__codelineno-29-3"></a><span class="kd">func</span><span class="w"> </span><span class="nx">main</span><span class="p">(){</span>
<a id="__codelineno-29-4" name="__codelineno-29-4"></a><span class="w">    </span><span class="c1">//匿名函数</span>
<a id="__codelineno-29-5" name="__codelineno-29-5"></a><span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nx">fun</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">n1</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="nx">n2</span><span class="w"> </span><span class="kt">int</span><span class="p">)</span><span class="w"> </span><span class="kt">int</span><span class="p">{</span>
<a id="__codelineno-29-6" name="__codelineno-29-6"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="nx">n1</span><span class="o">+</span><span class="nx">n2</span>
<a id="__codelineno-29-7" name="__codelineno-29-7"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-29-8" name="__codelineno-29-8"></a><span class="w">    </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="nx">fun</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">20</span><span class="p">))</span>
<a id="__codelineno-29-9" name="__codelineno-29-9"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<p>输出</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-30-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-30-1" name="__codelineno-30-1"></a><span class="m">30</span>
</code></pre></div></td></tr></table></div>
<ul>
<li><code>var fun = func (n1 int , n2 int) int</code>定义匿名函数，返回值为int类型</li>
<li><code>fmt.Println(fun(10,20))</code>调用匿名函数，传入两个参数，并打印返回值</li>
</ul>
<h3 id="_10">如何让一个匿名函数在全局中都能用<a class="headerlink" href="#_10" title="Permanent link">&para;</a></h3>
<p>直接给一个全局变量就OK了</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-31-1">1</a></span>
<span class="normal"><a href="#__codelineno-31-2">2</a></span>
<span class="normal"><a href="#__codelineno-31-3">3</a></span>
<span class="normal"><a href="#__codelineno-31-4">4</a></span>
<span class="normal"><a href="#__codelineno-31-5">5</a></span>
<span class="normal"><a href="#__codelineno-31-6">6</a></span>
<span class="normal"><a href="#__codelineno-31-7">7</a></span>
<span class="normal"><a href="#__codelineno-31-8">8</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-31-1" name="__codelineno-31-1"></a><span class="kn">package</span><span class="w"> </span><span class="nx">main</span>
<a id="__codelineno-31-2" name="__codelineno-31-2"></a><span class="kn">import</span><span class="w"> </span><span class="s">&quot;fmt&quot;</span>
<a id="__codelineno-31-3" name="__codelineno-31-3"></a><span class="kd">var</span><span class="w"> </span><span class="nx">fun</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">n1</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="nx">n2</span><span class="w"> </span><span class="kt">int</span><span class="p">)</span><span class="w"> </span><span class="kt">int</span><span class="p">{</span>
<a id="__codelineno-31-4" name="__codelineno-31-4"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">n1</span><span class="o">+</span><span class="nx">n2</span>
<a id="__codelineno-31-5" name="__codelineno-31-5"></a><span class="p">}</span>
<a id="__codelineno-31-6" name="__codelineno-31-6"></a><span class="kd">func</span><span class="w"> </span><span class="nx">main</span><span class="p">(){</span>
<a id="__codelineno-31-7" name="__codelineno-31-7"></a><span class="w">    </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="nx">fun</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">20</span><span class="p">))</span>
<a id="__codelineno-31-8" name="__codelineno-31-8"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<p>输出</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-32-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-32-1" name="__codelineno-32-1"></a><span class="m">30</span>
</code></pre></div></td></tr></table></div>
<ul>
<li><code>var fun = func (n1 int , n2 int) int</code>定义匿名函数，返回值为int类型</li>
<li><code>fmt.Println(fun(10,20))</code>调用匿名函数，传入两个参数，并打印返回值</li>
</ul>
<h2 id="_11">闭包<a class="headerlink" href="#_11" title="Permanent link">&para;</a></h2>
<p>闭包就是一个函数和其相关的引用环境组合而成的一个整体</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-33-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-33-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-33-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-33-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-33-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-33-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-33-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-33-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-33-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-33-10">10</a></span>
<span class="normal"><a href="#__codelineno-33-11">11</a></span>
<span class="normal"><a href="#__codelineno-33-12">12</a></span>
<span class="normal"><a href="#__codelineno-33-13">13</a></span>
<span class="normal"><a href="#__codelineno-33-14">14</a></span>
<span class="normal"><a href="#__codelineno-33-15">15</a></span>
<span class="normal"><a href="#__codelineno-33-16">16</a></span>
<span class="normal"><a href="#__codelineno-33-17">17</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-33-1" name="__codelineno-33-1"></a><span class="kn">package</span><span class="w"> </span><span class="nx">main</span>
<a id="__codelineno-33-2" name="__codelineno-33-2"></a><span class="kn">import</span><span class="w"> </span><span class="s">&quot;fmt&quot;</span>
<a id="__codelineno-33-3" name="__codelineno-33-3"></a><span class="kd">func</span><span class="w"> </span><span class="nx">getsum</span><span class="p">()</span><span class="w"> </span><span class="kd">func</span><span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="w"> </span><span class="kt">int</span><span class="p">{</span>
<a id="__codelineno-33-4" name="__codelineno-33-4"></a><span class="w">    </span><span class="c1">//返回值为一个函数，且这个函数的参数是一个int类型的参数，返回值也是一个int类型的参数</span>
<a id="__codelineno-33-5" name="__codelineno-33-5"></a><span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nx">n</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="mi">10</span>
<a id="__codelineno-33-6" name="__codelineno-33-6"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="kd">func</span><span class="p">(</span><span class="nx">num</span><span class="w"> </span><span class="kt">int</span><span class="p">)</span><span class="w"> </span><span class="kt">int</span><span class="p">{</span>
<a id="__codelineno-33-7" name="__codelineno-33-7"></a><span class="w">        </span><span class="nx">n</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="nx">num</span>
<a id="__codelineno-33-8" name="__codelineno-33-8"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="nx">n</span>
<a id="__codelineno-33-9" name="__codelineno-33-9"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-33-10" name="__codelineno-33-10"></a><span class="w">    </span><span class="c1">//返回了一个匿名函数，这个函数返回一个int类型的参数，接受一个int类型的参数</span>
<a id="__codelineno-33-11" name="__codelineno-33-11"></a><span class="p">}</span>
<a id="__codelineno-33-12" name="__codelineno-33-12"></a>
<a id="__codelineno-33-13" name="__codelineno-33-13"></a><span class="kd">func</span><span class="w"> </span><span class="nx">main</span><span class="p">(){</span>
<a id="__codelineno-33-14" name="__codelineno-33-14"></a><span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nx">f</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">getsum</span><span class="p">()</span>
<a id="__codelineno-33-15" name="__codelineno-33-15"></a><span class="w">    </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="nx">f</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
<a id="__codelineno-33-16" name="__codelineno-33-16"></a><span class="w">    </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="nx">f</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>
<a id="__codelineno-33-17" name="__codelineno-33-17"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<p>输出</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-34-1">1</a></span>
<span class="normal"><a href="#__codelineno-34-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-34-1" name="__codelineno-34-1"></a><span class="m">11</span>
<a id="__codelineno-34-2" name="__codelineno-34-2"></a><span class="m">13</span>
</code></pre></div></td></tr></table></div>
<p>闭包：返回的匿名函数+匿名函数以外的变量（与其相关的引用）=闭包</p>
<p>匿名函数中应用的那个变量会一直保存在内存中，可以一直使用，不会被释放</p>
<p>闭包的本质依旧是一个匿名函数，只是它需要外部的变量（外面的数值），匿名函数+引用的参数和变量====闭包</p>
<p>特点</p>
<ol>
<li>返回一个匿名函数，匿名函数引用到外部的变量</li>
<li>匿名函数的参数和变量，会一直保存在内存中，不会被释放</li>
</ol>
<p>所以闭包不能滥用，对内存消耗大</p>
<p>如果不适用闭包呢？</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-35-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-35-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-35-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-35-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-35-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-35-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-35-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-35-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-35-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-35-10">10</a></span>
<span class="normal"><a href="#__codelineno-35-11">11</a></span>
<span class="normal"><a href="#__codelineno-35-12">12</a></span>
<span class="normal"><a href="#__codelineno-35-13">13</a></span>
<span class="normal"><a href="#__codelineno-35-14">14</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-35-1" name="__codelineno-35-1"></a><span class="kn">package</span><span class="w"> </span><span class="nx">main</span>
<a id="__codelineno-35-2" name="__codelineno-35-2"></a><span class="kn">import</span><span class="w"> </span><span class="s">&quot;fmt&quot;</span>
<a id="__codelineno-35-3" name="__codelineno-35-3"></a><span class="kd">func</span><span class="w"> </span><span class="nx">getsum</span><span class="p">(</span><span class="nx">n</span><span class="w"> </span><span class="kt">int</span><span class="p">)</span><span class="w">  </span><span class="kt">int</span><span class="p">{</span>
<a id="__codelineno-35-4" name="__codelineno-35-4"></a><span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nx">sum</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="mi">0</span>
<a id="__codelineno-35-5" name="__codelineno-35-5"></a><span class="w">    </span><span class="nx">sum</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">sum</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">n</span>
<a id="__codelineno-35-6" name="__codelineno-35-6"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">sum</span>
<a id="__codelineno-35-7" name="__codelineno-35-7"></a><span class="p">}</span>
<a id="__codelineno-35-8" name="__codelineno-35-8"></a>
<a id="__codelineno-35-9" name="__codelineno-35-9"></a><span class="kd">func</span><span class="w"> </span><span class="nx">main</span><span class="p">(){</span>
<a id="__codelineno-35-10" name="__codelineno-35-10"></a><span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nx">f1</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">getsum</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<a id="__codelineno-35-11" name="__codelineno-35-11"></a><span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nx">f2</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">getsum</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span>
<a id="__codelineno-35-12" name="__codelineno-35-12"></a><span class="w">    </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="nx">f1</span><span class="p">)</span>
<a id="__codelineno-35-13" name="__codelineno-35-13"></a><span class="w">    </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="nx">f2</span><span class="p">)</span>
<a id="__codelineno-35-14" name="__codelineno-35-14"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<p>输出</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-36-1">1</a></span>
<span class="normal"><a href="#__codelineno-36-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-36-1" name="__codelineno-36-1"></a><span class="m">11</span>
<a id="__codelineno-36-2" name="__codelineno-36-2"></a><span class="m">21</span>
</code></pre></div></td></tr></table></div>
<p>这样就不会有闭包的问题了</p>
<p>不适用闭包的时候，我想你保留的值不能反复使用，只能一次性使用</p>
<p>闭包则可以保留上次应用的值，可以传入一次反复使用</p>
<h2 id="defer">defer语句<a class="headerlink" href="#defer" title="Permanent link">&para;</a></h2>
<p>为了在函数执行完以后，及时四方资源，Go的设计者提供defer语句</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-37-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-37-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-37-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-37-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-37-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-37-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-37-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-37-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-37-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-37-10">10</a></span>
<span class="normal"><a href="#__codelineno-37-11">11</a></span>
<span class="normal"><a href="#__codelineno-37-12">12</a></span>
<span class="normal"><a href="#__codelineno-37-13">13</a></span>
<span class="normal"><a href="#__codelineno-37-14">14</a></span>
<span class="normal"><a href="#__codelineno-37-15">15</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-37-1" name="__codelineno-37-1"></a><span class="kn">package</span><span class="w"> </span><span class="nx">main</span>
<a id="__codelineno-37-2" name="__codelineno-37-2"></a><span class="kn">import</span><span class="w"> </span><span class="s">&quot;fmt&quot;</span>
<a id="__codelineno-37-3" name="__codelineno-37-3"></a><span class="kd">func</span><span class="w"> </span><span class="nx">add</span><span class="p">(</span><span class="nx">num1</span><span class="w"> </span><span class="kt">int</span><span class="p">,</span><span class="nx">num2</span><span class="w"> </span><span class="kt">int</span><span class="p">)</span><span class="kt">int</span><span class="p">{</span>
<a id="__codelineno-37-4" name="__codelineno-37-4"></a><span class="w">    </span><span class="k">defer</span><span class="w"> </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="s">&quot;num1&quot;</span><span class="p">,</span><span class="nx">num1</span><span class="p">)</span>
<a id="__codelineno-37-5" name="__codelineno-37-5"></a><span class="w">    </span><span class="k">defer</span><span class="w"> </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="s">&quot;num2&quot;</span><span class="p">,</span><span class="nx">num2</span><span class="p">)</span>
<a id="__codelineno-37-6" name="__codelineno-37-6"></a>
<a id="__codelineno-37-7" name="__codelineno-37-7"></a><span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nx">sum</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">num1</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">num2</span>
<a id="__codelineno-37-8" name="__codelineno-37-8"></a><span class="w">    </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="s">&quot;sum&quot;</span><span class="p">,</span><span class="nx">sum</span><span class="p">)</span>
<a id="__codelineno-37-9" name="__codelineno-37-9"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">sum</span>
<a id="__codelineno-37-10" name="__codelineno-37-10"></a><span class="p">}</span>
<a id="__codelineno-37-11" name="__codelineno-37-11"></a><span class="kd">func</span><span class="w"> </span><span class="nx">main</span><span class="p">(){</span>
<a id="__codelineno-37-12" name="__codelineno-37-12"></a><span class="w">    </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="s">&quot;start&quot;</span><span class="p">)</span>
<a id="__codelineno-37-13" name="__codelineno-37-13"></a><span class="w">    </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="nx">add</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">20</span><span class="p">))</span>
<a id="__codelineno-37-14" name="__codelineno-37-14"></a><span class="w">    </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="s">&quot;end&quot;</span><span class="p">)</span>
<a id="__codelineno-37-15" name="__codelineno-37-15"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<p>遇到deffer之后的语句不会直接执行，需要被压入栈中，之后继续执行函数后面的语句。完事之后再从栈中取出语句执行</p>
<div class="admonition tip">
<p class="admonition-title">defer的执行顺序</p>
<p>栈的特点是先进后出,所以是先执行后面进去的，后执行先进去的</p>
</div>
<p>输出</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-38-1">1</a></span>
<span class="normal"><a href="#__codelineno-38-2">2</a></span>
<span class="normal"><a href="#__codelineno-38-3">3</a></span>
<span class="normal"><a href="#__codelineno-38-4">4</a></span>
<span class="normal"><a href="#__codelineno-38-5">5</a></span>
<span class="normal"><a href="#__codelineno-38-6">6</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-38-1" name="__codelineno-38-1"></a>start
<a id="__codelineno-38-2" name="__codelineno-38-2"></a>sum<span class="w"> </span><span class="m">30</span>
<a id="__codelineno-38-3" name="__codelineno-38-3"></a>num1<span class="w"> </span><span class="m">10</span>
<a id="__codelineno-38-4" name="__codelineno-38-4"></a>num2<span class="w"> </span><span class="m">20</span>
<a id="__codelineno-38-5" name="__codelineno-38-5"></a><span class="m">30</span>
<a id="__codelineno-38-6" name="__codelineno-38-6"></a>end
</code></pre></div></td></tr></table></div>
<ul>
<li><code>defer fmt.Println("num1",num1)</code>压入栈中，等待执行</li>
<li><code>defer fmt.Println("num2",num2)</code>压入栈中，等待执行</li>
<li><code>var sum int = num1 + num2</code>执行函数体内的语句，并计算sum的值</li>
<li><code>fmt.Println("sum",sum)</code>执行函数体内的语句，打印sum的值</li>
<li><code>return sum</code>返回sum的值，结束函数的执行</li>
<li><code>fmt.Println(add(10,20))</code>调用函数，打印返回值</li>
<li>最后执行<code>defer</code>语句，先进后出，先打印num2的值，再打印num1的值</li>
<li>然后是main函数执行<code>fmt.Println("add(10,20)")</code>，打印函数的返回值</li>
<li>最后执行<code>fmt.Println("end")</code>，打印end</li>
</ul>
<h3 id="_12">变动<a class="headerlink" href="#_12" title="Permanent link">&para;</a></h3>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-39-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-39-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-39-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-39-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-39-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-39-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-39-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-39-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-39-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-39-10">10</a></span>
<span class="normal"><a href="#__codelineno-39-11">11</a></span>
<span class="normal"><a href="#__codelineno-39-12">12</a></span>
<span class="normal"><a href="#__codelineno-39-13">13</a></span>
<span class="normal"><a href="#__codelineno-39-14">14</a></span>
<span class="normal"><a href="#__codelineno-39-15">15</a></span>
<span class="normal"><a href="#__codelineno-39-16">16</a></span>
<span class="normal"><a href="#__codelineno-39-17">17</a></span>
<span class="normal"><a href="#__codelineno-39-18">18</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-39-1" name="__codelineno-39-1"></a><span class="kn">package</span><span class="w"> </span><span class="nx">main</span>
<a id="__codelineno-39-2" name="__codelineno-39-2"></a><span class="kn">import</span><span class="w"> </span><span class="s">&quot;fmt&quot;</span>
<a id="__codelineno-39-3" name="__codelineno-39-3"></a><span class="kd">func</span><span class="w"> </span><span class="nx">add</span><span class="p">(</span><span class="nx">num1</span><span class="w"> </span><span class="kt">int</span><span class="p">,</span><span class="nx">num2</span><span class="w"> </span><span class="kt">int</span><span class="p">)</span><span class="kt">int</span><span class="p">{</span>
<a id="__codelineno-39-4" name="__codelineno-39-4"></a><span class="w">    </span><span class="k">defer</span><span class="w"> </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="s">&quot;num1&quot;</span><span class="p">,</span><span class="nx">num1</span><span class="p">)</span>
<a id="__codelineno-39-5" name="__codelineno-39-5"></a><span class="w">    </span><span class="k">defer</span><span class="w"> </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="s">&quot;num2&quot;</span><span class="p">,</span><span class="nx">num2</span><span class="p">)</span>
<a id="__codelineno-39-6" name="__codelineno-39-6"></a>
<a id="__codelineno-39-7" name="__codelineno-39-7"></a><span class="w">    </span><span class="nx">num1</span><span class="o">+=</span><span class="mi">10</span><span class="c1">//num1=20</span>
<a id="__codelineno-39-8" name="__codelineno-39-8"></a><span class="w">    </span><span class="nx">num2</span><span class="o">+=</span><span class="mi">20</span><span class="c1">//num2=40</span>
<a id="__codelineno-39-9" name="__codelineno-39-9"></a>
<a id="__codelineno-39-10" name="__codelineno-39-10"></a><span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nx">sum</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">num1</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">num2</span>
<a id="__codelineno-39-11" name="__codelineno-39-11"></a><span class="w">    </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="s">&quot;sum&quot;</span><span class="p">,</span><span class="nx">sum</span><span class="p">)</span>
<a id="__codelineno-39-12" name="__codelineno-39-12"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">sum</span>
<a id="__codelineno-39-13" name="__codelineno-39-13"></a><span class="p">}</span>
<a id="__codelineno-39-14" name="__codelineno-39-14"></a><span class="kd">func</span><span class="w"> </span><span class="nx">main</span><span class="p">(){</span>
<a id="__codelineno-39-15" name="__codelineno-39-15"></a><span class="w">    </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="s">&quot;start&quot;</span><span class="p">)</span>
<a id="__codelineno-39-16" name="__codelineno-39-16"></a><span class="w">    </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="nx">add</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">20</span><span class="p">))</span>
<a id="__codelineno-39-17" name="__codelineno-39-17"></a><span class="w">    </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="s">&quot;end&quot;</span><span class="p">)</span>
<a id="__codelineno-39-18" name="__codelineno-39-18"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<p>输出</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-40-1">1</a></span>
<span class="normal"><a href="#__codelineno-40-2">2</a></span>
<span class="normal"><a href="#__codelineno-40-3">3</a></span>
<span class="normal"><a href="#__codelineno-40-4">4</a></span>
<span class="normal"><a href="#__codelineno-40-5">5</a></span>
<span class="normal"><a href="#__codelineno-40-6">6</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-40-1" name="__codelineno-40-1"></a>start
<a id="__codelineno-40-2" name="__codelineno-40-2"></a>sum<span class="w"> </span><span class="m">60</span>
<a id="__codelineno-40-3" name="__codelineno-40-3"></a>num2<span class="w"> </span><span class="m">20</span>
<a id="__codelineno-40-4" name="__codelineno-40-4"></a>num1<span class="w"> </span><span class="m">10</span>
<a id="__codelineno-40-5" name="__codelineno-40-5"></a><span class="m">60</span>
<a id="__codelineno-40-6" name="__codelineno-40-6"></a>end
</code></pre></div></td></tr></table></div>
<p>压入栈之后输出的仍然是之前的值，实际上封存了一个现场，所以输出的是之前的值</p>
<h3 id="_13">应用场景<a class="headerlink" href="#_13" title="Permanent link">&para;</a></h3>
<p>比如你先关闭某个使用的资源，在使用的时候直接随手关闭defer压入，因为defer有延迟执行机制（函数执行完毕再执行defer压入栈的语句）</p>
<p>相当于你用完了资源，随手写了一个关闭，比较省心省事</p>
<h2 id="_14">字符串详解<a class="headerlink" href="#_14" title="Permanent link">&para;</a></h2>
<ol>
<li><code>len()</code>:内置函数，不需要导入包。用来获取字符串的长度，返回int类型。一个汉字对应三个字节</li>
<li><code>for  i ,  c  :=  range  str</code>:对字符串进行遍历循环</li>
<li>
<p><code>r:=[]rune(str)</code></p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-41-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-41-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-41-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-41-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-41-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-41-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-41-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-41-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-41-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-41-10">10</a></span>
<span class="normal"><a href="#__codelineno-41-11">11</a></span>
<span class="normal"><a href="#__codelineno-41-12">12</a></span>
<span class="normal"><a href="#__codelineno-41-13">13</a></span>
<span class="normal"><a href="#__codelineno-41-14">14</a></span>
<span class="normal"><a href="#__codelineno-41-15">15</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-41-1" name="__codelineno-41-1"></a><span class="kn">package</span><span class="w"> </span><span class="nx">main</span>
<a id="__codelineno-41-2" name="__codelineno-41-2"></a><span class="kn">import</span><span class="w"> </span><span class="s">&quot;fmt&quot;</span>
<a id="__codelineno-41-3" name="__codelineno-41-3"></a><span class="kd">var</span><span class="w"> </span><span class="nx">str</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&quot;Hello, 世界&quot;</span>
<a id="__codelineno-41-4" name="__codelineno-41-4"></a>
<a id="__codelineno-41-5" name="__codelineno-41-5"></a><span class="kd">func</span><span class="w"> </span><span class="nx">main</span><span class="p">(){</span>
<a id="__codelineno-41-6" name="__codelineno-41-6"></a><span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nx">i</span><span class="w"> </span><span class="kt">int</span>
<a id="__codelineno-41-7" name="__codelineno-41-7"></a><span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nx">c</span><span class="w"> </span><span class="kt">rune</span><span class="c1">//c 是一个 rune 类型变量，用来存储当前遍历到的字符。</span>
<a id="__codelineno-41-8" name="__codelineno-41-8"></a><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="nx">i</span><span class="p">,</span><span class="w"> </span><span class="nx">c</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">range</span><span class="w"> </span><span class="nx">str</span><span class="c1">//遍历str字符，range 在这里返回两个值，索引 i 和字符 c{</span>
<a id="__codelineno-41-9" name="__codelineno-41-9"></a><span class="w">        </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Printf</span><span class="p">(</span><span class="s">&quot;%d %c\n&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">i</span><span class="p">,</span><span class="w"> </span><span class="nx">c</span><span class="p">)</span>
<a id="__codelineno-41-10" name="__codelineno-41-10"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-41-11" name="__codelineno-41-11"></a><span class="w">    </span><span class="nx">r</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="p">[]</span><span class="nb">rune</span><span class="p">(</span><span class="nx">str</span><span class="p">)</span><span class="c1">//将字符串 str 转换为一个 rune 类型的切片 r。rune 类型在 Go 中用于表示 Unicode 字符，这对于正确处理多字节字符（如中文）是必要的</span>
<a id="__codelineno-41-12" name="__codelineno-41-12"></a><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="nx">i</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="nx">i</span><span class="w"> </span><span class="p">&lt;</span><span class="w"> </span><span class="nb">len</span><span class="p">(</span><span class="nx">r</span><span class="p">);</span><span class="w"> </span><span class="nx">i</span><span class="o">++</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-41-13" name="__codelineno-41-13"></a><span class="w">        </span><span class="c1">//这次是传统的计数器循环，用来遍历 rune 切片 r。</span>
<a id="__codelineno-41-14" name="__codelineno-41-14"></a><span class="w">        </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Printf</span><span class="p">(</span><span class="s">&quot;%c&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">r</span><span class="p">[</span><span class="nx">i</span><span class="p">])</span>
<a id="__codelineno-41-15" name="__codelineno-41-15"></a><span class="w">    </span><span class="p">}</span>
</code></pre></div></td></tr></table></div>
</li>
<li>
<p>字符串转换函数
    strconv.Atoi(s string)(i int, err error)传string得init</p>
<p>strconv.Itoa(i int)string 传init的string</p>
<p><code>strconv.Atoi</code> 函数尝试将一个字符串转换为 <code>int</code> 类型，但它的返回值实际上有两个：</p>
<ol>
<li>第一个返回值是转换后的 <code>int</code> 值。</li>
<li>第二个返回值是一个 <code>error</code> 值，表示转换过程中是否发生错误。</li>
</ol>
<p>如果转换成功，<code>error</code> 会是 <code>nil</code>；如果失败，<code>error</code> 会包含错误信息。</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-42-1">1</a></span>
<span class="normal"><a href="#__codelineno-42-2">2</a></span>
<span class="normal"><a href="#__codelineno-42-3">3</a></span>
<span class="normal"><a href="#__codelineno-42-4">4</a></span>
<span class="normal"><a href="#__codelineno-42-5">5</a></span>
<span class="normal"><a href="#__codelineno-42-6">6</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-42-1" name="__codelineno-42-1"></a><span class="kd">var</span><span class="w"> </span><span class="nx">num</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">strconv</span><span class="p">.</span><span class="nx">Atoi</span><span class="p">(</span><span class="s">&quot;123&quot;</span><span class="p">)</span>
<a id="__codelineno-42-2" name="__codelineno-42-2"></a><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-42-3" name="__codelineno-42-3"></a><span class="w">    </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="s">&quot;转换错误:&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="p">)</span>
<a id="__codelineno-42-4" name="__codelineno-42-4"></a><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-42-5" name="__codelineno-42-5"></a><span class="w">    </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="s">&quot;转换成功:&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">num</span><span class="p">)</span>
<a id="__codelineno-42-6" name="__codelineno-42-6"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<p>在这个修正后的代码中：</p>
<ul>
<li>我们使用两个变量 <code>num</code> 和 <code>err</code> 来接收 <code>strconv.Atoi</code> 的返回值。</li>
<li>使用 <code>if err != nil</code> 来检查是否有错误发生，如果有，打印错误信息。</li>
<li>如果没有错误，打印转换成功的整数值。</li>
</ul>
<p>这种错误处理是 Go 语言中常见的模式，确保你的代码能够优雅地处理潜在的错误情况。</p>
<p><em>当然，也可以直接num,_=strconv.Atoi("123")，第二个参数是错误信息，可以忽略</em>.</p>
</li>
<li>
<p>统计一个字符串有几个指定的字符串</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-43-1">1</a></span>
<span class="normal"><a href="#__codelineno-43-2">2</a></span>
<span class="normal"><a href="#__codelineno-43-3">3</a></span>
<span class="normal"><a href="#__codelineno-43-4">4</a></span>
<span class="normal"><a href="#__codelineno-43-5">5</a></span>
<span class="normal"><a href="#__codelineno-43-6">6</a></span>
<span class="normal"><a href="#__codelineno-43-7">7</a></span>
<span class="normal"><a href="#__codelineno-43-8">8</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-43-1" name="__codelineno-43-1"></a><span class="kn">package</span><span class="w"> </span><span class="nx">main</span>
<a id="__codelineno-43-2" name="__codelineno-43-2"></a><span class="kn">import</span><span class="w"> </span><span class="s">&quot;fmt&quot;</span>
<a id="__codelineno-43-3" name="__codelineno-43-3"></a><span class="kn">import</span><span class="w"> </span><span class="s">&quot;strings&quot;</span>
<a id="__codelineno-43-4" name="__codelineno-43-4"></a><span class="kd">func</span><span class="w"> </span><span class="nx">main</span><span class="p">(){</span>
<a id="__codelineno-43-5" name="__codelineno-43-5"></a><span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nx">str</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&quot;hello,world&quot;</span>
<a id="__codelineno-43-6" name="__codelineno-43-6"></a><span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nx">num</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">strings</span><span class="p">.</span><span class="nx">Count</span><span class="p">(</span><span class="nx">str</span><span class="p">,</span><span class="s">&quot;l&quot;</span><span class="p">)</span>
<a id="__codelineno-43-7" name="__codelineno-43-7"></a><span class="w">    </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="nx">num</span><span class="p">)</span>
<a id="__codelineno-43-8" name="__codelineno-43-8"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<p>输出</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-44-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-44-1" name="__codelineno-44-1"></a><span class="m">3</span>
</code></pre></div></td></tr></table></div>
<ul>
<li><code>strings.Count(str,"l")</code>统计字符串str中有几个l</li>
<li>输出3，因为字符串str中有三个l</li>
</ul>
</li>
<li>
<p>不分大小写进行字符串的比较
    string.EqualFold(s1,s2)比较两个字符串是否相等，不区分大小写</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-45-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-45-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-45-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-45-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-45-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-45-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-45-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-45-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-45-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-45-10">10</a></span>
<span class="normal"><a href="#__codelineno-45-11">11</a></span>
<span class="normal"><a href="#__codelineno-45-12">12</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-45-1" name="__codelineno-45-1"></a><span class="kn">package</span><span class="w"> </span><span class="nx">main</span>
<a id="__codelineno-45-2" name="__codelineno-45-2"></a><span class="kn">import</span><span class="w"> </span><span class="s">&quot;fmt&quot;</span>
<a id="__codelineno-45-3" name="__codelineno-45-3"></a><span class="kn">import</span><span class="w"> </span><span class="s">&quot;strings&quot;</span>
<a id="__codelineno-45-4" name="__codelineno-45-4"></a><span class="kd">func</span><span class="w"> </span><span class="nx">main</span><span class="p">(){</span>
<a id="__codelineno-45-5" name="__codelineno-45-5"></a><span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nx">str1</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&quot;Hello, world&quot;</span>
<a id="__codelineno-45-6" name="__codelineno-45-6"></a><span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nx">str2</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&quot;hello, WORLD&quot;</span>
<a id="__codelineno-45-7" name="__codelineno-45-7"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="nx">strings</span><span class="p">.</span><span class="nx">EqualFold</span><span class="p">(</span><span class="nx">str1</span><span class="p">,</span><span class="nx">str2</span><span class="p">){</span>
<a id="__codelineno-45-8" name="__codelineno-45-8"></a><span class="w">        </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="s">&quot;相等&quot;</span><span class="p">)</span>
<a id="__codelineno-45-9" name="__codelineno-45-9"></a><span class="w">    </span><span class="p">}</span><span class="k">else</span><span class="p">{</span>
<a id="__codelineno-45-10" name="__codelineno-45-10"></a><span class="w">        </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="s">&quot;不相等&quot;</span><span class="p">)</span>
<a id="__codelineno-45-11" name="__codelineno-45-11"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-45-12" name="__codelineno-45-12"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<p>输出</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-46-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-46-1" name="__codelineno-46-1"></a>相等
</code></pre></div></td></tr></table></div>
<ul>
<li><code>strings.EqualFold(str1,str2)</code>比较两个字符串是否相等，不区分大小写</li>
<li>输出相等，因为两个字符串的大小写不区分</li>
</ul>
</li>
<li>
<p>返回的子传在字符串中第一次出现的字符串，如果没有则返回-1</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-47-1">1</a></span>
<span class="normal"><a href="#__codelineno-47-2">2</a></span>
<span class="normal"><a href="#__codelineno-47-3">3</a></span>
<span class="normal"><a href="#__codelineno-47-4">4</a></span>
<span class="normal"><a href="#__codelineno-47-5">5</a></span>
<span class="normal"><a href="#__codelineno-47-6">6</a></span>
<span class="normal"><a href="#__codelineno-47-7">7</a></span>
<span class="normal"><a href="#__codelineno-47-8">8</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-47-1" name="__codelineno-47-1"></a><span class="kn">package</span><span class="w"> </span><span class="nx">main</span>
<a id="__codelineno-47-2" name="__codelineno-47-2"></a><span class="kn">import</span><span class="w"> </span><span class="s">&quot;fmt&quot;</span>
<a id="__codelineno-47-3" name="__codelineno-47-3"></a><span class="kn">import</span><span class="w"> </span><span class="s">&quot;strings&quot;</span>
<a id="__codelineno-47-4" name="__codelineno-47-4"></a><span class="kd">func</span><span class="w"> </span><span class="nx">main</span><span class="p">(){</span>
<a id="__codelineno-47-5" name="__codelineno-47-5"></a><span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nx">str</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&quot;hello,world&quot;</span>
<a id="__codelineno-47-6" name="__codelineno-47-6"></a><span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nx">index</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">strings</span><span class="p">.</span><span class="nx">Index</span><span class="p">(</span><span class="nx">str</span><span class="p">,</span><span class="s">&quot;l&quot;</span><span class="p">)</span>
<a id="__codelineno-47-7" name="__codelineno-47-7"></a><span class="w">    </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="nx">index</span><span class="p">)</span>
<a id="__codelineno-47-8" name="__codelineno-47-8"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<p>输出</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-48-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-48-1" name="__codelineno-48-1"></a><span class="m">2</span>
</code></pre></div></td></tr></table></div>
</li>
<li>
<p>字符串的替换：</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-49-1">1</a></span>
<span class="normal"><a href="#__codelineno-49-2">2</a></span>
<span class="normal"><a href="#__codelineno-49-3">3</a></span>
<span class="normal"><a href="#__codelineno-49-4">4</a></span>
<span class="normal"><a href="#__codelineno-49-5">5</a></span>
<span class="normal"><a href="#__codelineno-49-6">6</a></span>
<span class="normal"><a href="#__codelineno-49-7">7</a></span>
<span class="normal"><a href="#__codelineno-49-8">8</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-49-1" name="__codelineno-49-1"></a><span class="kn">package</span><span class="w"> </span><span class="nx">main</span>
<a id="__codelineno-49-2" name="__codelineno-49-2"></a><span class="kn">import</span><span class="w"> </span><span class="s">&quot;fmt&quot;</span>
<a id="__codelineno-49-3" name="__codelineno-49-3"></a><span class="kn">import</span><span class="w"> </span><span class="s">&quot;strings&quot;</span>
<a id="__codelineno-49-4" name="__codelineno-49-4"></a><span class="kd">func</span><span class="w"> </span><span class="nx">main</span><span class="p">(){</span>
<a id="__codelineno-49-5" name="__codelineno-49-5"></a><span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nx">str</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&quot;hello,world&quot;</span>
<a id="__codelineno-49-6" name="__codelineno-49-6"></a><span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nx">newstr</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">strings</span><span class="p">.</span><span class="nx">Replace</span><span class="p">(</span><span class="nx">str</span><span class="p">,</span><span class="s">&quot;l&quot;</span><span class="p">,</span><span class="s">&quot;*&quot;</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<a id="__codelineno-49-7" name="__codelineno-49-7"></a><span class="w">    </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="nx">newstr</span><span class="p">)</span>
<a id="__codelineno-49-8" name="__codelineno-49-8"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<p>输出</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-50-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-50-1" name="__codelineno-50-1"></a>he**o,wor*d
</code></pre></div></td></tr></table></div>
<ul>
<li><code>strings.Replace(str,"l","*",-1)</code>将字符串str中的l替为*，-1表示全部替换</li>
<li>输出he<em><em>o,wor</em>d，因为l被替换成了</em></li>
</ul>
</li>
<li>
<p>字符串按照字符的切割：</p>
<p>strings.Split(s string, sep string)[]string</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-51-1">1</a></span>
<span class="normal"><a href="#__codelineno-51-2">2</a></span>
<span class="normal"><a href="#__codelineno-51-3">3</a></span>
<span class="normal"><a href="#__codelineno-51-4">4</a></span>
<span class="normal"><a href="#__codelineno-51-5">5</a></span>
<span class="normal"><a href="#__codelineno-51-6">6</a></span>
<span class="normal"><a href="#__codelineno-51-7">7</a></span>
<span class="normal"><a href="#__codelineno-51-8">8</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-51-1" name="__codelineno-51-1"></a><span class="kn">package</span><span class="w"> </span><span class="nx">main</span>
<a id="__codelineno-51-2" name="__codelineno-51-2"></a><span class="kn">import</span><span class="w"> </span><span class="s">&quot;fmt&quot;</span>
<a id="__codelineno-51-3" name="__codelineno-51-3"></a><span class="kn">import</span><span class="w"> </span><span class="s">&quot;strings&quot;</span>
<a id="__codelineno-51-4" name="__codelineno-51-4"></a><span class="kd">func</span><span class="w"> </span><span class="nx">main</span><span class="p">(){</span>
<a id="__codelineno-51-5" name="__codelineno-51-5"></a><span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nx">str</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&quot;hello,world&quot;</span>
<a id="__codelineno-51-6" name="__codelineno-51-6"></a><span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nx">arr</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">strings</span><span class="p">.</span><span class="nx">Split</span><span class="p">(</span><span class="nx">str</span><span class="p">,</span><span class="s">&quot;,&quot;</span><span class="p">)</span>
<a id="__codelineno-51-7" name="__codelineno-51-7"></a><span class="w">    </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="nx">arr</span><span class="p">)</span><span class="c1">//用数组进行接受</span>
<a id="__codelineno-51-8" name="__codelineno-51-8"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<p>输出</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-52-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-52-1" name="__codelineno-52-1"></a><span class="o">[</span>hello<span class="w"> </span>world<span class="o">]</span>
</code></pre></div></td></tr></table></div>
<ul>
<li><code>strings.Split(str,",")</code>按照,切割字符串str，返回一个切片</li>
<li>输出[hello world]，因为字符串str被切割成了两个元素，第一个元素是hello，第二个元素是world</li>
</ul>
</li>
<li>
<p>大小写切换</p>
<p><code>strings.ToLower(s string)string</code>:小写切割</p>
<p><code>strings.ToUpper(s string)string</code>:大写切换</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-53-1">1</a></span>
<span class="normal"><a href="#__codelineno-53-2">2</a></span>
<span class="normal"><a href="#__codelineno-53-3">3</a></span>
<span class="normal"><a href="#__codelineno-53-4">4</a></span>
<span class="normal"><a href="#__codelineno-53-5">5</a></span>
<span class="normal"><a href="#__codelineno-53-6">6</a></span>
<span class="normal"><a href="#__codelineno-53-7">7</a></span>
<span class="normal"><a href="#__codelineno-53-8">8</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-53-1" name="__codelineno-53-1"></a><span class="kn">package</span><span class="w"> </span><span class="nx">main</span>
<a id="__codelineno-53-2" name="__codelineno-53-2"></a><span class="kn">import</span><span class="w"> </span><span class="s">&quot;fmt&quot;</span>
<a id="__codelineno-53-3" name="__codelineno-53-3"></a><span class="kn">import</span><span class="w"> </span><span class="s">&quot;strings&quot;</span>
<a id="__codelineno-53-4" name="__codelineno-53-4"></a><span class="kd">func</span><span class="w"> </span><span class="nx">main</span><span class="p">(){</span>
<a id="__codelineno-53-5" name="__codelineno-53-5"></a><span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nx">str</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&quot;Hello,world&quot;</span>
<a id="__codelineno-53-6" name="__codelineno-53-6"></a><span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nx">newstr</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">strings</span><span class="p">.</span><span class="nx">ToLower</span><span class="p">(</span><span class="nx">str</span><span class="p">)</span>
<a id="__codelineno-53-7" name="__codelineno-53-7"></a><span class="w">    </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="nx">newstr</span><span class="p">)</span>
<a id="__codelineno-53-8" name="__codelineno-53-8"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<p>输出</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-54-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-54-1" name="__codelineno-54-1"></a>hello,world
</code></pre></div></td></tr></table></div>
<ul>
<li><code>strings.ToLower(str)</code>将字符串str转换为小写</li>
<li>输出hello,world</li>
</ul>
</li>
<li>
<p>去掉字符传两边的空格</p>
<p><code>strings.TrimSpace(s string)string</code></p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-55-1">1</a></span>
<span class="normal"><a href="#__codelineno-55-2">2</a></span>
<span class="normal"><a href="#__codelineno-55-3">3</a></span>
<span class="normal"><a href="#__codelineno-55-4">4</a></span>
<span class="normal"><a href="#__codelineno-55-5">5</a></span>
<span class="normal"><a href="#__codelineno-55-6">6</a></span>
<span class="normal"><a href="#__codelineno-55-7">7</a></span>
<span class="normal"><a href="#__codelineno-55-8">8</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-55-1" name="__codelineno-55-1"></a><span class="kn">package</span><span class="w"> </span><span class="nx">main</span>
<a id="__codelineno-55-2" name="__codelineno-55-2"></a><span class="kn">import</span><span class="w"> </span><span class="s">&quot;fmt&quot;</span>
<a id="__codelineno-55-3" name="__codelineno-55-3"></a><span class="kn">import</span><span class="w"> </span><span class="s">&quot;strings&quot;</span>
<a id="__codelineno-55-4" name="__codelineno-55-4"></a><span class="kd">func</span><span class="w"> </span><span class="nx">main</span><span class="p">(){</span>
<a id="__codelineno-55-5" name="__codelineno-55-5"></a><span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nx">str</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&quot; hello,world &quot;</span>
<a id="__codelineno-55-6" name="__codelineno-55-6"></a><span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nx">newstr</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">strings</span><span class="p">.</span><span class="nx">TrimSpace</span><span class="p">(</span><span class="nx">str</span><span class="p">)</span>
<a id="__codelineno-55-7" name="__codelineno-55-7"></a><span class="w">    </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="nx">newstr</span><span class="p">)</span>
<a id="__codelineno-55-8" name="__codelineno-55-8"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<p>输出</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-56-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-56-1" name="__codelineno-56-1"></a>hello,world
</code></pre></div></td></tr></table></div>
<ul>
<li><code>strings.TrimSpace(str)</code>去掉字符串str两边的空格</li>
<li>输出hello,world</li>
</ul>
</li>
<li>
<p>字符串的拼接</p>
<p><code>strings.Join(a[]string,sep string)string</code></p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-57-1">1</a></span>
<span class="normal"><a href="#__codelineno-57-2">2</a></span>
<span class="normal"><a href="#__codelineno-57-3">3</a></span>
<span class="normal"><a href="#__codelineno-57-4">4</a></span>
<span class="normal"><a href="#__codelineno-57-5">5</a></span>
<span class="normal"><a href="#__codelineno-57-6">6</a></span>
<span class="normal"><a href="#__codelineno-57-7">7</a></span>
<span class="normal"><a href="#__codelineno-57-8">8</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-57-1" name="__codelineno-57-1"></a><span class="kn">package</span><span class="w"> </span><span class="nx">main</span>
<a id="__codelineno-57-2" name="__codelineno-57-2"></a><span class="kn">import</span><span class="w"> </span><span class="s">&quot;fmt&quot;</span>
<a id="__codelineno-57-3" name="__codelineno-57-3"></a><span class="kn">import</span><span class="w"> </span><span class="s">&quot;strings&quot;</span>
<a id="__codelineno-57-4" name="__codelineno-57-4"></a><span class="kd">func</span><span class="w"> </span><span class="nx">main</span><span class="p">(){</span>
<a id="__codelineno-57-5" name="__codelineno-57-5"></a><span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nx">arr</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">[]</span><span class="kt">string</span><span class="p">{</span><span class="s">&quot;hello&quot;</span><span class="p">,</span><span class="s">&quot;world&quot;</span><span class="p">}</span>
<a id="__codelineno-57-6" name="__codelineno-57-6"></a><span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nx">str</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">strings</span><span class="p">.</span><span class="nx">Join</span><span class="p">(</span><span class="nx">arr</span><span class="p">,</span><span class="s">&quot; &quot;</span><span class="p">)</span>
<a id="__codelineno-57-7" name="__codelineno-57-7"></a><span class="w">    </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="nx">str</span><span class="p">)</span>
<a id="__codelineno-57-8" name="__codelineno-57-8"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<p>输出</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-58-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-58-1" name="__codelineno-58-1"></a>hello<span class="w"> </span>world
</code></pre></div></td></tr></table></div>
<ul>
<li><code>strings.Join(arr," ")</code>将数组arr中的元素用空格拼接成一个字符串</li>
<li>输出hello world，因为数组arr中的元素用空格拼接成了字符串str</li>
</ul>
</li>
<li>
<p>字符串的比较</p>
<p><code>strings.Compare(s1,s2 string)int</code></p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-59-1">1</a></span>
<span class="normal"><a href="#__codelineno-59-2">2</a></span>
<span class="normal"><a href="#__codelineno-59-3">3</a></span>
<span class="normal"><a href="#__codelineno-59-4">4</a></span>
<span class="normal"><a href="#__codelineno-59-5">5</a></span>
<span class="normal"><a href="#__codelineno-59-6">6</a></span>
<span class="normal"><a href="#__codelineno-59-7">7</a></span>
<span class="normal"><a href="#__codelineno-59-8">8</a></span>
<span class="normal"><a href="#__codelineno-59-9">9</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-59-1" name="__codelineno-59-1"></a><span class="kn">package</span><span class="w"> </span><span class="nx">main</span>
<a id="__codelineno-59-2" name="__codelineno-59-2"></a><span class="kn">import</span><span class="w"> </span><span class="s">&quot;fmt&quot;</span>
<a id="__codelineno-59-3" name="__codelineno-59-3"></a><span class="kn">import</span><span class="w"> </span><span class="s">&quot;strings&quot;</span>
<a id="__codelineno-59-4" name="__codelineno-59-4"></a><span class="kd">func</span><span class="w"> </span><span class="nx">main</span><span class="p">(){</span>
<a id="__codelineno-59-5" name="__codelineno-59-5"></a><span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nx">str1</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&quot;hello,world&quot;</span>
<a id="__codelineno-59-6" name="__codelineno-59-6"></a><span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nx">str2</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&quot;hello,world&quot;</span>
<a id="__codelineno-59-7" name="__codelineno-59-7"></a><span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nx">res</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">strings</span><span class="p">.</span><span class="nx">Compare</span><span class="p">(</span><span class="nx">str1</span><span class="p">,</span><span class="nx">str2</span><span class="p">)</span>
<a id="__codelineno-59-8" name="__codelineno-59-8"></a><span class="w">    </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span>
<a id="__codelineno-59-9" name="__codelineno-59-9"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<p>输出</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-60-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-60-1" name="__codelineno-60-1"></a><span class="m">0</span>
</code></pre></div></td></tr></table></div>
<ul>
<li><code>strings.Compare(str1,str2)</code>比较两个字符串是否相等</li>
<li>输出0，因为两个字符串相等</li>
</ul>
</li>
<li>
<p>去除字符串左右两边指定的字符串</p>
<p><code>strings.Trim(s string,cutset string)string</code>两边</p>
<p><code>strings.TrimLeft(s string,cutset string)string</code>左边</p>
<p><code>strings.TrimRight(s string,cutset string)string</code>右边</p>
<p>例如：</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-61-1">1</a></span>
<span class="normal"><a href="#__codelineno-61-2">2</a></span>
<span class="normal"><a href="#__codelineno-61-3">3</a></span>
<span class="normal"><a href="#__codelineno-61-4">4</a></span>
<span class="normal"><a href="#__codelineno-61-5">5</a></span>
<span class="normal"><a href="#__codelineno-61-6">6</a></span>
<span class="normal"><a href="#__codelineno-61-7">7</a></span>
<span class="normal"><a href="#__codelineno-61-8">8</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-61-1" name="__codelineno-61-1"></a><span class="kn">package</span><span class="w"> </span><span class="nx">main</span>
<a id="__codelineno-61-2" name="__codelineno-61-2"></a><span class="kn">import</span><span class="w"> </span><span class="s">&quot;fmt&quot;</span>
<a id="__codelineno-61-3" name="__codelineno-61-3"></a><span class="kn">import</span><span class="w"> </span><span class="s">&quot;strings&quot;</span>
<a id="__codelineno-61-4" name="__codelineno-61-4"></a><span class="kd">func</span><span class="w"> </span><span class="nx">main</span><span class="p">(){</span>
<a id="__codelineno-61-5" name="__codelineno-61-5"></a><span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nx">str</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&quot;hello,world&quot;</span>
<a id="__codelineno-61-6" name="__codelineno-61-6"></a><span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nx">newstr</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">strings</span><span class="p">.</span><span class="nx">Trim</span><span class="p">(</span><span class="nx">str</span><span class="p">,</span><span class="s">&quot;h&quot;</span><span class="p">)</span>
<a id="__codelineno-61-7" name="__codelineno-61-7"></a><span class="w">    </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="nx">newstr</span><span class="p">)</span>
<a id="__codelineno-61-8" name="__codelineno-61-8"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<p>输出</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-62-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-62-1" name="__codelineno-62-1"></a>ello,world
</code></pre></div></td></tr></table></div>
<ul>
<li><code>strings.Trim(str,"h")</code>去掉字符串str两边的h</li>
<li>输出ello,world</li>
</ul>
</li>
<li>
<p>判断是否为指定的字符串开头/结尾</p>
<p><code>strings.HasPrefix(s,prefix string)bool</code>判断是否为指定的字符串开头</p>
<p><code>strings.HasSuffix(s,suffix string)bool</code>判断是否为指定的字符串结尾</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-63-1">1</a></span>
<span class="normal"><a href="#__codelineno-63-2">2</a></span>
<span class="normal"><a href="#__codelineno-63-3">3</a></span>
<span class="normal"><a href="#__codelineno-63-4">4</a></span>
<span class="normal"><a href="#__codelineno-63-5">5</a></span>
<span class="normal"><a href="#__codelineno-63-6">6</a></span>
<span class="normal"><a href="#__codelineno-63-7">7</a></span>
<span class="normal"><a href="#__codelineno-63-8">8</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-63-1" name="__codelineno-63-1"></a><span class="kn">package</span><span class="w"> </span><span class="nx">main</span>
<a id="__codelineno-63-2" name="__codelineno-63-2"></a><span class="kn">import</span><span class="w"> </span><span class="s">&quot;fmt&quot;</span>
<a id="__codelineno-63-3" name="__codelineno-63-3"></a><span class="kn">import</span><span class="w"> </span><span class="s">&quot;strings&quot;</span>
<a id="__codelineno-63-4" name="__codelineno-63-4"></a><span class="kd">func</span><span class="w"> </span><span class="nx">main</span><span class="p">(){</span>
<a id="__codelineno-63-5" name="__codelineno-63-5"></a><span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nx">str</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&quot;hello,world&quot;</span>
<a id="__codelineno-63-6" name="__codelineno-63-6"></a><span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nx">res</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">strings</span><span class="p">.</span><span class="nx">HasPrefix</span><span class="p">(</span><span class="nx">str</span><span class="p">,</span><span class="s">&quot;h&quot;</span><span class="p">)</span>
<a id="__codelineno-63-7" name="__codelineno-63-7"></a><span class="w">    </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span>
<a id="__codelineno-63-8" name="__codelineno-63-8"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<p>输出</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-64-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-64-1" name="__codelineno-64-1"></a><span class="nb">true</span>
</code></pre></div></td></tr></table></div>
<ul>
<li><code>strings.HasPrefix(str,"h")</code>判断字符串str是否以h开头</li>
<li>输出true，因为字符串str以h开头</li>
</ul>
</li>
<li>
<p>字符串的拆分</p>
<p><code>strings.Fields(s string)[]string</code></p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-65-1">1</a></span>
<span class="normal"><a href="#__codelineno-65-2">2</a></span>
<span class="normal"><a href="#__codelineno-65-3">3</a></span>
<span class="normal"><a href="#__codelineno-65-4">4</a></span>
<span class="normal"><a href="#__codelineno-65-5">5</a></span>
<span class="normal"><a href="#__codelineno-65-6">6</a></span>
<span class="normal"><a href="#__codelineno-65-7">7</a></span>
<span class="normal"><a href="#__codelineno-65-8">8</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-65-1" name="__codelineno-65-1"></a><span class="kn">package</span><span class="w"> </span><span class="nx">main</span>
<a id="__codelineno-65-2" name="__codelineno-65-2"></a><span class="kn">import</span><span class="w"> </span><span class="s">&quot;fmt&quot;</span>
<a id="__codelineno-65-3" name="__codelineno-65-3"></a><span class="kn">import</span><span class="w"> </span><span class="s">&quot;strings&quot;</span>
<a id="__codelineno-65-4" name="__codelineno-65-4"></a><span class="kd">func</span><span class="w"> </span><span class="nx">main</span><span class="p">(){</span>
<a id="__codelineno-65-5" name="__codelineno-65-5"></a><span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nx">str</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&quot;hello,world&quot;</span>
<a id="__codelineno-65-6" name="__codelineno-65-6"></a><span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nx">arr</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">strings</span><span class="p">.</span><span class="nx">Fields</span><span class="p">(</span><span class="nx">str</span><span class="p">)</span>
<a id="__codelineno-65-7" name="__codelineno-65-7"></a><span class="w">    </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="nx">arr</span><span class="p">)</span>
<a id="__codelineno-65-8" name="__codelineno-65-8"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<p>输出</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-66-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-66-1" name="__codelineno-66-1"></a><span class="o">[</span>hello<span class="w"> </span>world<span class="o">]</span>
</code></pre></div></td></tr></table></div>
<ul>
<li><code>strings.Fields(str)</code>将字符串str按照空格拆分成一个切片</li>
<li>输出[hello world]，因为字符串str被拆分成了两个元素，第一个元素是hello，第二个元素是world</li>
</ul>
</li>
<li>
<p>字符串的复制</p>
<p><code>strings.Repeat(s string,count int)string</code></p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-67-1">1</a></span>
<span class="normal"><a href="#__codelineno-67-2">2</a></span>
<span class="normal"><a href="#__codelineno-67-3">3</a></span>
<span class="normal"><a href="#__codelineno-67-4">4</a></span>
<span class="normal"><a href="#__codelineno-67-5">5</a></span>
<span class="normal"><a href="#__codelineno-67-6">6</a></span>
<span class="normal"><a href="#__codelineno-67-7">7</a></span>
<span class="normal"><a href="#__codelineno-67-8">8</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-67-1" name="__codelineno-67-1"></a><span class="kn">package</span><span class="w"> </span><span class="nx">main</span>
<a id="__codelineno-67-2" name="__codelineno-67-2"></a><span class="kn">import</span><span class="w"> </span><span class="s">&quot;fmt&quot;</span>
<a id="__codelineno-67-3" name="__codelineno-67-3"></a><span class="kn">import</span><span class="w"> </span><span class="s">&quot;strings&quot;</span>
<a id="__codelineno-67-4" name="__codelineno-67-4"></a><span class="kd">func</span><span class="w"> </span><span class="nx">main</span><span class="p">(){</span>
<a id="__codelineno-67-5" name="__codelineno-67-5"></a><span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nx">str</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&quot;hello,world&quot;</span>
<a id="__codelineno-67-6" name="__codelineno-67-6"></a><span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nx">newstr</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">strings</span><span class="p">.</span><span class="nx">Repeat</span><span class="p">(</span><span class="nx">str</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
<a id="__codelineno-67-7" name="__codelineno-67-7"></a><span class="w">    </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="nx">newstr</span><span class="p">)</span>
<a id="__codelineno-67-8" name="__codelineno-67-8"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<p>输出</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-68-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-68-1" name="__codelineno-68-1"></a>hello,worldhello,worldhello,world
</code></pre></div></td></tr></table></div>
<ul>
<li><code>strings.Repeat(str,3)</code>将字符串str重复3次</li>
<li>输出hello,worldhello,worldhello,world</li>
</ul>
</li>
</ol>
<h2 id="_15">时间和日期的比较<a class="headerlink" href="#_15" title="Permanent link">&para;</a></h2>
<p>首先，需要导入time包，要获取当前时间，可以使用<code>time.Now()</code>函数</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-69-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-69-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-69-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-69-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-69-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-69-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-69-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-69-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-69-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-69-10">10</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-69-1" name="__codelineno-69-1"></a><span class="kn">package</span><span class="w"> </span><span class="nx">main</span>
<a id="__codelineno-69-2" name="__codelineno-69-2"></a><span class="kn">import</span><span class="w"> </span><span class="p">(</span>
<a id="__codelineno-69-3" name="__codelineno-69-3"></a><span class="w">    </span><span class="s">&quot;fmt&quot;</span>
<a id="__codelineno-69-4" name="__codelineno-69-4"></a><span class="w">    </span><span class="s">&quot;time&quot;</span>
<a id="__codelineno-69-5" name="__codelineno-69-5"></a><span class="p">)</span>
<a id="__codelineno-69-6" name="__codelineno-69-6"></a>
<a id="__codelineno-69-7" name="__codelineno-69-7"></a><span class="kd">func</span><span class="w"> </span><span class="nx">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-69-8" name="__codelineno-69-8"></a><span class="w">    </span><span class="nx">now</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">time</span><span class="p">.</span><span class="nx">Now</span><span class="p">()</span>
<a id="__codelineno-69-9" name="__codelineno-69-9"></a><span class="w">    </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="nx">now</span><span class="p">)</span>
<a id="__codelineno-69-10" name="__codelineno-69-10"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<p>输出</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-70-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-70-1" name="__codelineno-70-1"></a><span class="m">2021</span>-12-12<span class="w"> </span><span class="m">15</span>:30:23.123456789<span class="w"> </span>+0800<span class="w"> </span>CST<span class="w"> </span><span class="nv">m</span><span class="o">=</span>+0.000000001
</code></pre></div></td></tr></table></div>
<ul>
<li><code>time.Now()</code>获取当前时间</li>
<li><code>fmt.Println(now)</code>打印当前时间</li>
</ul>
<p>获取指定时间</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-71-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-71-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-71-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-71-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-71-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-71-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-71-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-71-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-71-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-71-10">10</a></span>
<span class="normal"><a href="#__codelineno-71-11">11</a></span>
<span class="normal"><a href="#__codelineno-71-12">12</a></span>
<span class="normal"><a href="#__codelineno-71-13">13</a></span>
<span class="normal"><a href="#__codelineno-71-14">14</a></span>
<span class="normal"><a href="#__codelineno-71-15">15</a></span>
<span class="normal"><a href="#__codelineno-71-16">16</a></span>
<span class="normal"><a href="#__codelineno-71-17">17</a></span>
<span class="normal"><a href="#__codelineno-71-18">18</a></span>
<span class="normal"><a href="#__codelineno-71-19">19</a></span>
<span class="normal"><a href="#__codelineno-71-20">20</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-71-1" name="__codelineno-71-1"></a><span class="kn">package</span><span class="w"> </span><span class="nx">main</span>
<a id="__codelineno-71-2" name="__codelineno-71-2"></a><span class="kn">import</span><span class="w"> </span><span class="p">(</span>
<a id="__codelineno-71-3" name="__codelineno-71-3"></a><span class="w">    </span><span class="s">&quot;fmt&quot;</span>
<a id="__codelineno-71-4" name="__codelineno-71-4"></a><span class="w">    </span><span class="s">&quot;time&quot;</span>
<a id="__codelineno-71-5" name="__codelineno-71-5"></a><span class="p">)</span>
<a id="__codelineno-71-6" name="__codelineno-71-6"></a>
<a id="__codelineno-71-7" name="__codelineno-71-7"></a><span class="kd">func</span><span class="w"> </span><span class="nx">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-71-8" name="__codelineno-71-8"></a><span class="w">    </span><span class="nx">now</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">time</span><span class="p">.</span><span class="nx">Now</span><span class="p">()</span>
<a id="__codelineno-71-9" name="__codelineno-71-9"></a><span class="w">    </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="nx">now</span><span class="p">)</span>
<a id="__codelineno-71-10" name="__codelineno-71-10"></a>
<a id="__codelineno-71-11" name="__codelineno-71-11"></a><span class="w">    </span><span class="nx">year</span><span class="p">,</span><span class="w"> </span><span class="nx">month</span><span class="p">,</span><span class="w"> </span><span class="nx">day</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">now</span><span class="p">.</span><span class="nx">Date</span><span class="p">()</span>
<a id="__codelineno-71-12" name="__codelineno-71-12"></a><span class="w">    </span><span class="nx">hour</span><span class="p">,</span><span class="w"> </span><span class="nx">minute</span><span class="p">,</span><span class="w"> </span><span class="nx">second</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">now</span><span class="p">.</span><span class="nx">Clock</span><span class="p">()</span>
<a id="__codelineno-71-13" name="__codelineno-71-13"></a><span class="w">    </span><span class="nx">year</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">now</span><span class="p">.</span><span class="nx">Year</span><span class="p">()</span>
<a id="__codelineno-71-14" name="__codelineno-71-14"></a><span class="w">    </span><span class="nx">month</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nb">int</span><span class="p">(</span><span class="nx">now</span><span class="p">.</span><span class="nx">Month</span><span class="p">())</span>
<a id="__codelineno-71-15" name="__codelineno-71-15"></a><span class="w">    </span><span class="nx">day</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">now</span><span class="p">.</span><span class="nx">Day</span><span class="p">()</span>
<a id="__codelineno-71-16" name="__codelineno-71-16"></a><span class="w">    </span><span class="nx">hour</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">now</span><span class="p">.</span><span class="nx">Hour</span><span class="p">()</span>
<a id="__codelineno-71-17" name="__codelineno-71-17"></a><span class="w">    </span><span class="nx">minute</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">now</span><span class="p">.</span><span class="nx">Minute</span><span class="p">()</span>
<a id="__codelineno-71-18" name="__codelineno-71-18"></a><span class="w">    </span><span class="nx">second</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">now</span><span class="p">.</span><span class="nx">Second</span><span class="p">()</span><span class="c1">//调用结构体中的方法</span>
<a id="__codelineno-71-19" name="__codelineno-71-19"></a><span class="w">    </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Printf</span><span class="p">(</span><span class="s">&quot;year:%d,month:%d,day:%d,hour:%d,minute:%d,second:%d\n&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">year</span><span class="p">,</span><span class="w"> </span><span class="nx">month</span><span class="p">,</span><span class="w"> </span><span class="nx">day</span><span class="p">,</span><span class="w"> </span><span class="nx">hour</span><span class="p">,</span><span class="w"> </span><span class="nx">minute</span><span class="p">,</span><span class="w"> </span><span class="nx">second</span><span class="p">)</span>
<a id="__codelineno-71-20" name="__codelineno-71-20"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<p>输出</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-72-1">1</a></span>
<span class="normal"><a href="#__codelineno-72-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-72-1" name="__codelineno-72-1"></a><span class="m">2024</span>-06-24<span class="w"> </span><span class="m">21</span>:27:39.0311174<span class="w"> </span>+0800<span class="w"> </span>CST<span class="w"> </span><span class="nv">m</span><span class="o">=</span>+0.002217701
<a id="__codelineno-72-2" name="__codelineno-72-2"></a>year:2024,month:6,day:24,hour:21,minute:27,second:39
</code></pre></div></td></tr></table></div>
<p>now函数返回的是一个结构体，可以通过<code>now.Date()</code>获取年月日，<code>now.Clock()</code>获取时分秒</p>
<p>对应的类型是<code>time.Time</code>，可以通过<code>time.Time</code>的方法获取年月日时分秒</p>
<p>甚至可以直接<code>int(time.month())</code>获取数字月份</p>
<h3 id="_16">日期的格式化<a class="headerlink" href="#_16" title="Permanent link">&para;</a></h3>
<ol>
<li>
<p>将日期以年月日时分秒按照格式输出位字符串的形式</p>
<p>我们可以用<code>fmt.Sprintf</code>函数来格式化日期</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-73-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-73-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-73-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-73-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-73-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-73-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-73-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-73-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-73-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-73-10">10</a></span>
<span class="normal"><a href="#__codelineno-73-11">11</a></span>
<span class="normal"><a href="#__codelineno-73-12">12</a></span>
<span class="normal"><a href="#__codelineno-73-13">13</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-73-1" name="__codelineno-73-1"></a><span class="kn">package</span><span class="w"> </span><span class="nx">main</span>
<a id="__codelineno-73-2" name="__codelineno-73-2"></a><span class="kn">import</span><span class="w"> </span><span class="p">(</span>
<a id="__codelineno-73-3" name="__codelineno-73-3"></a><span class="w">    </span><span class="s">&quot;fmt&quot;</span>
<a id="__codelineno-73-4" name="__codelineno-73-4"></a><span class="w">    </span><span class="s">&quot;time&quot;</span>
<a id="__codelineno-73-5" name="__codelineno-73-5"></a><span class="p">)</span>
<a id="__codelineno-73-6" name="__codelineno-73-6"></a>
<a id="__codelineno-73-7" name="__codelineno-73-7"></a><span class="kd">func</span><span class="w"> </span><span class="nx">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-73-8" name="__codelineno-73-8"></a><span class="w">    </span><span class="nx">now</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">time</span><span class="p">.</span><span class="nx">Now</span><span class="p">()</span>
<a id="__codelineno-73-9" name="__codelineno-73-9"></a><span class="w">    </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="nx">now</span><span class="p">)</span>
<a id="__codelineno-73-10" name="__codelineno-73-10"></a>
<a id="__codelineno-73-11" name="__codelineno-73-11"></a><span class="w">    </span><span class="nx">str</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Sprintf</span><span class="p">(</span><span class="s">&quot;%d-%02d-%02d %02d:%02d:%02d&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">now</span><span class="p">.</span><span class="nx">Year</span><span class="p">(),</span><span class="w"> </span><span class="nx">now</span><span class="p">.</span><span class="nx">Month</span><span class="p">(),</span><span class="w"> </span><span class="nx">now</span><span class="p">.</span><span class="nx">Day</span><span class="p">(),</span><span class="w"> </span><span class="nx">now</span><span class="p">.</span><span class="nx">Hour</span><span class="p">(),</span><span class="w"> </span><span class="nx">now</span><span class="p">.</span><span class="nx">Minute</span><span class="p">(),</span><span class="w"> </span><span class="nx">now</span><span class="p">.</span><span class="nx">Second</span><span class="p">())</span>
<a id="__codelineno-73-12" name="__codelineno-73-12"></a><span class="w">    </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="nx">str</span><span class="p">)</span>
<a id="__codelineno-73-13" name="__codelineno-73-13"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<p>输出</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-74-1">1</a></span>
<span class="normal"><a href="#__codelineno-74-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-74-1" name="__codelineno-74-1"></a><span class="m">2024</span>-06-24<span class="w"> </span><span class="m">21</span>:27:39.0311174<span class="w"> </span>+0800<span class="w"> </span>CST<span class="w"> </span><span class="nv">m</span><span class="o">=</span>+0.002217701
<a id="__codelineno-74-2" name="__codelineno-74-2"></a><span class="m">2024</span>-06-24<span class="w"> </span><span class="m">21</span>:27:39
</code></pre></div></td></tr></table></div>
<ul>
<li><code>fmt.Sprintf("%d-%02d-%02d %02d:%02d:%02d", now.Year(), now.Month(), now.Day(), now.Hour(), now.Minute(), now.Second())</code>格式化日期</li>
</ul>
<p><code>printf</code>和<code>sprintf</code>的区别:</p>
<ul>
<li><code>Sprintf</code>：<code>fmt.Sprintf</code> 函数将格式化的字符串作为返回值返回，不直接打印到控制台或任何输出流。</li>
<li><code>printf</code>：<code>fmt.Printf</code> 函数将格式化的字符串打印到标准输出（通常是控制台），不返回值。</li>
</ul>
</li>
<li>
<p>指定一个具体的格式
    <code>now.Format("2006-01-02 15:04:05")</code></p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-75-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-75-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-75-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-75-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-75-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-75-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-75-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-75-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-75-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-75-10">10</a></span>
<span class="normal"><a href="#__codelineno-75-11">11</a></span>
<span class="normal"><a href="#__codelineno-75-12">12</a></span>
<span class="normal"><a href="#__codelineno-75-13">13</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-75-1" name="__codelineno-75-1"></a><span class="kn">package</span><span class="w"> </span><span class="nx">main</span>
<a id="__codelineno-75-2" name="__codelineno-75-2"></a><span class="kn">import</span><span class="w"> </span><span class="p">(</span>
<a id="__codelineno-75-3" name="__codelineno-75-3"></a><span class="w">    </span><span class="s">&quot;fmt&quot;</span>
<a id="__codelineno-75-4" name="__codelineno-75-4"></a><span class="w">    </span><span class="s">&quot;time&quot;</span>
<a id="__codelineno-75-5" name="__codelineno-75-5"></a><span class="p">)</span>
<a id="__codelineno-75-6" name="__codelineno-75-6"></a>
<a id="__codelineno-75-7" name="__codelineno-75-7"></a><span class="kd">func</span><span class="w"> </span><span class="nx">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-75-8" name="__codelineno-75-8"></a><span class="w">    </span><span class="nx">now</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">time</span><span class="p">.</span><span class="nx">Now</span><span class="p">()</span>
<a id="__codelineno-75-9" name="__codelineno-75-9"></a><span class="w">    </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="nx">now</span><span class="p">)</span>
<a id="__codelineno-75-10" name="__codelineno-75-10"></a>
<a id="__codelineno-75-11" name="__codelineno-75-11"></a><span class="w">    </span><span class="nx">str</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">now</span><span class="p">.</span><span class="nx">Format</span><span class="p">(</span><span class="s">&quot;2006-01-02 15:04:05&quot;</span><span class="p">)</span>
<a id="__codelineno-75-12" name="__codelineno-75-12"></a><span class="w">    </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="nx">str</span><span class="p">)</span>
<a id="__codelineno-75-13" name="__codelineno-75-13"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<p>输出</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-76-1">1</a></span>
<span class="normal"><a href="#__codelineno-76-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-76-1" name="__codelineno-76-1"></a><span class="m">2024</span>-06-24<span class="w"> </span><span class="m">21</span>:27:39.0311174<span class="w"> </span>+0800<span class="w"> </span>CST<span class="w"> </span><span class="nv">m</span><span class="o">=</span>+0.002217701
<a id="__codelineno-76-2" name="__codelineno-76-2"></a><span class="m">2024</span>-06-24<span class="w"> </span><span class="m">21</span>:27:39
</code></pre></div></td></tr></table></div>
<ul>
<li><code>now.Format("2006-01-02 15:04:05")</code>指定日期的格式，输出为<code>2024-06-24 21:27:39</code></li>
<li>这个格式是固定的，不能随便写，字符串中各个数字必须是固定的，不能随便写。</li>
</ul>
</li>
</ol>
<h2 id="_17">内置函数<a class="headerlink" href="#_17" title="Permanent link">&para;</a></h2>
<blockquote>
<p>字符串的<code>len()</code>就是一个内置函数，api中在buildin里面</p>
</blockquote>
<p>常用的内置函数</p>
<ol>
<li>
<p>new()函数:分配内存</p>
<p>返回值是第一个实参对应的指针</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-77-1">1</a></span>
<span class="normal"><a href="#__codelineno-77-2">2</a></span>
<span class="normal"><a href="#__codelineno-77-3">3</a></span>
<span class="normal"><a href="#__codelineno-77-4">4</a></span>
<span class="normal"><a href="#__codelineno-77-5">5</a></span>
<span class="normal"><a href="#__codelineno-77-6">6</a></span>
<span class="normal"><a href="#__codelineno-77-7">7</a></span>
<span class="normal"><a href="#__codelineno-77-8">8</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-77-1" name="__codelineno-77-1"></a><span class="kn">package</span><span class="w"> </span><span class="nx">main</span>
<a id="__codelineno-77-2" name="__codelineno-77-2"></a><span class="kn">import</span><span class="w"> </span><span class="s">&quot;fmt&quot;</span>
<a id="__codelineno-77-3" name="__codelineno-77-3"></a>
<a id="__codelineno-77-4" name="__codelineno-77-4"></a><span class="kd">func</span><span class="w"> </span><span class="nx">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-77-5" name="__codelineno-77-5"></a><span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nx">num</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nb">new</span><span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="c1">//实参是一个类型而不是具体数值</span>
<a id="__codelineno-77-6" name="__codelineno-77-6"></a><span class="w">    </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Printf</span><span class="p">(</span><span class="s">&quot;num的类型:%T,num的值是%v,num的地址是%v,num指向的值是%v&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">num</span><span class="p">,</span><span class="w"> </span><span class="nx">num</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="nx">num</span><span class="p">,</span><span class="o">*</span><span class="nx">num</span><span class="p">)</span><span class="c1">//num对应的是一个int类型的指针</span>
<a id="__codelineno-77-7" name="__codelineno-77-7"></a><span class="w">    </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="o">*</span><span class="nx">num</span><span class="p">)</span>
<a id="__codelineno-77-8" name="__codelineno-77-8"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<p>输出</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-78-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-78-1" name="__codelineno-78-1"></a>num的类型:*int,num的值是0xc00000a0b8,num的地址是0xc000074028,num指向的值是00
</code></pre></div></td></tr></table></div>
<ul>
<li><code>var num = new(int)</code>分配一个int类型的内存，返回一个int类型的指针</li>
<li><code>fmt.Printf("num的类型:%T,num的值是%v,num的地址是%v,num指向的值是%v", num, num, &amp;num,*num)</code>打印num的类型、值、地址、指向的值</li>
<li><code>*num</code>解引用指针，获取指针指向的值</li>
<li>输出num的类型是*int，num的值是0xc00000a0b8，num的地址是0xc000074028，num指向的值是00
new()给基本的数据结构分配内存，make()给slice、map、chan分配内存</li>
</ul>
</li>
</ol>
<h2 id="_18">错误处理<a class="headerlink" href="#_18" title="Permanent link">&para;</a></h2>
<p>Go语言的错误处理机制是通过返回值来实现的，函数的返回值有两个部分，一个是返回值，一个是错误信息。</p>
<p>错误处理/错误捕获机制</p>
<p>go中追求代码的简洁优雅，所以引入机制:defer_recover的错误处理机制。</p>
<p>遇到defer，recover，panic三个关键字的时候，就要想到错误处理机制</p>
<p>在内置函数中就有一个recover，允许我们的程序管理panic。如果在defer函数中调用recover函数，可以捕获到panic的错误信息，然后正常处理。如果recover函数在defer函数之外调用，会直接返回nil</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-79-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-79-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-79-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-79-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-79-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-79-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-79-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-79-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-79-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-79-10">10</a></span>
<span class="normal"><a href="#__codelineno-79-11">11</a></span>
<span class="normal"><a href="#__codelineno-79-12">12</a></span>
<span class="normal"><a href="#__codelineno-79-13">13</a></span>
<span class="normal"><a href="#__codelineno-79-14">14</a></span>
<span class="normal"><a href="#__codelineno-79-15">15</a></span>
<span class="normal"><a href="#__codelineno-79-16">16</a></span>
<span class="normal"><a href="#__codelineno-79-17">17</a></span>
<span class="normal"><a href="#__codelineno-79-18">18</a></span>
<span class="normal"><a href="#__codelineno-79-19">19</a></span>
<span class="normal"><a href="#__codelineno-79-20">20</a></span>
<span class="normal"><a href="#__codelineno-79-21">21</a></span>
<span class="normal"><a href="#__codelineno-79-22">22</a></span>
<span class="normal"><a href="#__codelineno-79-23">23</a></span>
<span class="normal"><a href="#__codelineno-79-24">24</a></span>
<span class="normal"><a href="#__codelineno-79-25">25</a></span>
<span class="normal"><a href="#__codelineno-79-26">26</a></span>
<span class="normal"><a href="#__codelineno-79-27">27</a></span>
<span class="normal"><a href="#__codelineno-79-28">28</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-79-1" name="__codelineno-79-1"></a><span class="kn">package</span><span class="w"> </span><span class="nx">main</span>
<a id="__codelineno-79-2" name="__codelineno-79-2"></a>
<a id="__codelineno-79-3" name="__codelineno-79-3"></a><span class="kn">import</span><span class="w"> </span><span class="p">(</span>
<a id="__codelineno-79-4" name="__codelineno-79-4"></a><span class="w">    </span><span class="s">&quot;fmt&quot;</span>
<a id="__codelineno-79-5" name="__codelineno-79-5"></a><span class="p">)</span>
<a id="__codelineno-79-6" name="__codelineno-79-6"></a>
<a id="__codelineno-79-7" name="__codelineno-79-7"></a><span class="kd">func</span><span class="w"> </span><span class="nx">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-79-8" name="__codelineno-79-8"></a><span class="w">    </span><span class="nx">test</span><span class="p">()</span>
<a id="__codelineno-79-9" name="__codelineno-79-9"></a><span class="w">    </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="s">&quot;main函数&quot;</span><span class="p">)</span>
<a id="__codelineno-79-10" name="__codelineno-79-10"></a><span class="p">}</span>
<a id="__codelineno-79-11" name="__codelineno-79-11"></a>
<a id="__codelineno-79-12" name="__codelineno-79-12"></a><span class="kd">func</span><span class="w"> </span><span class="nx">test</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-79-13" name="__codelineno-79-13"></a><span class="w">    </span><span class="c1">//利用deffer+review来捕获错误</span>
<a id="__codelineno-79-14" name="__codelineno-79-14"></a><span class="w">    </span><span class="k">defer</span><span class="w"> </span><span class="kd">func</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-79-15" name="__codelineno-79-15"></a><span class="w">        </span><span class="c1">//调用recover函数，可以捕获到panic的错误信息</span>
<a id="__codelineno-79-16" name="__codelineno-79-16"></a><span class="w">        </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nb">recover</span><span class="p">()</span>
<a id="__codelineno-79-17" name="__codelineno-79-17"></a><span class="w">        </span><span class="c1">//如果没有捕获到错误，返回值为零值：nil</span>
<a id="__codelineno-79-18" name="__codelineno-79-18"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-79-19" name="__codelineno-79-19"></a><span class="w">            </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="s">&quot;test函数发生错误&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="p">)</span>
<a id="__codelineno-79-20" name="__codelineno-79-20"></a><span class="w">            </span><span class="c1">//如果捕获到错误，可以进行相应的处理</span>
<a id="__codelineno-79-21" name="__codelineno-79-21"></a><span class="w">            </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="s">&quot;error是&quot;</span><span class="p">,</span><span class="nx">err</span><span class="p">)</span>
<a id="__codelineno-79-22" name="__codelineno-79-22"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-79-23" name="__codelineno-79-23"></a><span class="w">    </span><span class="p">}()</span>
<a id="__codelineno-79-24" name="__codelineno-79-24"></a><span class="w">    </span><span class="nx">num1</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="mi">10</span>
<a id="__codelineno-79-25" name="__codelineno-79-25"></a><span class="w">    </span><span class="nx">num2</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="mi">0</span>
<a id="__codelineno-79-26" name="__codelineno-79-26"></a><span class="w">    </span><span class="nx">res</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">num1</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="nx">num2</span>
<a id="__codelineno-79-27" name="__codelineno-79-27"></a><span class="w">    </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span>
<a id="__codelineno-79-28" name="__codelineno-79-28"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<p>输出</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-80-1">1</a></span>
<span class="normal"><a href="#__codelineno-80-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-80-1" name="__codelineno-80-1"></a>test函数发生错误<span class="w"> </span>runtime<span class="w"> </span>error:<span class="w"> </span>integer<span class="w"> </span>divide<span class="w"> </span>by<span class="w"> </span>zero
<a id="__codelineno-80-2" name="__codelineno-80-2"></a>main函数
</code></pre></div></td></tr></table></div>
<p>发生了错误，但是后面仍然可以执行，不会让程序轻易地挂掉，提高了程序的健壮性。</p>
<h3 id="_19">自定义错误<a class="headerlink" href="#_19" title="Permanent link">&para;</a></h3>
<p>调用<code>errors.New()</code>函数，可以返回一个错误信息</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-81-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-81-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-81-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-81-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-81-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-81-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-81-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-81-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-81-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-81-10">10</a></span>
<span class="normal"><a href="#__codelineno-81-11">11</a></span>
<span class="normal"><a href="#__codelineno-81-12">12</a></span>
<span class="normal"><a href="#__codelineno-81-13">13</a></span>
<span class="normal"><a href="#__codelineno-81-14">14</a></span>
<span class="normal"><a href="#__codelineno-81-15">15</a></span>
<span class="normal"><a href="#__codelineno-81-16">16</a></span>
<span class="normal"><a href="#__codelineno-81-17">17</a></span>
<span class="normal"><a href="#__codelineno-81-18">18</a></span>
<span class="normal"><a href="#__codelineno-81-19">19</a></span>
<span class="normal"><a href="#__codelineno-81-20">20</a></span>
<span class="normal"><a href="#__codelineno-81-21">21</a></span>
<span class="normal"><a href="#__codelineno-81-22">22</a></span>
<span class="normal"><a href="#__codelineno-81-23">23</a></span>
<span class="normal"><a href="#__codelineno-81-24">24</a></span>
<span class="normal"><a href="#__codelineno-81-25">25</a></span>
<span class="normal"><a href="#__codelineno-81-26">26</a></span>
<span class="normal"><a href="#__codelineno-81-27">27</a></span>
<span class="normal"><a href="#__codelineno-81-28">28</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-81-1" name="__codelineno-81-1"></a><span class="kn">package</span><span class="w"> </span><span class="nx">main</span>
<a id="__codelineno-81-2" name="__codelineno-81-2"></a>
<a id="__codelineno-81-3" name="__codelineno-81-3"></a><span class="kn">import</span><span class="w"> </span><span class="p">(</span>
<a id="__codelineno-81-4" name="__codelineno-81-4"></a><span class="w">    </span><span class="s">&quot;errors&quot;</span>
<a id="__codelineno-81-5" name="__codelineno-81-5"></a><span class="w">    </span><span class="s">&quot;fmt&quot;</span>
<a id="__codelineno-81-6" name="__codelineno-81-6"></a><span class="p">)</span>
<a id="__codelineno-81-7" name="__codelineno-81-7"></a>
<a id="__codelineno-81-8" name="__codelineno-81-8"></a><span class="kd">func</span><span class="w"> </span><span class="nx">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-81-9" name="__codelineno-81-9"></a><span class="c1">//捕获错误</span>
<a id="__codelineno-81-10" name="__codelineno-81-10"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">test</span><span class="p">();</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-81-11" name="__codelineno-81-11"></a><span class="w">        </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span>
<a id="__codelineno-81-12" name="__codelineno-81-12"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-81-13" name="__codelineno-81-13"></a><span class="w">    </span><span class="nx">test</span><span class="p">()</span>
<a id="__codelineno-81-14" name="__codelineno-81-14"></a><span class="w">    </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="s">&quot;main函数&quot;</span><span class="p">)</span>
<a id="__codelineno-81-15" name="__codelineno-81-15"></a><span class="p">}</span>
<a id="__codelineno-81-16" name="__codelineno-81-16"></a>
<a id="__codelineno-81-17" name="__codelineno-81-17"></a><span class="kd">func</span><span class="w"> </span><span class="nx">test</span><span class="p">()</span><span class="w"> </span><span class="kt">error</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-81-18" name="__codelineno-81-18"></a><span class="w">    </span><span class="nx">num1</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="mi">10</span>
<a id="__codelineno-81-19" name="__codelineno-81-19"></a><span class="w">    </span><span class="nx">num2</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="mi">0</span>
<a id="__codelineno-81-20" name="__codelineno-81-20"></a><span class="w">    </span><span class="c1">//利用deffer+review来捕获错误</span>
<a id="__codelineno-81-21" name="__codelineno-81-21"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="nx">num2</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-81-22" name="__codelineno-81-22"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="nx">errors</span><span class="p">.</span><span class="nx">New</span><span class="p">(</span><span class="s">&quot;自定义错误&quot;</span><span class="p">)</span>
<a id="__codelineno-81-23" name="__codelineno-81-23"></a><span class="w">    </span><span class="p">}</span><span class="k">else</span><span class="p">{</span>
<a id="__codelineno-81-24" name="__codelineno-81-24"></a><span class="w">        </span><span class="nx">res</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">num1</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="nx">num2</span>
<a id="__codelineno-81-25" name="__codelineno-81-25"></a><span class="w">        </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span>
<a id="__codelineno-81-26" name="__codelineno-81-26"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-81-27" name="__codelineno-81-27"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="kc">nil</span>
<a id="__codelineno-81-28" name="__codelineno-81-28"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<p>输出</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-82-1">1</a></span>
<span class="normal"><a href="#__codelineno-82-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-82-1" name="__codelineno-82-1"></a>test函数发生错误<span class="w"> </span>runtime<span class="w"> </span>error:<span class="w"> </span>integer<span class="w"> </span>divide<span class="w"> </span>by<span class="w"> </span>zero
<a id="__codelineno-82-2" name="__codelineno-82-2"></a>main函数
</code></pre></div></td></tr></table></div>
<p>有一种情况，程序出现错误之后，代码就没有必要执行了，现在需要让程序中断，需要panic函数</p>
<h3 id="panic">panic函数<a class="headerlink" href="#panic" title="Permanent link">&para;</a></h3>
<p>调用了<code>panic()</code>函数，程序就会中断，不会继续执行</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-83-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-83-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-83-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-83-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-83-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-83-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-83-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-83-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-83-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-83-10">10</a></span>
<span class="normal"><a href="#__codelineno-83-11">11</a></span>
<span class="normal"><a href="#__codelineno-83-12">12</a></span>
<span class="normal"><a href="#__codelineno-83-13">13</a></span>
<span class="normal"><a href="#__codelineno-83-14">14</a></span>
<span class="normal"><a href="#__codelineno-83-15">15</a></span>
<span class="normal"><a href="#__codelineno-83-16">16</a></span>
<span class="normal"><a href="#__codelineno-83-17">17</a></span>
<span class="normal"><a href="#__codelineno-83-18">18</a></span>
<span class="normal"><a href="#__codelineno-83-19">19</a></span>
<span class="normal"><a href="#__codelineno-83-20">20</a></span>
<span class="normal"><a href="#__codelineno-83-21">21</a></span>
<span class="normal"><a href="#__codelineno-83-22">22</a></span>
<span class="normal"><a href="#__codelineno-83-23">23</a></span>
<span class="normal"><a href="#__codelineno-83-24">24</a></span>
<span class="normal"><a href="#__codelineno-83-25">25</a></span>
<span class="normal"><a href="#__codelineno-83-26">26</a></span>
<span class="normal"><a href="#__codelineno-83-27">27</a></span>
<span class="normal"><a href="#__codelineno-83-28">28</a></span>
<span class="normal"><a href="#__codelineno-83-29">29</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-83-1" name="__codelineno-83-1"></a><span class="kn">package</span><span class="w"> </span><span class="nx">main</span>
<a id="__codelineno-83-2" name="__codelineno-83-2"></a>
<a id="__codelineno-83-3" name="__codelineno-83-3"></a><span class="kn">import</span><span class="w"> </span><span class="p">(</span>
<a id="__codelineno-83-4" name="__codelineno-83-4"></a><span class="w">    </span><span class="s">&quot;errors&quot;</span>
<a id="__codelineno-83-5" name="__codelineno-83-5"></a><span class="w">    </span><span class="s">&quot;fmt&quot;</span>
<a id="__codelineno-83-6" name="__codelineno-83-6"></a><span class="p">)</span>
<a id="__codelineno-83-7" name="__codelineno-83-7"></a>
<a id="__codelineno-83-8" name="__codelineno-83-8"></a><span class="kd">func</span><span class="w"> </span><span class="nx">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-83-9" name="__codelineno-83-9"></a><span class="c1">//捕获错误</span>
<a id="__codelineno-83-10" name="__codelineno-83-10"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">test</span><span class="p">();</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-83-11" name="__codelineno-83-11"></a><span class="w">        </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span>
<a id="__codelineno-83-12" name="__codelineno-83-12"></a><span class="w">        </span><span class="nb">panic</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span>
<a id="__codelineno-83-13" name="__codelineno-83-13"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-83-14" name="__codelineno-83-14"></a><span class="w">    </span><span class="nx">test</span><span class="p">()</span>
<a id="__codelineno-83-15" name="__codelineno-83-15"></a><span class="w">    </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="s">&quot;main函数&quot;</span><span class="p">)</span>
<a id="__codelineno-83-16" name="__codelineno-83-16"></a><span class="p">}</span>
<a id="__codelineno-83-17" name="__codelineno-83-17"></a>
<a id="__codelineno-83-18" name="__codelineno-83-18"></a><span class="kd">func</span><span class="w"> </span><span class="nx">test</span><span class="p">()</span><span class="w"> </span><span class="kt">error</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-83-19" name="__codelineno-83-19"></a><span class="w">    </span><span class="nx">num1</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="mi">10</span>
<a id="__codelineno-83-20" name="__codelineno-83-20"></a><span class="w">    </span><span class="nx">num2</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="mi">0</span>
<a id="__codelineno-83-21" name="__codelineno-83-21"></a><span class="w">    </span><span class="c1">//利用deffer+review来捕获错误</span>
<a id="__codelineno-83-22" name="__codelineno-83-22"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="nx">num2</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-83-23" name="__codelineno-83-23"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="nx">errors</span><span class="p">.</span><span class="nx">New</span><span class="p">(</span><span class="s">&quot;自定义错误&quot;</span><span class="p">)</span>
<a id="__codelineno-83-24" name="__codelineno-83-24"></a><span class="w">    </span><span class="p">}</span><span class="k">else</span><span class="p">{</span>
<a id="__codelineno-83-25" name="__codelineno-83-25"></a><span class="w">        </span><span class="nx">res</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">num1</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="nx">num2</span>
<a id="__codelineno-83-26" name="__codelineno-83-26"></a><span class="w">        </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span>
<a id="__codelineno-83-27" name="__codelineno-83-27"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-83-28" name="__codelineno-83-28"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="kc">nil</span>
<a id="__codelineno-83-29" name="__codelineno-83-29"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<p>输出</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-84-1">1</a></span>
<span class="normal"><a href="#__codelineno-84-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-84-1" name="__codelineno-84-1"></a>test函数发生错误<span class="w"> </span>runtime<span class="w"> </span>error:<span class="w"> </span>integer<span class="w"> </span>divide<span class="w"> </span>by<span class="w"> </span>zero
<a id="__codelineno-84-2" name="__codelineno-84-2"></a>自定义错误
</code></pre></div></td></tr></table></div>
<p>程序中断，并打印了自定义的错误信息</p>
<p>主要就是两个函数：panic()和error包下的new函数</p>
<h2 id="_20">数组<a class="headerlink" href="#_20" title="Permanent link">&para;</a></h2>
<p>数组的定义:<code>var score [5]int</code></p>
<p>数组的初始化:<code>score := [5]int{100,80,90,70,80}</code></p>
<p>有四种初始化的方式</p>
<ul>
<li><code>var arr1 [3]int = [3]int{1,2,3}</code></li>
<li><code>var arr2 = [3]int{1,2,3}</code></li>
<li><code>var arr3 = [...]int{1,2,3}</code></li>
<li><code>var arr4 = [...]int{0:1,1:2,2:3}</code></li>
</ul>
<p>数组的长度:<code>len(score)</code>，返回数组的长度</p>
<p>数组的遍历:<code>for i := 0; i &lt; len(score); i++ {fmt.Println(score[i])}</code></p>
<p>数组的切片:<code>score1 := score[1:3]</code>，切片是一个引用类型，底层仍然指向原数组的内存地址</p>
<p>数组的拷贝:<code>score2 := score</code>，拷贝的是数组的值，而不是地址</p>
<p>数组的比较:<code>if score1 == score2 {fmt.Println("数组相等")}</code>，数组的比较是值的比较</p>
<p>数组的排序:<code>sort.Sort(sort.IntSlice(score))</code>，使用sort包中的IntSlice进行排序</p>
<h3 id="_21">数组的内存<a class="headerlink" href="#_21" title="Permanent link">&para;</a></h3>
<p><code>score</code>对应的地址和<code>score[0]</code>的地址一样，然后int规定下一个地址在两个字节之外，每一种数据结构都会开辟对应的内存空间</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-85-1">1</a></span>
<span class="normal"><a href="#__codelineno-85-2">2</a></span>
<span class="normal"><a href="#__codelineno-85-3">3</a></span>
<span class="normal"><a href="#__codelineno-85-4">4</a></span>
<span class="normal"><a href="#__codelineno-85-5">5</a></span>
<span class="normal"><a href="#__codelineno-85-6">6</a></span>
<span class="normal"><a href="#__codelineno-85-7">7</a></span>
<span class="normal"><a href="#__codelineno-85-8">8</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-85-1" name="__codelineno-85-1"></a><span class="kn">package</span><span class="w"> </span><span class="nx">main</span>
<a id="__codelineno-85-2" name="__codelineno-85-2"></a><span class="kn">import</span><span class="w"> </span><span class="s">&quot;fmt&quot;</span>
<a id="__codelineno-85-3" name="__codelineno-85-3"></a>
<a id="__codelineno-85-4" name="__codelineno-85-4"></a><span class="kd">func</span><span class="w"> </span><span class="nx">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-85-5" name="__codelineno-85-5"></a><span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nx">score</span><span class="w"> </span><span class="p">[</span><span class="mi">5</span><span class="p">]</span><span class="kt">int</span>
<a id="__codelineno-85-6" name="__codelineno-85-6"></a><span class="w">    </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Printf</span><span class="p">(</span><span class="s">&quot;score的地址是%p,score[0]的地址是%p\n&quot;</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="nx">score</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="nx">score</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<a id="__codelineno-85-7" name="__codelineno-85-7"></a><span class="w">    </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Printf</span><span class="p">(</span><span class="s">&quot;score的地址是%p,score[1]的地址是%p\n&quot;</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="nx">score</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="nx">score</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<a id="__codelineno-85-8" name="__codelineno-85-8"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<p>输出</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-86-1">1</a></span>
<span class="normal"><a href="#__codelineno-86-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-86-1" name="__codelineno-86-1"></a>score的地址是0xc000010070,score<span class="o">[</span><span class="m">0</span><span class="o">]</span>的地址是0xc000010070
<a id="__codelineno-86-2" name="__codelineno-86-2"></a>score的地址是0xc000010070,score<span class="o">[</span><span class="m">1</span><span class="o">]</span>的地址是0xc000010078
</code></pre></div></td></tr></table></div>
<p>数组存储的是地址，所以赋值的时候改变的是对应地址的存储内容。数组不存储具体的值</p>
<h3 id="_22">数组的遍历<a class="headerlink" href="#_22" title="Permanent link">&para;</a></h3>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-87-1">1</a></span>
<span class="normal"><a href="#__codelineno-87-2">2</a></span>
<span class="normal"><a href="#__codelineno-87-3">3</a></span>
<span class="normal"><a href="#__codelineno-87-4">4</a></span>
<span class="normal"><a href="#__codelineno-87-5">5</a></span>
<span class="normal"><a href="#__codelineno-87-6">6</a></span>
<span class="normal"><a href="#__codelineno-87-7">7</a></span>
<span class="normal"><a href="#__codelineno-87-8">8</a></span>
<span class="normal"><a href="#__codelineno-87-9">9</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-87-1" name="__codelineno-87-1"></a><span class="kn">package</span><span class="w"> </span><span class="nx">main</span>
<a id="__codelineno-87-2" name="__codelineno-87-2"></a><span class="kn">import</span><span class="w"> </span><span class="s">&quot;fmt&quot;</span>
<a id="__codelineno-87-3" name="__codelineno-87-3"></a>
<a id="__codelineno-87-4" name="__codelineno-87-4"></a><span class="kd">func</span><span class="w"> </span><span class="nx">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-87-5" name="__codelineno-87-5"></a><span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nx">score</span><span class="w"> </span><span class="p">[</span><span class="mi">5</span><span class="p">]</span><span class="kt">int</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">[</span><span class="mi">5</span><span class="p">]</span><span class="kt">int</span><span class="p">{</span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">80</span><span class="p">,</span><span class="w"> </span><span class="mi">90</span><span class="p">,</span><span class="w"> </span><span class="mi">70</span><span class="p">,</span><span class="w"> </span><span class="mi">80</span><span class="p">}</span>
<a id="__codelineno-87-6" name="__codelineno-87-6"></a><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="nx">i</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="nx">i</span><span class="w"> </span><span class="p">&lt;</span><span class="w"> </span><span class="nb">len</span><span class="p">(</span><span class="nx">score</span><span class="p">);</span><span class="w"> </span><span class="nx">i</span><span class="o">++</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-87-7" name="__codelineno-87-7"></a><span class="w">        </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="nx">score</span><span class="p">[</span><span class="nx">i</span><span class="p">])</span>
<a id="__codelineno-87-8" name="__codelineno-87-8"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-87-9" name="__codelineno-87-9"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<p>输出</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-88-1">1</a></span>
<span class="normal"><a href="#__codelineno-88-2">2</a></span>
<span class="normal"><a href="#__codelineno-88-3">3</a></span>
<span class="normal"><a href="#__codelineno-88-4">4</a></span>
<span class="normal"><a href="#__codelineno-88-5">5</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-88-1" name="__codelineno-88-1"></a><span class="m">100</span>
<a id="__codelineno-88-2" name="__codelineno-88-2"></a><span class="m">80</span>
<a id="__codelineno-88-3" name="__codelineno-88-3"></a><span class="m">90</span>
<a id="__codelineno-88-4" name="__codelineno-88-4"></a><span class="m">70</span>
<a id="__codelineno-88-5" name="__codelineno-88-5"></a><span class="m">80</span>
</code></pre></div></td></tr></table></div>
<p>这是常规的for循环，但是在Go语言中我们还有一种循环叫做键值循环</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-89-1">1</a></span>
<span class="normal"><a href="#__codelineno-89-2">2</a></span>
<span class="normal"><a href="#__codelineno-89-3">3</a></span>
<span class="normal"><a href="#__codelineno-89-4">4</a></span>
<span class="normal"><a href="#__codelineno-89-5">5</a></span>
<span class="normal"><a href="#__codelineno-89-6">6</a></span>
<span class="normal"><a href="#__codelineno-89-7">7</a></span>
<span class="normal"><a href="#__codelineno-89-8">8</a></span>
<span class="normal"><a href="#__codelineno-89-9">9</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-89-1" name="__codelineno-89-1"></a><span class="kn">package</span><span class="w"> </span><span class="nx">main</span>
<a id="__codelineno-89-2" name="__codelineno-89-2"></a><span class="kn">import</span><span class="w"> </span><span class="s">&quot;fmt&quot;</span>
<a id="__codelineno-89-3" name="__codelineno-89-3"></a>
<a id="__codelineno-89-4" name="__codelineno-89-4"></a><span class="kd">func</span><span class="w"> </span><span class="nx">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-89-5" name="__codelineno-89-5"></a><span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nx">score</span><span class="w"> </span><span class="p">[</span><span class="mi">5</span><span class="p">]</span><span class="kt">int</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">[</span><span class="mi">5</span><span class="p">]</span><span class="kt">int</span><span class="p">{</span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">80</span><span class="p">,</span><span class="w"> </span><span class="mi">90</span><span class="p">,</span><span class="w"> </span><span class="mi">70</span><span class="p">,</span><span class="w"> </span><span class="mi">80</span><span class="p">}</span>
<a id="__codelineno-89-6" name="__codelineno-89-6"></a><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="nx">key</span><span class="w"> </span><span class="p">,</span><span class="nx">value</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="k">range</span><span class="w"> </span><span class="nx">score</span><span class="c1">//想遍历的数组名 {</span>
<a id="__codelineno-89-7" name="__codelineno-89-7"></a><span class="w">        </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Printf</span><span class="p">(</span><span class="s">&quot;key:%v,value:%v\n&quot;</span><span class="p">,</span><span class="nx">key</span><span class="p">,</span><span class="nx">value</span><span class="p">)</span>
<a id="__codelineno-89-8" name="__codelineno-89-8"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-89-9" name="__codelineno-89-9"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<p>输出</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-90-1">1</a></span>
<span class="normal"><a href="#__codelineno-90-2">2</a></span>
<span class="normal"><a href="#__codelineno-90-3">3</a></span>
<span class="normal"><a href="#__codelineno-90-4">4</a></span>
<span class="normal"><a href="#__codelineno-90-5">5</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-90-1" name="__codelineno-90-1"></a>key:0,value:100
<a id="__codelineno-90-2" name="__codelineno-90-2"></a>key:1,value:80
<a id="__codelineno-90-3" name="__codelineno-90-3"></a>key:2,value:90
<a id="__codelineno-90-4" name="__codelineno-90-4"></a>key:3,value:70
<a id="__codelineno-90-5" name="__codelineno-90-5"></a>key:4,value:80
</code></pre></div></td></tr></table></div>
<ul>
<li><code>for key ,value := range score</code>键值循环，key是索引，value是值</li>
<li><code>fmt.Printf("key:%v,value:%v\n",key,value)</code>打印key和value的值</li>
<li><code>key</code>和<code>value</code>属于在这个循环中的局部变量</li>
<li>键值循环可以遍历数组、切片、字典、通道等</li>
</ul>
<h3 id="_23">注意事项<a class="headerlink" href="#_23" title="Permanent link">&para;</a></h3>
<ol>
<li>
<p>数组的长度是数组类型的一部分</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-91-1">1</a></span>
<span class="normal"><a href="#__codelineno-91-2">2</a></span>
<span class="normal"><a href="#__codelineno-91-3">3</a></span>
<span class="normal"><a href="#__codelineno-91-4">4</a></span>
<span class="normal"><a href="#__codelineno-91-5">5</a></span>
<span class="normal"><a href="#__codelineno-91-6">6</a></span>
<span class="normal"><a href="#__codelineno-91-7">7</a></span>
<span class="normal"><a href="#__codelineno-91-8">8</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-91-1" name="__codelineno-91-1"></a><span class="kn">package</span><span class="w"> </span><span class="nx">main</span>
<a id="__codelineno-91-2" name="__codelineno-91-2"></a><span class="kn">import</span><span class="w"> </span><span class="s">&quot;fmt&quot;</span>
<a id="__codelineno-91-3" name="__codelineno-91-3"></a>
<a id="__codelineno-91-4" name="__codelineno-91-4"></a><span class="kd">func</span><span class="w"> </span><span class="nx">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-91-5" name="__codelineno-91-5"></a><span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nx">score</span><span class="w"> </span><span class="p">[</span><span class="mi">5</span><span class="p">]</span><span class="kt">int</span>
<a id="__codelineno-91-6" name="__codelineno-91-6"></a><span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nx">score1</span><span class="w"> </span><span class="p">[</span><span class="mi">6</span><span class="p">]</span><span class="kt">int</span>
<a id="__codelineno-91-7" name="__codelineno-91-7"></a><span class="w">    </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Printf</span><span class="p">(</span><span class="s">&quot;score的类型是%T,score1的类型是%T\n&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">score</span><span class="p">,</span><span class="w"> </span><span class="nx">score1</span><span class="p">)</span>
<a id="__codelineno-91-8" name="__codelineno-91-8"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<p>输出</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-92-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-92-1" name="__codelineno-92-1"></a>score的类型是<span class="o">[</span><span class="m">5</span><span class="o">]</span>int,score1的类型是<span class="o">[</span><span class="m">6</span><span class="o">]</span>int
</code></pre></div></td></tr></table></div>
<ul>
<li><code>var score [5]int</code>和<code>var score1 [6]int</code>是两个不同的类型</li>
<li>数组的长度是数组类型的一部分</li>
</ul>
</li>
<li>
<p>Go中数组属于值类型，在默认情况下是值传递，因此会进行值拷贝</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-93-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-93-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-93-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-93-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-93-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-93-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-93-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-93-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-93-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-93-10">10</a></span>
<span class="normal"><a href="#__codelineno-93-11">11</a></span>
<span class="normal"><a href="#__codelineno-93-12">12</a></span>
<span class="normal"><a href="#__codelineno-93-13">13</a></span>
<span class="normal"><a href="#__codelineno-93-14">14</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-93-1" name="__codelineno-93-1"></a><span class="kn">package</span><span class="w"> </span><span class="nx">main</span>
<a id="__codelineno-93-2" name="__codelineno-93-2"></a><span class="kn">import</span><span class="w"> </span><span class="s">&quot;fmt&quot;</span>
<a id="__codelineno-93-3" name="__codelineno-93-3"></a>
<a id="__codelineno-93-4" name="__codelineno-93-4"></a>
<a id="__codelineno-93-5" name="__codelineno-93-5"></a><span class="kd">func</span><span class="w"> </span><span class="nx">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-93-6" name="__codelineno-93-6"></a><span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nx">score</span><span class="w"> </span><span class="p">[</span><span class="mi">5</span><span class="p">]</span><span class="kt">int</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">[</span><span class="mi">5</span><span class="p">]</span><span class="kt">int</span><span class="p">{</span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">80</span><span class="p">,</span><span class="w"> </span><span class="mi">90</span><span class="p">,</span><span class="w"> </span><span class="mi">70</span><span class="p">,</span><span class="w"> </span><span class="mi">80</span><span class="p">}</span>
<a id="__codelineno-93-7" name="__codelineno-93-7"></a><span class="w">    </span><span class="nx">test</span><span class="p">(</span><span class="nx">score</span><span class="p">)</span>
<a id="__codelineno-93-8" name="__codelineno-93-8"></a><span class="w">    </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="nx">score</span><span class="p">)</span>
<a id="__codelineno-93-9" name="__codelineno-93-9"></a><span class="p">}</span>
<a id="__codelineno-93-10" name="__codelineno-93-10"></a>
<a id="__codelineno-93-11" name="__codelineno-93-11"></a><span class="kd">func</span><span class="w"> </span><span class="nx">test</span><span class="p">(</span><span class="w"> </span><span class="nx">score</span><span class="w"> </span><span class="p">[</span><span class="mi">5</span><span class="p">]</span><span class="kt">int</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-93-12" name="__codelineno-93-12"></a><span class="w">    </span><span class="nx">score</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="mi">90</span>
<a id="__codelineno-93-13" name="__codelineno-93-13"></a><span class="w">    </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="nx">score</span><span class="p">)</span>
<a id="__codelineno-93-14" name="__codelineno-93-14"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<p>输出</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-94-1">1</a></span>
<span class="normal"><a href="#__codelineno-94-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-94-1" name="__codelineno-94-1"></a><span class="o">[</span><span class="m">90</span><span class="w"> </span><span class="m">80</span><span class="w"> </span><span class="m">90</span><span class="w"> </span><span class="m">70</span><span class="w"> </span><span class="m">80</span><span class="o">]</span>
<a id="__codelineno-94-2" name="__codelineno-94-2"></a><span class="o">[</span><span class="m">100</span><span class="w"> </span><span class="m">80</span><span class="w"> </span><span class="m">90</span><span class="w"> </span><span class="m">70</span><span class="w"> </span><span class="m">80</span><span class="o">]</span>
</code></pre></div></td></tr></table></div>
<ul>
<li><code>test(score)</code>调用test函数，传入score数组</li>
<li><code>score[0] = 90</code>在test函数中修改数组的值</li>
<li><code>fmt.Println(score)</code>打印数组的值，输出[90 80 90 70 80]</li>
<li>但是在main函数中打印数组的值，输出[100 80 90 70 80]</li>
<li>因为在test函数中修改的是局部变量。数组传递值的时候相当于在test栈帧中创建了一个新数组，并没有影响到原来的数组，所以输出的是修改后的数组的值</li>
</ul>
<p>如果想在修改原来的数组，需要使用指针的方式修改</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-95-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-95-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-95-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-95-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-95-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-95-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-95-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-95-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-95-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-95-10">10</a></span>
<span class="normal"><a href="#__codelineno-95-11">11</a></span>
<span class="normal"><a href="#__codelineno-95-12">12</a></span>
<span class="normal"><a href="#__codelineno-95-13">13</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-95-1" name="__codelineno-95-1"></a><span class="kn">package</span><span class="w"> </span><span class="nx">main</span>
<a id="__codelineno-95-2" name="__codelineno-95-2"></a><span class="kn">import</span><span class="w"> </span><span class="s">&quot;fmt&quot;</span>
<a id="__codelineno-95-3" name="__codelineno-95-3"></a>
<a id="__codelineno-95-4" name="__codelineno-95-4"></a><span class="kd">func</span><span class="w"> </span><span class="nx">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-95-5" name="__codelineno-95-5"></a><span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nx">score</span><span class="w"> </span><span class="p">[</span><span class="mi">5</span><span class="p">]</span><span class="kt">int</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">[</span><span class="mi">5</span><span class="p">]</span><span class="kt">int</span><span class="p">{</span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">80</span><span class="p">,</span><span class="w"> </span><span class="mi">90</span><span class="p">,</span><span class="w"> </span><span class="mi">70</span><span class="p">,</span><span class="w"> </span><span class="mi">80</span><span class="p">}</span>
<a id="__codelineno-95-6" name="__codelineno-95-6"></a><span class="w">    </span><span class="nx">test</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">score</span><span class="p">)</span>
<a id="__codelineno-95-7" name="__codelineno-95-7"></a><span class="w">    </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="nx">score</span><span class="p">)</span>
<a id="__codelineno-95-8" name="__codelineno-95-8"></a><span class="p">}</span>
<a id="__codelineno-95-9" name="__codelineno-95-9"></a>
<a id="__codelineno-95-10" name="__codelineno-95-10"></a><span class="kd">func</span><span class="w"> </span><span class="nx">test</span><span class="p">(</span><span class="w"> </span><span class="nx">score</span><span class="w"> </span><span class="o">*</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span><span class="kt">int</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-95-11" name="__codelineno-95-11"></a><span class="w">    </span><span class="p">(</span><span class="o">*</span><span class="nx">score</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="mi">90</span>
<a id="__codelineno-95-12" name="__codelineno-95-12"></a><span class="w">    </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="o">*</span><span class="nx">score</span><span class="p">)</span>
<a id="__codelineno-95-13" name="__codelineno-95-13"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<p>输出</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-96-1">1</a></span>
<span class="normal"><a href="#__codelineno-96-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-96-1" name="__codelineno-96-1"></a><span class="o">[</span><span class="m">90</span><span class="w"> </span><span class="m">80</span><span class="w"> </span><span class="m">90</span><span class="w"> </span><span class="m">70</span><span class="w"> </span><span class="m">80</span><span class="o">]</span>
<a id="__codelineno-96-2" name="__codelineno-96-2"></a><span class="o">[</span><span class="m">90</span><span class="w"> </span><span class="m">80</span><span class="w"> </span><span class="m">90</span><span class="w"> </span><span class="m">70</span><span class="w"> </span><span class="m">80</span><span class="o">]</span>
</code></pre></div></td></tr></table></div>
<ul>
<li><code>test(&amp;score)</code>传入score数组的地址，使用指针的方式修改数组的值</li>
<li><code>(*score)[0] = 90</code>使用指针的方式修改数组的值</li>
<li><code>fmt.Println(*score)</code>打印数组的值，输出[90 80 90 70 80]</li>
<li>因为在test函数中修改的是原来的数组，所以输出的是修改后的数组的值</li>
</ul>
</li>
</ol>
<h2 id="_24">切片<a class="headerlink" href="#_24" title="Permanent link">&para;</a></h2>
<p><em>slice是go语言中特有的一种数据类型</em>。</p>
<p>数组必须有明确的长度，长度不可变，切片是建立在数组之上的抽象，是更强大更便捷的功能，是对数组连续片段的一个引用。</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-97-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-97-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-97-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-97-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-97-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-97-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-97-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-97-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-97-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-97-10">10</a></span>
<span class="normal"><a href="#__codelineno-97-11">11</a></span>
<span class="normal"><a href="#__codelineno-97-12">12</a></span>
<span class="normal"><a href="#__codelineno-97-13">13</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-97-1" name="__codelineno-97-1"></a><span class="kn">package</span><span class="w"> </span><span class="nx">main</span>
<a id="__codelineno-97-2" name="__codelineno-97-2"></a><span class="kn">import</span><span class="w"> </span><span class="s">&quot;fmt&quot;</span>
<a id="__codelineno-97-3" name="__codelineno-97-3"></a>
<a id="__codelineno-97-4" name="__codelineno-97-4"></a><span class="kd">func</span><span class="w"> </span><span class="nx">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-97-5" name="__codelineno-97-5"></a><span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nx">arr</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">[</span><span class="mi">5</span><span class="p">]</span><span class="kt">int</span><span class="p">{</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">}</span><span class="c1">//定义一个数组</span>
<a id="__codelineno-97-6" name="__codelineno-97-6"></a><span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nx">slice</span><span class="w"> </span><span class="p">[]</span><span class="kt">int</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">arr</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="mi">3</span><span class="p">]</span><span class="c1">//从index1切到3，不包括3</span>
<a id="__codelineno-97-7" name="__codelineno-97-7"></a><span class="w">    </span><span class="cm">/*slice()是切片的名字*/</span>
<a id="__codelineno-97-8" name="__codelineno-97-8"></a><span class="w">    </span><span class="cm">/*[]切片的长度，可不定义*/</span>
<a id="__codelineno-97-9" name="__codelineno-97-9"></a><span class="w">    </span><span class="cm">/*int类型*/</span>
<a id="__codelineno-97-10" name="__codelineno-97-10"></a><span class="w">    </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Printf</span><span class="p">(</span><span class="s">&quot;arr的地址是%p,arr的长度是%d\n&quot;</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="nx">arr</span><span class="p">,</span><span class="w"> </span><span class="nb">len</span><span class="p">(</span><span class="nx">arr</span><span class="p">))</span>
<a id="__codelineno-97-11" name="__codelineno-97-11"></a><span class="w">    </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Printf</span><span class="p">(</span><span class="s">&quot;slice的地址是%p,slice的长度是%d\n&quot;</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="nx">slice</span><span class="p">,</span><span class="w"> </span><span class="nb">len</span><span class="p">(</span><span class="nx">slice</span><span class="p">))</span>
<a id="__codelineno-97-12" name="__codelineno-97-12"></a><span class="w">    </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="nx">slice</span><span class="p">)</span>
<a id="__codelineno-97-13" name="__codelineno-97-13"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<p>输出</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-98-1">1</a></span>
<span class="normal"><a href="#__codelineno-98-2">2</a></span>
<span class="normal"><a href="#__codelineno-98-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-98-1" name="__codelineno-98-1"></a>arr的地址是0xc000010070,arr的长度是5
<a id="__codelineno-98-2" name="__codelineno-98-2"></a>slice的地址是0xc000010080,slice的长度是2
<a id="__codelineno-98-3" name="__codelineno-98-3"></a><span class="o">[</span><span class="m">2</span><span class="w"> </span><span class="m">3</span><span class="o">]</span>
</code></pre></div></td></tr></table></div>
<ul>
<li><code>var slice []int = arr[1:3]</code>定义一个切片，切片是对数组的引用，从索引1到3，不包括3</li>
<li><code>fmt.Printf("arr的地址是%p,arr的长度是%d\n", &amp;arr, len(arr))</code>打印数组的地址和长度</li>
<li><code>fmt.Printf("slice的地址是%p,slice的长度是%d\n", &amp;slice, len(slice))</code>打印切片的地址和长度</li>
<li><code>fmt.Println(slice)</code>打印切片的值</li>
</ul>
<p>切片的容量cap是底层数组的长度</p>
<h3 id="_25">切片的内存分析<a class="headerlink" href="#_25" title="Permanent link">&para;</a></h3>
<p>切片的地址和数组的地址是一样的，因为切片是对数组的引用</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-99-1">1</a></span>
<span class="normal"><a href="#__codelineno-99-2">2</a></span>
<span class="normal"><a href="#__codelineno-99-3">3</a></span>
<span class="normal"><a href="#__codelineno-99-4">4</a></span>
<span class="normal"><a href="#__codelineno-99-5">5</a></span>
<span class="normal"><a href="#__codelineno-99-6">6</a></span>
<span class="normal"><a href="#__codelineno-99-7">7</a></span>
<span class="normal"><a href="#__codelineno-99-8">8</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-99-1" name="__codelineno-99-1"></a><span class="kn">package</span><span class="w"> </span><span class="nx">main</span>
<a id="__codelineno-99-2" name="__codelineno-99-2"></a><span class="kn">import</span><span class="w"> </span><span class="s">&quot;fmt&quot;</span>
<a id="__codelineno-99-3" name="__codelineno-99-3"></a>
<a id="__codelineno-99-4" name="__codelineno-99-4"></a><span class="kd">func</span><span class="w"> </span><span class="nx">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-99-5" name="__codelineno-99-5"></a><span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nx">arr</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">[</span><span class="mi">5</span><span class="p">]</span><span class="kt">int</span><span class="p">{</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">}</span>
<a id="__codelineno-99-6" name="__codelineno-99-6"></a><span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nx">slice</span><span class="w"> </span><span class="p">[]</span><span class="kt">int</span><span class="w"> </span><span class="cm">/*这一步是定义切片*/</span><span class="p">=</span><span class="w"> </span><span class="nx">arr</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="mi">3</span><span class="p">]</span><span class="c1">//这一步是赋值</span>
<a id="__codelineno-99-7" name="__codelineno-99-7"></a><span class="w">    </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Printf</span><span class="p">(</span><span class="s">&quot;arr[1]的地址是%p,slice的地址是%p\n&quot;</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="nx">arr</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="w"> </span><span class="o">&amp;</span><span class="nx">slice</span><span class="p">)</span>
<a id="__codelineno-99-8" name="__codelineno-99-8"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<p>输出</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-100-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-100-1" name="__codelineno-100-1"></a>arr的地址是0xc000010070,slice的地址是0xc000010080
</code></pre></div></td></tr></table></div>
<ul>
<li><code>fmt.Printf("arr的地址是%p,slice的地址是%p\n", &amp;arr, &amp;slice)</code>打印数组和切片的地址</li>
</ul>
<h3 id="_26">切片的定义<a class="headerlink" href="#_26" title="Permanent link">&para;</a></h3>
<ol>
<li>定义一个数组，然后切片引用一个数组</li>
<li>
<p>用make()函数创建切片：make函数可以分配并初始化一个切片，映射或者通道的对象，其第一个实参为类型，而非值。make返回的类型与其来兴相同而非它的指针，其具体结果取决于具体的类型</p>
<p>调用三个参数：<code>var 切片名 = make([]类型,长度,容量)</code></p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-101-1">1</a></span>
<span class="normal"><a href="#__codelineno-101-2">2</a></span>
<span class="normal"><a href="#__codelineno-101-3">3</a></span>
<span class="normal"><a href="#__codelineno-101-4">4</a></span>
<span class="normal"><a href="#__codelineno-101-5">5</a></span>
<span class="normal"><a href="#__codelineno-101-6">6</a></span>
<span class="normal"><a href="#__codelineno-101-7">7</a></span>
<span class="normal"><a href="#__codelineno-101-8">8</a></span>
<span class="normal"><a href="#__codelineno-101-9">9</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-101-1" name="__codelineno-101-1"></a><span class="kn">package</span><span class="w"> </span><span class="nx">main</span>
<a id="__codelineno-101-2" name="__codelineno-101-2"></a><span class="kn">import</span><span class="w"> </span><span class="s">&quot;fmt&quot;</span>
<a id="__codelineno-101-3" name="__codelineno-101-3"></a>
<a id="__codelineno-101-4" name="__codelineno-101-4"></a><span class="kd">func</span><span class="w"> </span><span class="nx">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-101-5" name="__codelineno-101-5"></a><span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nx">slice1</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nb">make</span><span class="p">([]</span><span class="kt">int</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">)</span><span class="c1">//长度为3，容量为5</span>
<a id="__codelineno-101-6" name="__codelineno-101-6"></a><span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nx">slice2</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nb">make</span><span class="p">([]</span><span class="kt">int</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span><span class="c1">//长度为3，容量为3</span>
<a id="__codelineno-101-7" name="__codelineno-101-7"></a><span class="w">    </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Printf</span><span class="p">(</span><span class="s">&quot;slice1的地址是%p,slice1的长度是%d,slice1的容量是%d\n&quot;</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="nx">slice1</span><span class="p">,</span><span class="w"> </span><span class="nb">len</span><span class="p">(</span><span class="nx">slice1</span><span class="p">),</span><span class="w"> </span><span class="nb">cap</span><span class="p">(</span><span class="nx">slice1</span><span class="p">))</span>
<a id="__codelineno-101-8" name="__codelineno-101-8"></a><span class="w">    </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Printf</span><span class="p">(</span><span class="s">&quot;slice2的地址是%p,slice2的长度是%d,slice2的容量是%d\n&quot;</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="nx">slice2</span><span class="p">,</span><span class="w"> </span><span class="nb">len</span><span class="p">(</span><span class="nx">slice2</span><span class="p">),</span><span class="w"> </span><span class="nb">cap</span><span class="p">(</span><span class="nx">slice2</span><span class="p">))</span>
<a id="__codelineno-101-9" name="__codelineno-101-9"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<p>输出</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-102-1">1</a></span>
<span class="normal"><a href="#__codelineno-102-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-102-1" name="__codelineno-102-1"></a>slice1的地址是0xc000010080,slice1的长度是3,slice1的容量是5
<a id="__codelineno-102-2" name="__codelineno-102-2"></a>slice2的地址是0xc000010090,slice2的长度是3,slice2的容量是3
</code></pre></div></td></tr></table></div>
<p>赋值：<code>slice1[0] = 1</code>就可以赋值len(slice1)的值，超过len(slice1)的值会报错</p>
<p>PS:make()在底层创建一个数组，在外界不能直接访问，是slice对这个数组进行应用。所以不可以直接操作数组，得通过slice切片间接访问各个元素。</p>
<p><em>不可以直接对数组进行维护</em>。</p>
</li>
</ol>
<h3 id="_27">切片的遍历<a class="headerlink" href="#_27" title="Permanent link">&para;</a></h3>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-103-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-103-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-103-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-103-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-103-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-103-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-103-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-103-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-103-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-103-10">10</a></span>
<span class="normal"><a href="#__codelineno-103-11">11</a></span>
<span class="normal"><a href="#__codelineno-103-12">12</a></span>
<span class="normal"><a href="#__codelineno-103-13">13</a></span>
<span class="normal"><a href="#__codelineno-103-14">14</a></span>
<span class="normal"><a href="#__codelineno-103-15">15</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-103-1" name="__codelineno-103-1"></a><span class="kn">package</span><span class="w"> </span><span class="nx">main</span>
<a id="__codelineno-103-2" name="__codelineno-103-2"></a><span class="kn">import</span><span class="w"> </span><span class="s">&quot;fmt&quot;</span>
<a id="__codelineno-103-3" name="__codelineno-103-3"></a>
<a id="__codelineno-103-4" name="__codelineno-103-4"></a><span class="kd">func</span><span class="w"> </span><span class="nx">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-103-5" name="__codelineno-103-5"></a><span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nx">slice</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">[]</span><span class="kt">int</span><span class="p">{</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">}</span>
<a id="__codelineno-103-6" name="__codelineno-103-6"></a><span class="w">    </span><span class="c1">//普通for循环遍历切片</span>
<a id="__codelineno-103-7" name="__codelineno-103-7"></a><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="nx">i</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="nx">i</span><span class="w"> </span><span class="p">&lt;</span><span class="w"> </span><span class="nb">len</span><span class="p">(</span><span class="nx">slice</span><span class="p">);</span><span class="w"> </span><span class="nx">i</span><span class="o">++</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-103-8" name="__codelineno-103-8"></a><span class="w">        </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="nx">slice</span><span class="p">[</span><span class="nx">i</span><span class="p">])</span>
<a id="__codelineno-103-9" name="__codelineno-103-9"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-103-10" name="__codelineno-103-10"></a><span class="w">    </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="s">&quot;--------------&quot;</span><span class="p">)</span>
<a id="__codelineno-103-11" name="__codelineno-103-11"></a><span class="w">    </span><span class="c1">//键值循环遍历切片</span>
<a id="__codelineno-103-12" name="__codelineno-103-12"></a><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="nx">key</span><span class="p">,</span><span class="w"> </span><span class="nx">value</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="k">range</span><span class="w"> </span><span class="nx">slice</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-103-13" name="__codelineno-103-13"></a><span class="w">        </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Printf</span><span class="p">(</span><span class="s">&quot;key:%v,value:%v\n&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">key</span><span class="p">,</span><span class="w"> </span><span class="nx">value</span><span class="p">)</span>
<a id="__codelineno-103-14" name="__codelineno-103-14"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-103-15" name="__codelineno-103-15"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<p>实际上就是数组的遍历。</p>
<h3 id="_28">切片的注意事项<a class="headerlink" href="#_28" title="Permanent link">&para;</a></h3>
<ol>
<li>
<p>切片定义后不能直接使用，必须要引用到一个数组，或者make到一个空间空切片来使用</p>
</li>
<li>
<p>切片使用的时候是不能越界的</p>
</li>
<li>
<p>简写方式</p>
<ol>
<li><code>var slice = arr[0:end]</code>----<code>var slice = arr[:end]</code></li>
<li><code>var slice = arr[start:len(arr)]</code>----<code>var slice = arr[start:]</code></li>
<li><code>var slice = arr[0:len(arr)]</code>----<code>var slice = arr[:]</code></li>
</ol>
</li>
<li>
<p>切片可以继续切片。因为切片是引用底层同一个数组的内存，所以改一个=改所有的</p>
</li>
<li>
<p>切片可以动态增长</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-104-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-104-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-104-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-104-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-104-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-104-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-104-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-104-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-104-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-104-10">10</a></span>
<span class="normal"><a href="#__codelineno-104-11">11</a></span>
<span class="normal"><a href="#__codelineno-104-12">12</a></span>
<span class="normal"><a href="#__codelineno-104-13">13</a></span>
<span class="normal"><a href="#__codelineno-104-14">14</a></span>
<span class="normal"><a href="#__codelineno-104-15">15</a></span>
<span class="normal"><a href="#__codelineno-104-16">16</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-104-1" name="__codelineno-104-1"></a><span class="kn">package</span><span class="w"> </span><span class="nx">main</span>
<a id="__codelineno-104-2" name="__codelineno-104-2"></a><span class="kn">import</span><span class="w"> </span><span class="s">&quot;fmt&quot;</span>
<a id="__codelineno-104-3" name="__codelineno-104-3"></a>
<a id="__codelineno-104-4" name="__codelineno-104-4"></a>
<a id="__codelineno-104-5" name="__codelineno-104-5"></a><span class="kd">func</span><span class="w"> </span><span class="nx">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-104-6" name="__codelineno-104-6"></a><span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nx">slice</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">[]</span><span class="kt">int</span><span class="p">{</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">}</span>
<a id="__codelineno-104-7" name="__codelineno-104-7"></a><span class="w">    </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Printf</span><span class="p">(</span><span class="s">&quot;slice的长度是%d,slice的容量是%d\n&quot;</span><span class="p">,</span><span class="w"> </span><span class="nb">len</span><span class="p">(</span><span class="nx">slice</span><span class="p">),</span><span class="w"> </span><span class="nb">cap</span><span class="p">(</span><span class="nx">slice</span><span class="p">))</span>
<a id="__codelineno-104-8" name="__codelineno-104-8"></a><span class="w">    </span><span class="c1">//使用append函数追加元素</span>
<a id="__codelineno-104-9" name="__codelineno-104-9"></a><span class="w">    </span><span class="nx">slice</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nb">append</span><span class="p">(</span><span class="nx">slice</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="p">)</span>
<a id="__codelineno-104-10" name="__codelineno-104-10"></a><span class="w">    </span><span class="c1">//实际上是复制一个新的数组，然后再增加一个新数组的元素</span>
<a id="__codelineno-104-11" name="__codelineno-104-11"></a><span class="w">    </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Printf</span><span class="p">(</span><span class="s">&quot;slice的长度是%d,slice的容量是%d\n&quot;</span><span class="p">,</span><span class="w"> </span><span class="nb">len</span><span class="p">(</span><span class="nx">slice</span><span class="p">),</span><span class="w"> </span><span class="nb">cap</span><span class="p">(</span><span class="nx">slice</span><span class="p">))</span>
<a id="__codelineno-104-12" name="__codelineno-104-12"></a><span class="w">    </span><span class="c1">//底层的新数组，不能直接维护，需要通过切片间接维护操作</span>
<a id="__codelineno-104-13" name="__codelineno-104-13"></a><span class="w">    </span><span class="nx">slice</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="mi">7</span>
<a id="__codelineno-104-14" name="__codelineno-104-14"></a><span class="w">    </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="nx">slice</span><span class="p">)</span>
<a id="__codelineno-104-15" name="__codelineno-104-15"></a><span class="w">    </span><span class="c1">//修改切片---&gt;修改数组</span>
<a id="__codelineno-104-16" name="__codelineno-104-16"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<p>输出</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-105-1">1</a></span>
<span class="normal"><a href="#__codelineno-105-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-105-1" name="__codelineno-105-1"></a>slice的长度是5,slice的容量是5
<a id="__codelineno-105-2" name="__codelineno-105-2"></a>slice的长度是6,slice的容量是10
</code></pre></div></td></tr></table></div>
<ul>
<li><code>fmt.Printf("slice的长度是%d,slice的容量是%d\n", len(slice), cap(slice))</code>打印切片的长度和容量</li>
<li><code>slice = append(slice, 6)</code>切片的追加，追加的元素是6，容量自动扩充</li>
<li><code>fmt.Printf("slice的长度是%d,slice的容量是%d\n", len(slice), cap(slice))</code>打印切片的长度和容量，容量自动扩充到10</li>
</ul>
<p>也可以通过<code>append()</code>函数追加切片</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-106-1">1</a></span>
<span class="normal"><a href="#__codelineno-106-2">2</a></span>
<span class="normal"><a href="#__codelineno-106-3">3</a></span>
<span class="normal"><a href="#__codelineno-106-4">4</a></span>
<span class="normal"><a href="#__codelineno-106-5">5</a></span>
<span class="normal"><a href="#__codelineno-106-6">6</a></span>
<span class="normal"><a href="#__codelineno-106-7">7</a></span>
<span class="normal"><a href="#__codelineno-106-8">8</a></span>
<span class="normal"><a href="#__codelineno-106-9">9</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-106-1" name="__codelineno-106-1"></a><span class="kn">package</span><span class="w"> </span><span class="nx">main</span>
<a id="__codelineno-106-2" name="__codelineno-106-2"></a><span class="kn">import</span><span class="w"> </span><span class="s">&quot;fmt&quot;</span>
<a id="__codelineno-106-3" name="__codelineno-106-3"></a>
<a id="__codelineno-106-4" name="__codelineno-106-4"></a><span class="kd">func</span><span class="w"> </span><span class="nx">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-106-5" name="__codelineno-106-5"></a><span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nx">slice1</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">[]</span><span class="kt">int</span><span class="p">{</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">}</span>
<a id="__codelineno-106-6" name="__codelineno-106-6"></a><span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nx">slice2</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">[]</span><span class="kt">int</span><span class="p">{</span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="p">}</span>
<a id="__codelineno-106-7" name="__codelineno-106-7"></a><span class="w">    </span><span class="nx">slice1</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nb">append</span><span class="p">(</span><span class="nx">slice1</span><span class="p">,</span><span class="w"> </span><span class="nx">slice2</span><span class="o">...</span><span class="p">)</span><span class="c1">//这三个...表示将slice2的所有元素都追加到slice1，是必须写的</span>
<a id="__codelineno-106-8" name="__codelineno-106-8"></a><span class="w">    </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="nx">slice1</span><span class="p">)</span>
<a id="__codelineno-106-9" name="__codelineno-106-9"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<p>输出</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-107-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-107-1" name="__codelineno-107-1"></a><span class="o">[</span><span class="m">1</span><span class="w"> </span><span class="m">2</span><span class="w"> </span><span class="m">3</span><span class="w"> </span><span class="m">4</span><span class="w"> </span><span class="m">5</span><span class="w"> </span><span class="m">6</span><span class="o">]</span>
</code></pre></div></td></tr></table></div>
</li>
<li>
<p>切片的拷贝</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-108-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-108-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-108-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-108-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-108-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-108-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-108-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-108-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-108-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-108-10">10</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-108-1" name="__codelineno-108-1"></a><span class="kn">package</span><span class="w"> </span><span class="nx">main</span>
<a id="__codelineno-108-2" name="__codelineno-108-2"></a><span class="kn">import</span><span class="w"> </span><span class="s">&quot;fmt&quot;</span>
<a id="__codelineno-108-3" name="__codelineno-108-3"></a>
<a id="__codelineno-108-4" name="__codelineno-108-4"></a>
<a id="__codelineno-108-5" name="__codelineno-108-5"></a><span class="kd">func</span><span class="w"> </span><span class="nx">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-108-6" name="__codelineno-108-6"></a><span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nx">slice1</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">[]</span><span class="kt">int</span><span class="p">{</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">}</span><span class="c1">//定义一个切片</span>
<a id="__codelineno-108-7" name="__codelineno-108-7"></a><span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nx">slice2</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nb">make</span><span class="p">([]</span><span class="kt">int</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span><span class="c1">//再定义一个切片</span>
<a id="__codelineno-108-8" name="__codelineno-108-8"></a><span class="w">    </span><span class="nb">copy</span><span class="p">(</span><span class="nx">slice2</span><span class="p">,</span><span class="w"> </span><span class="nx">slice1</span><span class="p">)</span><span class="c1">//调用内置函数copy</span>
<a id="__codelineno-108-9" name="__codelineno-108-9"></a><span class="w">    </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="nx">slice2</span><span class="p">)</span><span class="c1">//输出slice2</span>
<a id="__codelineno-108-10" name="__codelineno-108-10"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<p>输出</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-109-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-109-1" name="__codelineno-109-1"></a><span class="o">[</span><span class="m">1</span><span class="w"> </span><span class="m">2</span><span class="w"> </span><span class="m">3</span><span class="o">]</span>
</code></pre></div></td></tr></table></div>
<ul>
<li><code>copy(slice2, slice1)</code>切片的拷贝，将slice1拷贝到slice2，slice2的长度必须大于等于slice1的长度，否则会报错</li>
<li><code>fmt.Println(slice2)</code>打印slice2的值，输出[1 2 3]</li>
</ul>
</li>
<li>
<p>切片的比较</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-110-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-110-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-110-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-110-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-110-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-110-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-110-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-110-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-110-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-110-10">10</a></span>
<span class="normal"><a href="#__codelineno-110-11">11</a></span>
<span class="normal"><a href="#__codelineno-110-12">12</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-110-1" name="__codelineno-110-1"></a><span class="kn">package</span><span class="w"> </span><span class="nx">main</span>
<a id="__codelineno-110-2" name="__codelineno-110-2"></a><span class="kn">import</span><span class="w"> </span><span class="s">&quot;fmt&quot;</span>
<a id="__codelineno-110-3" name="__codelineno-110-3"></a>
<a id="__codelineno-110-4" name="__codelineno-110-4"></a><span class="kd">func</span><span class="w"> </span><span class="nx">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-110-5" name="__codelineno-110-5"></a><span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nx">slice1</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">[]</span><span class="kt">int</span><span class="p">{</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">}</span>
<a id="__codelineno-110-6" name="__codelineno-110-6"></a><span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nx">slice2</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">[]</span><span class="kt">int</span><span class="p">{</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">}</span>
<a id="__codelineno-110-7" name="__codelineno-110-7"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="nx">slice1</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nx">slice2</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-110-8" name="__codelineno-110-8"></a><span class="w">        </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="s">&quot;切片相等&quot;</span><span class="p">)</span>
<a id="__codelineno-110-9" name="__codelineno-110-9"></a><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-110-10" name="__codelineno-110-10"></a><span class="w">        </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="s">&quot;切片不相等&quot;</span><span class="p">)</span>
<a id="__codelineno-110-11" name="__codelineno-110-11"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-110-12" name="__codelineno-110-12"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<p>输出</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-111-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-111-1" name="__codelineno-111-1"></a>切片相等
</code></pre></div></td></tr></table></div>
<ul>
<li><code>if slice1 == slice2</code>切片的比较，切片的比较是值的比较，而不是地址的比较</li>
<li><code>fmt.Println("切片相等")</code>打印切片相等</li>
</ul>
</li>
</ol>
<h2 id="map">映射：map<a class="headerlink" href="#map" title="Permanent link">&para;</a></h2>
<p>map是一种内置的数据结构，它将键值对=相互关联，可以通过key获得对应的value</p>
<p>键值对：一对匹配的信息，就是python里的字典。</p>
<p>基本语法：<code>var map1 map[key类型]value类型</code></p>
<ol>
<li>
<p>key和value的类型：bool,init,string,指针,结构体等</p>
</li>
<li>
<p>定义：<code>var map1 map[string]int</code>，定义一个key是string类型，value是int类型的map</p>
<p>如果只申明map，没有初始化，是没有内存空间的，必须通过make函数进行初始化，才会分配对应的空间</p>
<p><code>map1 = make(map[string]int,10)</code>10指的是map可以存放10个键值对</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-112-1">1</a></span>
<span class="normal"><a href="#__codelineno-112-2">2</a></span>
<span class="normal"><a href="#__codelineno-112-3">3</a></span>
<span class="normal"><a href="#__codelineno-112-4">4</a></span>
<span class="normal"><a href="#__codelineno-112-5">5</a></span>
<span class="normal"><a href="#__codelineno-112-6">6</a></span>
<span class="normal"><a href="#__codelineno-112-7">7</a></span>
<span class="normal"><a href="#__codelineno-112-8">8</a></span>
<span class="normal"><a href="#__codelineno-112-9">9</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-112-1" name="__codelineno-112-1"></a><span class="kn">package</span><span class="w"> </span><span class="nx">main</span>
<a id="__codelineno-112-2" name="__codelineno-112-2"></a><span class="kn">import</span><span class="w"> </span><span class="s">&quot;fmt&quot;</span>
<a id="__codelineno-112-3" name="__codelineno-112-3"></a>
<a id="__codelineno-112-4" name="__codelineno-112-4"></a><span class="kd">func</span><span class="w"> </span><span class="nx">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-112-5" name="__codelineno-112-5"></a><span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nx">map1</span><span class="w"> </span><span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kt">int</span>
<a id="__codelineno-112-6" name="__codelineno-112-6"></a><span class="w">    </span><span class="nx">map1</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nb">make</span><span class="p">(</span><span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kt">int</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">)</span>
<a id="__codelineno-112-7" name="__codelineno-112-7"></a><span class="w">    </span><span class="nx">map1</span><span class="p">[</span><span class="s">&quot;a&quot;</span><span class="p">]</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="mi">100</span>
<a id="__codelineno-112-8" name="__codelineno-112-8"></a><span class="w">    </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="nx">map1</span><span class="p">)</span>
<a id="__codelineno-112-9" name="__codelineno-112-9"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<p>输出</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-113-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-113-1" name="__codelineno-113-1"></a>map<span class="o">[</span>a:100<span class="o">]</span>
</code></pre></div></td></tr></table></div>
<ul>
<li><code>var map1 map[string]int</code>定义一个key是string类型，value是int类型的map。前面是key，后面是value</li>
<li><code>map1 = make(map[string]int,10)</code>初始化map，10指的是map可以存放10个键值对</li>
<li><code>map1["a"] = 100</code>给map1中添加一个键值对，键是"a"，值为100</li>
<li><code>fmt.Println(map1)</code>打印map1的值，输出map[a:100]</li>
<li>赋值：<code>map1["a"] = 100</code>，给map1中添加一个键值对，键是"a"，值为100</li>
</ul>
</li>
<li>
<p>取值：<code>value,ok := map1["a"]</code>，通过键"a"获取值，ok是bool类型，表示是否存在这个键值对</p>
</li>
<li>
<p>删除：<code>delete(map1, "a")</code>，删除键值对</p>
</li>
<li>
<p>遍历：<code>for key, value := range map1</code>，键值循环遍历map</p>
</li>
</ol>
<p>map的特点</p>
<ol>
<li>
<p>map在使用前一定要make</p>
</li>
<li>
<p>key和value是无序存储的</p>
</li>
<li>
<p>key的部分是不能重复的，value是可以重复的（如果重复，后面写入的会把前面的替换了）</p>
</li>
<li>
<p>size是可以省略不写的，默认情况会分配一个空间（显然，这是不够用的）</p>
</li>
</ol>
<h3 id="map_1">map的三种创建方式<a class="headerlink" href="#map_1" title="Permanent link">&para;</a></h3>
<ol>
<li><code>var a map[int]string</code>和<code>a = make(map[int]string,10)</code>的方式</li>
<li><code>b := make(map[int]string)</code>合成一句话，并且没有定义长度</li>
<li><code>c := map[int]string{1:"a",2:"b",}</code>直接定义一个map(初始化的时候每一个后面都要加逗号)</li>
</ol>
<p>如何继续添加呢？</p>
<h3 id="map_2">对map的操作：增删改查<a class="headerlink" href="#map_2" title="Permanent link">&para;</a></h3>
<ol>
<li>增加<code>map["key"]=value</code>原来有的话=修改，没有的话=增加</li>
<li>删除：使用delete()内置函数<code>delete(map_name,"key_name")</code>如果没有这个key，也不会报错，不执行任何操作</li>
<li>修改：直接赋值<code>map["key"]=value</code></li>
<li>查找：使用key直接获取<code>value,ok := map["key"]</code>，ok是bool类型，表示是否存在这个键值对</li>
<li>
<p>清空操作；需要遍历map逐个删除。或者重新make一个新的map然后扔掉老的map就行了</p>
</li>
<li>
<p>遍历：<code>for key, value := range map1</code>，键值循环遍历map(只支持键值循环)</p>
</li>
</ol>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-114-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-114-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-114-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-114-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-114-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-114-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-114-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-114-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-114-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-114-10">10</a></span>
<span class="normal"><a href="#__codelineno-114-11">11</a></span>
<span class="normal"><a href="#__codelineno-114-12">12</a></span>
<span class="normal"><a href="#__codelineno-114-13">13</a></span>
<span class="normal"><a href="#__codelineno-114-14">14</a></span>
<span class="normal"><a href="#__codelineno-114-15">15</a></span>
<span class="normal"><a href="#__codelineno-114-16">16</a></span>
<span class="normal"><a href="#__codelineno-114-17">17</a></span>
<span class="normal"><a href="#__codelineno-114-18">18</a></span>
<span class="normal"><a href="#__codelineno-114-19">19</a></span>
<span class="normal"><a href="#__codelineno-114-20">20</a></span>
<span class="normal"><a href="#__codelineno-114-21">21</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-114-1" name="__codelineno-114-1"></a><span class="kn">package</span><span class="w"> </span><span class="nx">main</span>
<a id="__codelineno-114-2" name="__codelineno-114-2"></a><span class="kn">import</span><span class="w"> </span><span class="s">&quot;fmt&quot;</span>
<a id="__codelineno-114-3" name="__codelineno-114-3"></a>
<a id="__codelineno-114-4" name="__codelineno-114-4"></a><span class="kd">func</span><span class="w"> </span><span class="nx">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-114-5" name="__codelineno-114-5"></a><span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nx">map1</span><span class="w"> </span><span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kt">int</span>
<a id="__codelineno-114-6" name="__codelineno-114-6"></a><span class="w">    </span><span class="nx">map1</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nb">make</span><span class="p">(</span><span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kt">int</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">)</span>
<a id="__codelineno-114-7" name="__codelineno-114-7"></a><span class="w">    </span><span class="nx">map1</span><span class="p">[</span><span class="s">&quot;a&quot;</span><span class="p">]</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="mi">100</span>
<a id="__codelineno-114-8" name="__codelineno-114-8"></a><span class="w">    </span><span class="nx">map1</span><span class="p">[</span><span class="s">&quot;b&quot;</span><span class="p">]</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="mi">200</span>
<a id="__codelineno-114-9" name="__codelineno-114-9"></a><span class="w">    </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="nx">map1</span><span class="p">)</span>
<a id="__codelineno-114-10" name="__codelineno-114-10"></a><span class="w">    </span><span class="nx">value</span><span class="p">,</span><span class="w"> </span><span class="nx">ok</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">map1</span><span class="p">[</span><span class="s">&quot;a&quot;</span><span class="p">]</span>
<a id="__codelineno-114-11" name="__codelineno-114-11"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="nx">ok</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-114-12" name="__codelineno-114-12"></a><span class="w">        </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span>
<a id="__codelineno-114-13" name="__codelineno-114-13"></a><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-114-14" name="__codelineno-114-14"></a><span class="w">        </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="s">&quot;key不存在&quot;</span><span class="p">)</span>
<a id="__codelineno-114-15" name="__codelineno-114-15"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-114-16" name="__codelineno-114-16"></a><span class="w">    </span><span class="nb">delete</span><span class="p">(</span><span class="nx">map1</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;a&quot;</span><span class="p">)</span>
<a id="__codelineno-114-17" name="__codelineno-114-17"></a><span class="w">    </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="nx">map1</span><span class="p">)</span>
<a id="__codelineno-114-18" name="__codelineno-114-18"></a><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="nx">key</span><span class="p">,</span><span class="w"> </span><span class="nx">value</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="k">range</span><span class="w"> </span><span class="nx">map1</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-114-19" name="__codelineno-114-19"></a><span class="w">        </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Printf</span><span class="p">(</span><span class="s">&quot;key:%v,value:%v\n&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">key</span><span class="p">,</span><span class="w"> </span><span class="nx">value</span><span class="p">)</span>
<a id="__codelineno-114-20" name="__codelineno-114-20"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-114-21" name="__codelineno-114-21"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<p>输出</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-115-1">1</a></span>
<span class="normal"><a href="#__codelineno-115-2">2</a></span>
<span class="normal"><a href="#__codelineno-115-3">3</a></span>
<span class="normal"><a href="#__codelineno-115-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-115-1" name="__codelineno-115-1"></a>map<span class="o">[</span>a:100<span class="w"> </span>b:200<span class="o">]</span>
<a id="__codelineno-115-2" name="__codelineno-115-2"></a><span class="m">100</span>
<a id="__codelineno-115-3" name="__codelineno-115-3"></a>map<span class="o">[</span>b:200<span class="o">]</span>
<a id="__codelineno-115-4" name="__codelineno-115-4"></a>key:b,value:200
</code></pre></div></td></tr></table></div>
<ul>
<li><code>value, ok := map1["a"]</code>通过键"a"获取值，ok是bool类型，表示是否存在这个键值对</li>
<li><code>if ok {fmt.Println(value)} else {fmt.Println("key不存在")}</code>判断是否存在这个键值对，存在的话打印值，不存在的话打印"key不存在"</li>
<li><code>delete(map1, "a")</code>删除键值对</li>
<li><code>for key, value := range map1</code>键值循环遍历map</li>
</ul>
<p>加深难度</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-116-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-116-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-116-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-116-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-116-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-116-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-116-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-116-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-116-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-116-10">10</a></span>
<span class="normal"><a href="#__codelineno-116-11">11</a></span>
<span class="normal"><a href="#__codelineno-116-12">12</a></span>
<span class="normal"><a href="#__codelineno-116-13">13</a></span>
<span class="normal"><a href="#__codelineno-116-14">14</a></span>
<span class="normal"><a href="#__codelineno-116-15">15</a></span>
<span class="normal"><a href="#__codelineno-116-16">16</a></span>
<span class="normal"><a href="#__codelineno-116-17">17</a></span>
<span class="normal"><a href="#__codelineno-116-18">18</a></span>
<span class="normal"><a href="#__codelineno-116-19">19</a></span>
<span class="normal"><a href="#__codelineno-116-20">20</a></span>
<span class="normal"><a href="#__codelineno-116-21">21</a></span>
<span class="normal"><a href="#__codelineno-116-22">22</a></span>
<span class="normal"><a href="#__codelineno-116-23">23</a></span>
<span class="normal"><a href="#__codelineno-116-24">24</a></span>
<span class="normal"><a href="#__codelineno-116-25">25</a></span>
<span class="normal"><a href="#__codelineno-116-26">26</a></span>
<span class="normal"><a href="#__codelineno-116-27">27</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-116-1" name="__codelineno-116-1"></a><span class="kn">package</span><span class="w"> </span><span class="nx">main</span>
<a id="__codelineno-116-2" name="__codelineno-116-2"></a><span class="kn">import</span><span class="w"> </span><span class="s">&quot;fmt&quot;</span>
<a id="__codelineno-116-3" name="__codelineno-116-3"></a>
<a id="__codelineno-116-4" name="__codelineno-116-4"></a><span class="kd">func</span><span class="w"> </span><span class="nx">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-116-5" name="__codelineno-116-5"></a><span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nx">map1</span><span class="w"> </span><span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kt">string</span>
<a id="__codelineno-116-6" name="__codelineno-116-6"></a><span class="w">    </span><span class="nx">map1</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nb">make</span><span class="p">(</span><span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kt">string</span><span class="p">)</span>
<a id="__codelineno-116-7" name="__codelineno-116-7"></a><span class="w">    </span><span class="nx">map1</span><span class="p">[</span><span class="s">&quot;a&quot;</span><span class="p">]</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nb">make</span><span class="p">(</span><span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kt">string</span><span class="p">)</span>
<a id="__codelineno-116-8" name="__codelineno-116-8"></a><span class="w">    </span><span class="nx">map1</span><span class="p">[</span><span class="s">&quot;b&quot;</span><span class="p">]</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nb">make</span><span class="p">(</span><span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kt">string</span><span class="p">)</span>
<a id="__codelineno-116-9" name="__codelineno-116-9"></a><span class="w">    </span><span class="nx">map1</span><span class="p">[</span><span class="s">&quot;b&quot;</span><span class="p">][</span><span class="s">&quot;name&quot;</span><span class="p">]</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&quot;李四&quot;</span>
<a id="__codelineno-116-10" name="__codelineno-116-10"></a><span class="w">    </span><span class="nx">map1</span><span class="p">[</span><span class="s">&quot;b&quot;</span><span class="p">][</span><span class="s">&quot;age&quot;</span><span class="p">]</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&quot;20&quot;</span>
<a id="__codelineno-116-11" name="__codelineno-116-11"></a><span class="w">    </span><span class="nx">map1</span><span class="p">[</span><span class="s">&quot;b&quot;</span><span class="p">][</span><span class="s">&quot;address&quot;</span><span class="p">]</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&quot;上海&quot;</span>
<a id="__codelineno-116-12" name="__codelineno-116-12"></a>
<a id="__codelineno-116-13" name="__codelineno-116-13"></a><span class="w">    </span><span class="nx">map1</span><span class="p">[</span><span class="s">&quot;c&quot;</span><span class="p">]</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nb">make</span><span class="p">(</span><span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kt">string</span><span class="p">)</span>
<a id="__codelineno-116-14" name="__codelineno-116-14"></a><span class="w">    </span><span class="nx">map1</span><span class="p">[</span><span class="s">&quot;c&quot;</span><span class="p">][</span><span class="s">&quot;name&quot;</span><span class="p">]</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&quot;王五&quot;</span>
<a id="__codelineno-116-15" name="__codelineno-116-15"></a><span class="w">    </span><span class="nx">map1</span><span class="p">[</span><span class="s">&quot;c&quot;</span><span class="p">][</span><span class="s">&quot;age&quot;</span><span class="p">]</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&quot;22&quot;</span>
<a id="__codelineno-116-16" name="__codelineno-116-16"></a><span class="w">    </span><span class="nx">map1</span><span class="p">[</span><span class="s">&quot;c&quot;</span><span class="p">][</span><span class="s">&quot;address&quot;</span><span class="p">]</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&quot;广州&quot;</span>
<a id="__codelineno-116-17" name="__codelineno-116-17"></a>
<a id="__codelineno-116-18" name="__codelineno-116-18"></a><span class="w">    </span><span class="nx">map1</span><span class="p">[</span><span class="s">&quot;a&quot;</span><span class="p">][</span><span class="s">&quot;name&quot;</span><span class="p">]</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&quot;张三&quot;</span>
<a id="__codelineno-116-19" name="__codelineno-116-19"></a><span class="w">    </span><span class="nx">map1</span><span class="p">[</span><span class="s">&quot;a&quot;</span><span class="p">][</span><span class="s">&quot;age&quot;</span><span class="p">]</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&quot;18&quot;</span>
<a id="__codelineno-116-20" name="__codelineno-116-20"></a><span class="w">    </span><span class="nx">map1</span><span class="p">[</span><span class="s">&quot;a&quot;</span><span class="p">][</span><span class="s">&quot;address&quot;</span><span class="p">]</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&quot;北京&quot;</span>
<a id="__codelineno-116-21" name="__codelineno-116-21"></a><span class="w">    </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="nx">map1</span><span class="p">)</span>
<a id="__codelineno-116-22" name="__codelineno-116-22"></a><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="nx">key</span><span class="p">,</span><span class="w"> </span><span class="nx">value</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="k">range</span><span class="w"> </span><span class="nx">map1</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-116-23" name="__codelineno-116-23"></a><span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="nx">key1</span><span class="p">,</span><span class="w"> </span><span class="nx">value1</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="k">range</span><span class="w"> </span><span class="nx">value</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-116-24" name="__codelineno-116-24"></a><span class="w">            </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Printf</span><span class="p">(</span><span class="s">&quot;\t%v:%v\n&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">key1</span><span class="p">,</span><span class="w"> </span><span class="nx">value1</span><span class="p">)</span>
<a id="__codelineno-116-25" name="__codelineno-116-25"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-116-26" name="__codelineno-116-26"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-116-27" name="__codelineno-116-27"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<p>输出</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-117-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-117-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-117-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-117-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-117-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-117-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-117-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-117-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-117-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-117-10">10</a></span>
<span class="normal"><a href="#__codelineno-117-11">11</a></span>
<span class="normal"><a href="#__codelineno-117-12">12</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-117-1" name="__codelineno-117-1"></a>a
<a id="__codelineno-117-2" name="__codelineno-117-2"></a><span class="w">        </span>name:张三
<a id="__codelineno-117-3" name="__codelineno-117-3"></a><span class="w">        </span>age:18
<a id="__codelineno-117-4" name="__codelineno-117-4"></a><span class="w">        </span>address:北京
<a id="__codelineno-117-5" name="__codelineno-117-5"></a>b
<a id="__codelineno-117-6" name="__codelineno-117-6"></a><span class="w">        </span>name:李四
<a id="__codelineno-117-7" name="__codelineno-117-7"></a><span class="w">        </span>age:20
<a id="__codelineno-117-8" name="__codelineno-117-8"></a><span class="w">        </span>address:上海
<a id="__codelineno-117-9" name="__codelineno-117-9"></a>c
<a id="__codelineno-117-10" name="__codelineno-117-10"></a><span class="w">        </span>name:王五
<a id="__codelineno-117-11" name="__codelineno-117-11"></a><span class="w">        </span>age:22
<a id="__codelineno-117-12" name="__codelineno-117-12"></a><span class="w">        </span>address:广州
</code></pre></div></td></tr></table></div>
<ul>
<li><code>var map1 map[string]map[string]string</code>定义一个key是string类型，value是map类型的map</li>
<li><code>map1["a"] = make(map[string]string)</code>给map1中添加一个键值对，键是"a"，值为一个新的map</li>
<li><code>map1["a"]["name"] = "张三"</code>给map1中添加一个键值对，键是"name"，值为"张三"</li>
<li><code>fmt.Println(map1)</code>打印map1的值</li>
<li><code>for key, value := range map1</code>键值循环遍历map，打印key和value</li>
<li><code>for key1, value1 := range value</code>再次键值循环遍历value，打印key1和value1</li>
</ul>
<p>数组中可以装数组，切片中可以切切片，map中也可以装map</p>
<h2 id="_29">面向对象编程<a class="headerlink" href="#_29" title="Permanent link">&para;</a></h2>
<ol>
<li>Go也支持面向对象变成（oop），但是和传统的面相对象编程有区别，并不是纯粹的面相对象编程语言。所以是支持面向对象特性是比较准确的</li>
<li>Golang没有类的概念（class）Go语言的结构体和其他编程语言的class有同等的地位，可以理解为Go语言是基于结构体来实现面向对象编程的。</li>
<li>Go语言面向对象编程非常简洁，去掉了传统面向对象语言的继承、方法重载、构造函数和析构函数、隐藏的this指针等等。Go语言仅支持封装、继承和多态特性</li>
<li>Go语言仍然有面向对象编程的继承，封装，和多态的特性，只是实现的方式和其他OOP语言不一样。</li>
</ol>
<h3 id="_30">结构体<a class="headerlink" href="#_30" title="Permanent link">&para;</a></h3>
<p>结构体的引入：</p>
<p>具体的对象，有很多的属性，这些属性是可以被封装的，这个时候就需要结构体</p>
<p>可以使用变量来处理，但是变量的缺点是：不够直观，不够清晰，不利于数据的管理和维护。</p>
<p>创建一个结构体</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-118-1">1</a></span>
<span class="normal"><a href="#__codelineno-118-2">2</a></span>
<span class="normal"><a href="#__codelineno-118-3">3</a></span>
<span class="normal"><a href="#__codelineno-118-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-118-1" name="__codelineno-118-1"></a><span class="kd">type</span><span class="w"> </span><span class="nx">Person</span><span class="w"> </span><span class="kd">struct</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-118-2" name="__codelineno-118-2"></a><span class="w">    </span><span class="nx">Name</span><span class="w"> </span><span class="kt">string</span>
<a id="__codelineno-118-3" name="__codelineno-118-3"></a><span class="w">    </span><span class="nx">Age</span><span class="w">  </span><span class="kt">int</span>
<a id="__codelineno-118-4" name="__codelineno-118-4"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<ul>
<li><code>type Person struct</code>定义一个结构体，结构体的名字叫Person</li>
<li><code>Name string</code>定义一个string类型的属性，名字叫Name</li>
<li><code>Age  int</code>定义一个int类型的属性，名字叫Age</li>
</ul>
<h4 id="_31">结构体的使用<a class="headerlink" href="#_31" title="Permanent link">&para;</a></h4>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-119-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-119-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-119-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-119-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-119-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-119-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-119-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-119-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-119-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-119-10">10</a></span>
<span class="normal"><a href="#__codelineno-119-11">11</a></span>
<span class="normal"><a href="#__codelineno-119-12">12</a></span>
<span class="normal"><a href="#__codelineno-119-13">13</a></span>
<span class="normal"><a href="#__codelineno-119-14">14</a></span>
<span class="normal"><a href="#__codelineno-119-15">15</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-119-1" name="__codelineno-119-1"></a><span class="kn">package</span><span class="w"> </span><span class="nx">main</span>
<a id="__codelineno-119-2" name="__codelineno-119-2"></a>
<a id="__codelineno-119-3" name="__codelineno-119-3"></a><span class="kn">import</span><span class="w"> </span><span class="s">&quot;fmt&quot;</span>
<a id="__codelineno-119-4" name="__codelineno-119-4"></a>
<a id="__codelineno-119-5" name="__codelineno-119-5"></a><span class="kd">type</span><span class="w"> </span><span class="nx">Person</span><span class="w"> </span><span class="kd">struct</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-119-6" name="__codelineno-119-6"></a><span class="w">    </span><span class="nx">Name</span><span class="w"> </span><span class="kt">string</span>
<a id="__codelineno-119-7" name="__codelineno-119-7"></a><span class="w">    </span><span class="nx">Age</span><span class="w">  </span><span class="kt">int</span>
<a id="__codelineno-119-8" name="__codelineno-119-8"></a><span class="p">}</span>
<a id="__codelineno-119-9" name="__codelineno-119-9"></a>
<a id="__codelineno-119-10" name="__codelineno-119-10"></a><span class="kd">func</span><span class="w"> </span><span class="nx">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-119-11" name="__codelineno-119-11"></a><span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nx">p1</span><span class="w"> </span><span class="nx">Person</span><span class="c1">//定义Person这种数据结构的结构体的一个变量，在未赋值的时候默认为0</span>
<a id="__codelineno-119-12" name="__codelineno-119-12"></a><span class="w">    </span><span class="nx">p1</span><span class="p">.</span><span class="nx">Name</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&quot;张三&quot;</span>
<a id="__codelineno-119-13" name="__codelineno-119-13"></a><span class="w">    </span><span class="nx">p1</span><span class="p">.</span><span class="nx">Age</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="mi">20</span>
<a id="__codelineno-119-14" name="__codelineno-119-14"></a><span class="w">    </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="nx">p1</span><span class="p">)</span>
<a id="__codelineno-119-15" name="__codelineno-119-15"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<p>分析一下内存</p>
<p>在内存中有一个p1的变量，指向一个内存空间（是一个值类型）。在内存空间里有name，age两个种类，指向不同的内存空间。最开始是空，赋值的过程就是把空间从空变成各种值</p>
<h4 id="_32">结构体实例的创建<a class="headerlink" href="#_32" title="Permanent link">&para;</a></h4>
<ol>
<li>直接创建（上面）</li>
<li><code>var p1 Person = Person={"monkey",21,"南京理工"}</code></li>
<li>
<p>返回的是结构体的一个指针
    <code>var p *Perple = new(Teacher)</code>
    p是一个指针，实际上就是地址，应该给这个地址指向的对象的字段进行复制操作
    <code>*p</code>获取到指针对应的值，<code>(*p).name="jjy"</code>
    *的作用获取给地址指向的值。取到那个对象之后，对这个值进行过赋值</p>
<p>为了符合程序员的编程习惯，提供了简化的复制方式，也可直接给p.age赋值。编译器实际上对p.age进行了转化</p>
</li>
</ol>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-120-1">1</a></span>
<span class="normal"><a href="#__codelineno-120-2">2</a></span>
<span class="normal"><a href="#__codelineno-120-3">3</a></span>
<span class="normal"><a href="#__codelineno-120-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-120-1" name="__codelineno-120-1"></a><span class="kd">type</span><span class="w"> </span><span class="nx">Person</span><span class="w"> </span><span class="kd">struct</span><span class="p">{</span>
<a id="__codelineno-120-2" name="__codelineno-120-2"></a><span class="w">    </span><span class="nx">Name</span><span class="w"> </span><span class="kt">string</span>
<a id="__codelineno-120-3" name="__codelineno-120-3"></a><span class="w">    </span><span class="nx">age</span><span class="w"> </span><span class="nx">init</span>
<a id="__codelineno-120-4" name="__codelineno-120-4"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<p>这个不能少</p>
<p>这四种方式，都得会，得看明白是什么意思</p>
<h4 id="_33">结构体的一个转换<a class="headerlink" href="#_33" title="Permanent link">&para;</a></h4>
<ol>
<li>结构体是用户单独定义的一个类型，和其他的类型转换时，必须有完全相同的字段</li>
<li>结构体进行type转换重新定义，相当于取别名，Golang认为是最新的数据类型，但是相互之间可以强转。</li>
</ol>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-121-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-121-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-121-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-121-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-121-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-121-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-121-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-121-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-121-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-121-10">10</a></span>
<span class="normal"><a href="#__codelineno-121-11">11</a></span>
<span class="normal"><a href="#__codelineno-121-12">12</a></span>
<span class="normal"><a href="#__codelineno-121-13">13</a></span>
<span class="normal"><a href="#__codelineno-121-14">14</a></span>
<span class="normal"><a href="#__codelineno-121-15">15</a></span>
<span class="normal"><a href="#__codelineno-121-16">16</a></span>
<span class="normal"><a href="#__codelineno-121-17">17</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-121-1" name="__codelineno-121-1"></a><span class="kd">type</span><span class="w"> </span><span class="nx">Person</span><span class="w"> </span><span class="kd">struct</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-121-2" name="__codelineno-121-2"></a><span class="w">    </span><span class="nx">Name</span><span class="w"> </span><span class="kt">string</span>
<a id="__codelineno-121-3" name="__codelineno-121-3"></a><span class="w">    </span><span class="nx">Age</span><span class="w">  </span><span class="kt">int</span>
<a id="__codelineno-121-4" name="__codelineno-121-4"></a><span class="p">}</span>
<a id="__codelineno-121-5" name="__codelineno-121-5"></a><span class="kd">type</span><span class="w"> </span><span class="nx">Student</span><span class="w"> </span><span class="kd">struct</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-121-6" name="__codelineno-121-6"></a><span class="w">    </span><span class="nx">Name</span><span class="w"> </span><span class="kt">string</span>
<a id="__codelineno-121-7" name="__codelineno-121-7"></a><span class="w">    </span><span class="nx">Age</span><span class="w">  </span><span class="kt">int</span>
<a id="__codelineno-121-8" name="__codelineno-121-8"></a><span class="p">}</span>
<a id="__codelineno-121-9" name="__codelineno-121-9"></a>
<a id="__codelineno-121-10" name="__codelineno-121-10"></a><span class="kd">func</span><span class="w"> </span><span class="nx">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-121-11" name="__codelineno-121-11"></a><span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nx">p1</span><span class="w"> </span><span class="nx">Person</span>
<a id="__codelineno-121-12" name="__codelineno-121-12"></a><span class="w">    </span><span class="nx">p1</span><span class="p">.</span><span class="nx">Name</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&quot;张三&quot;</span>
<a id="__codelineno-121-13" name="__codelineno-121-13"></a><span class="w">    </span><span class="nx">p1</span><span class="p">.</span><span class="nx">Age</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="mi">20</span>
<a id="__codelineno-121-14" name="__codelineno-121-14"></a><span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nx">stu</span><span class="w"> </span><span class="nx">Student</span>
<a id="__codelineno-121-15" name="__codelineno-121-15"></a><span class="w">    </span><span class="nx">stu</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">Student</span><span class="p">(</span><span class="nx">p1</span><span class="p">)</span><span class="c1">//把p强制转化成Student类型</span>
<a id="__codelineno-121-16" name="__codelineno-121-16"></a><span class="w">    </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="nx">stu</span><span class="p">)</span>
<a id="__codelineno-121-17" name="__codelineno-121-17"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<p><code>type Stu Student</code>也不能使Stu类型和Student类型相同</p>
<p>所以还是得强制转换</p>
<h4 id="_34">结构体的方法<a class="headerlink" href="#_34" title="Permanent link">&para;</a></h4>
<p>方法是作用在指定的数据类型上，和指定的数据类型绑定的，因此自定义类型都可以有方法，而不仅仅是struct</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-122-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-122-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-122-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-122-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-122-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-122-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-122-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-122-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-122-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-122-10">10</a></span>
<span class="normal"><a href="#__codelineno-122-11">11</a></span>
<span class="normal"><a href="#__codelineno-122-12">12</a></span>
<span class="normal"><a href="#__codelineno-122-13">13</a></span>
<span class="normal"><a href="#__codelineno-122-14">14</a></span>
<span class="normal"><a href="#__codelineno-122-15">15</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-122-1" name="__codelineno-122-1"></a><span class="kd">type</span><span class="w"> </span><span class="nx">Person</span><span class="w"> </span><span class="kd">struct</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-122-2" name="__codelineno-122-2"></a><span class="w">    </span><span class="nx">Name</span><span class="w"> </span><span class="kt">string</span>
<a id="__codelineno-122-3" name="__codelineno-122-3"></a><span class="w">    </span><span class="nx">Age</span><span class="w">  </span><span class="kt">int</span>
<a id="__codelineno-122-4" name="__codelineno-122-4"></a><span class="p">}</span>
<a id="__codelineno-122-5" name="__codelineno-122-5"></a><span class="c1">//给oerson结构体绑定一个方法</span>
<a id="__codelineno-122-6" name="__codelineno-122-6"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">p</span><span class="w"> </span><span class="nx">Person</span><span class="p">)</span><span class="w"> </span><span class="nx">SayHello</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-122-7" name="__codelineno-122-7"></a><span class="w">    </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="s">&quot;大家好，我是&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">p</span><span class="p">.</span><span class="nx">Name</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;我今年&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">p</span><span class="p">.</span><span class="nx">Age</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;岁&quot;</span><span class="p">)</span>
<a id="__codelineno-122-8" name="__codelineno-122-8"></a><span class="p">}</span>
<a id="__codelineno-122-9" name="__codelineno-122-9"></a>
<a id="__codelineno-122-10" name="__codelineno-122-10"></a><span class="kd">func</span><span class="w"> </span><span class="nx">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-122-11" name="__codelineno-122-11"></a><span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nx">p1</span><span class="w"> </span><span class="nx">Person</span>
<a id="__codelineno-122-12" name="__codelineno-122-12"></a><span class="w">    </span><span class="nx">p1</span><span class="p">.</span><span class="nx">Name</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&quot;张三&quot;</span>
<a id="__codelineno-122-13" name="__codelineno-122-13"></a><span class="w">    </span><span class="nx">p1</span><span class="p">.</span><span class="nx">Age</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="mi">20</span>
<a id="__codelineno-122-14" name="__codelineno-122-14"></a><span class="w">    </span><span class="nx">p1</span><span class="p">.</span><span class="nx">SayHello</span><span class="p">()</span>
<a id="__codelineno-122-15" name="__codelineno-122-15"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<ul>
<li><code>func (p Person) SayHello()</code>定义一个方法，方法的名字叫SayHello，参数是Person类型，用的时候用<code>p.SayHello()</code>调用</li>
<li><code>p.Name</code>和<code>p.Age</code>是Person类型的方法可以访问的属性</li>
<li><code>p.SayHello()</code>调用Person类型的方法</li>
</ul>
<p>输出</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-123-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-123-1" name="__codelineno-123-1"></a>大家好，我是<span class="w"> </span>张三<span class="w"> </span>我今年<span class="w"> </span><span class="m">20</span><span class="w"> </span>岁
</code></pre></div></td></tr></table></div>
<ol>
<li>参数方法的名字随意起名</li>
<li>结构体和方法绑定，只能在指定的数据类型进行绑定</li>
<li>如果其他类型的变量调用，会报错</li>
<li>这个结构体的对象传入的方法中，实际上是一个值传递（结构体都是值传递）和函数的参数传递一致，传入的是一个副本，不会改变原来的值</li>
</ol>
<p>实际上基本的数据类型也可以创造自己的方法</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-124-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-124-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-124-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-124-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-124-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-124-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-124-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-124-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-124-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-124-10">10</a></span>
<span class="normal"><a href="#__codelineno-124-11">11</a></span>
<span class="normal"><a href="#__codelineno-124-12">12</a></span>
<span class="normal"><a href="#__codelineno-124-13">13</a></span>
<span class="normal"><a href="#__codelineno-124-14">14</a></span>
<span class="normal"><a href="#__codelineno-124-15">15</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-124-1" name="__codelineno-124-1"></a><span class="kn">package</span><span class="w"> </span><span class="nx">main</span>
<a id="__codelineno-124-2" name="__codelineno-124-2"></a><span class="kn">import</span><span class="w"> </span><span class="s">&quot;fmt&quot;</span>
<a id="__codelineno-124-3" name="__codelineno-124-3"></a>
<a id="__codelineno-124-4" name="__codelineno-124-4"></a><span class="kd">type</span><span class="w"> </span><span class="nx">MyInt</span><span class="w"> </span><span class="kt">int</span><span class="c1">//对int类型重新定义，用来绑定方法</span>
<a id="__codelineno-124-5" name="__codelineno-124-5"></a>
<a id="__codelineno-124-6" name="__codelineno-124-6"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">m</span><span class="w"> </span><span class="nx">MyInt</span><span class="p">)</span><span class="w"> </span><span class="nx">Add</span><span class="p">(</span><span class="nx">n</span><span class="w"> </span><span class="nx">MyInt</span><span class="p">)</span><span class="w"> </span><span class="nx">MyInt</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-124-7" name="__codelineno-124-7"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">m</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">n</span>
<a id="__codelineno-124-8" name="__codelineno-124-8"></a><span class="w">    </span><span class="c1">//给int类型绑定换一个方法，用m.Add(n)调用。</span>
<a id="__codelineno-124-9" name="__codelineno-124-9"></a><span class="p">}</span>
<a id="__codelineno-124-10" name="__codelineno-124-10"></a>
<a id="__codelineno-124-11" name="__codelineno-124-11"></a><span class="kd">func</span><span class="w"> </span><span class="nx">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-124-12" name="__codelineno-124-12"></a><span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nx">m1</span><span class="w"> </span><span class="nx">MyInt</span>
<a id="__codelineno-124-13" name="__codelineno-124-13"></a><span class="w">    </span><span class="nx">m1</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="mi">1</span><span class="c1">//m在原方程中是形参，这里m1才是实参</span>
<a id="__codelineno-124-14" name="__codelineno-124-14"></a><span class="w">    </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="nx">m1</span><span class="p">.</span><span class="nx">Add</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>
<a id="__codelineno-124-15" name="__codelineno-124-15"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<ul>
<li><code>type MyInt int</code>定义一个MyInt类型，int的别名</li>
<li><code>func (m MyInt) Add(n MyInt) MyInt</code>给MyInt类型绑定一个方法，方法的名字叫Add，参数是MyInt类型，返回值也是MyInt类型</li>
<li><code>m1.Add(2)</code>调用MyInt类型的方法，返回值是MyInt类型</li>
</ul>
<p>输出</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-125-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-125-1" name="__codelineno-125-1"></a><span class="m">3</span>
</code></pre></div></td></tr></table></div>
<p>方法的访问控制权限也是小写只能在本包内被访问</p>
<p>如果一个类型实现了string这个方法，那么fmt.Println()默认会调用这个方法进行输出</p>
<p>例如</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-126-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-126-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-126-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-126-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-126-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-126-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-126-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-126-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-126-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-126-10">10</a></span>
<span class="normal"><a href="#__codelineno-126-11">11</a></span>
<span class="normal"><a href="#__codelineno-126-12">12</a></span>
<span class="normal"><a href="#__codelineno-126-13">13</a></span>
<span class="normal"><a href="#__codelineno-126-14">14</a></span>
<span class="normal"><a href="#__codelineno-126-15">15</a></span>
<span class="normal"><a href="#__codelineno-126-16">16</a></span>
<span class="normal"><a href="#__codelineno-126-17">17</a></span>
<span class="normal"><a href="#__codelineno-126-18">18</a></span>
<span class="normal"><a href="#__codelineno-126-19">19</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-126-1" name="__codelineno-126-1"></a><span class="kn">package</span><span class="w"> </span><span class="nx">main</span>
<a id="__codelineno-126-2" name="__codelineno-126-2"></a>
<a id="__codelineno-126-3" name="__codelineno-126-3"></a><span class="kn">import</span><span class="w"> </span><span class="s">&quot;fmt&quot;</span>
<a id="__codelineno-126-4" name="__codelineno-126-4"></a>
<a id="__codelineno-126-5" name="__codelineno-126-5"></a><span class="kd">type</span><span class="w"> </span><span class="nx">Person</span><span class="w"> </span><span class="kd">struct</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-126-6" name="__codelineno-126-6"></a><span class="w">    </span><span class="nx">Name</span><span class="w"> </span><span class="kt">string</span>
<a id="__codelineno-126-7" name="__codelineno-126-7"></a><span class="w">    </span><span class="nx">Age</span><span class="w">  </span><span class="kt">int</span>
<a id="__codelineno-126-8" name="__codelineno-126-8"></a><span class="p">}</span>
<a id="__codelineno-126-9" name="__codelineno-126-9"></a>
<a id="__codelineno-126-10" name="__codelineno-126-10"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">p</span><span class="w"> </span><span class="nx">Person</span><span class="p">)</span><span class="w"> </span><span class="nx">String</span><span class="p">()</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-126-11" name="__codelineno-126-11"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="s">&quot;Person{&quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">p</span><span class="p">.</span><span class="nx">Name</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&quot;,&quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Sprintf</span><span class="p">(</span><span class="s">&quot;%d&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">p</span><span class="p">.</span><span class="nx">Age</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&quot;}&quot;</span>
<a id="__codelineno-126-12" name="__codelineno-126-12"></a><span class="p">}</span>
<a id="__codelineno-126-13" name="__codelineno-126-13"></a>
<a id="__codelineno-126-14" name="__codelineno-126-14"></a><span class="kd">func</span><span class="w"> </span><span class="nx">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-126-15" name="__codelineno-126-15"></a><span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nx">p1</span><span class="w"> </span><span class="nx">Person</span>
<a id="__codelineno-126-16" name="__codelineno-126-16"></a><span class="w">    </span><span class="nx">p1</span><span class="p">.</span><span class="nx">Name</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&quot;张三&quot;</span>
<a id="__codelineno-126-17" name="__codelineno-126-17"></a><span class="w">    </span><span class="nx">p1</span><span class="p">.</span><span class="nx">Age</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="mi">20</span>
<a id="__codelineno-126-18" name="__codelineno-126-18"></a><span class="w">    </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="nx">p1</span><span class="p">)</span>
<a id="__codelineno-126-19" name="__codelineno-126-19"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<ul>
<li><code>func (p Person) String() string</code>给Person类型绑定一个方法，方法的名字叫String，参数是Person类型，返回值是string类型</li>
<li><code>fmt.Println(p1)</code>调用fmt.Println()方法，默认会调用Person类型的方法进行输出</li>
</ul>
<p>输出</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-127-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-127-1" name="__codelineno-127-1"></a>Person<span class="o">{</span>张三,20<span class="o">}</span>
</code></pre></div></td></tr></table></div>
<p>如果不想<code>return</code>的难么长的话，可以使用<code>fmt.Sprintf()</code>函数</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-128-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-128-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-128-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-128-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-128-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-128-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-128-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-128-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-128-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-128-10">10</a></span>
<span class="normal"><a href="#__codelineno-128-11">11</a></span>
<span class="normal"><a href="#__codelineno-128-12">12</a></span>
<span class="normal"><a href="#__codelineno-128-13">13</a></span>
<span class="normal"><a href="#__codelineno-128-14">14</a></span>
<span class="normal"><a href="#__codelineno-128-15">15</a></span>
<span class="normal"><a href="#__codelineno-128-16">16</a></span>
<span class="normal"><a href="#__codelineno-128-17">17</a></span>
<span class="normal"><a href="#__codelineno-128-18">18</a></span>
<span class="normal"><a href="#__codelineno-128-19">19</a></span>
<span class="normal"><a href="#__codelineno-128-20">20</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-128-1" name="__codelineno-128-1"></a><span class="kn">package</span><span class="w"> </span><span class="nx">main</span>
<a id="__codelineno-128-2" name="__codelineno-128-2"></a>
<a id="__codelineno-128-3" name="__codelineno-128-3"></a><span class="kn">import</span><span class="w"> </span><span class="s">&quot;fmt&quot;</span>
<a id="__codelineno-128-4" name="__codelineno-128-4"></a>
<a id="__codelineno-128-5" name="__codelineno-128-5"></a><span class="kd">type</span><span class="w"> </span><span class="nx">Person</span><span class="w"> </span><span class="kd">struct</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-128-6" name="__codelineno-128-6"></a><span class="w">    </span><span class="nx">Name</span><span class="w"> </span><span class="kt">string</span>
<a id="__codelineno-128-7" name="__codelineno-128-7"></a><span class="w">    </span><span class="nx">Age</span><span class="w">  </span><span class="kt">int</span>
<a id="__codelineno-128-8" name="__codelineno-128-8"></a><span class="p">}</span>
<a id="__codelineno-128-9" name="__codelineno-128-9"></a>
<a id="__codelineno-128-10" name="__codelineno-128-10"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">p</span><span class="w"> </span><span class="nx">Person</span><span class="p">)</span><span class="w"> </span><span class="nx">String</span><span class="p">()</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-128-11" name="__codelineno-128-11"></a><span class="w">    </span><span class="nx">str</span><span class="o">:=</span><span class="w"> </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Sprintf</span><span class="p">(</span><span class="s">&quot;Person{Name:%s,Age:%d}&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">p</span><span class="p">.</span><span class="nx">Name</span><span class="p">,</span><span class="w"> </span><span class="nx">p</span><span class="p">.</span><span class="nx">Age</span><span class="p">)</span>
<a id="__codelineno-128-12" name="__codelineno-128-12"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">str</span>
<a id="__codelineno-128-13" name="__codelineno-128-13"></a><span class="p">}</span>
<a id="__codelineno-128-14" name="__codelineno-128-14"></a>
<a id="__codelineno-128-15" name="__codelineno-128-15"></a><span class="kd">func</span><span class="w"> </span><span class="nx">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-128-16" name="__codelineno-128-16"></a><span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nx">p1</span><span class="w"> </span><span class="nx">Person</span>
<a id="__codelineno-128-17" name="__codelineno-128-17"></a><span class="w">    </span><span class="nx">p1</span><span class="p">.</span><span class="nx">Name</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&quot;张三&quot;</span>
<a id="__codelineno-128-18" name="__codelineno-128-18"></a><span class="w">    </span><span class="nx">p1</span><span class="p">.</span><span class="nx">Age</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="mi">20</span>
<a id="__codelineno-128-19" name="__codelineno-128-19"></a><span class="w">    </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="nx">p1</span><span class="p">)</span>
<a id="__codelineno-128-20" name="__codelineno-128-20"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<ul>
<li><code>fmt.Sprintf()</code>函数可以格式化字符串，第一个参数是格式化字符串，第二个参数是要格式化的变量</li>
<li><code>fmt.Println(p1)</code>调用fmt.Println()方法，默认会调用Person类型的方法进行输出</li>
</ul>
<p>输出</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-129-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-129-1" name="__codelineno-129-1"></a>Person<span class="o">{</span>Name:张三,Age:20<span class="o">}</span>
</code></pre></div></td></tr></table></div>
<p>函数部分也可以这样写</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-130-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-130-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-130-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-130-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-130-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-130-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-130-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-130-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-130-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-130-10">10</a></span>
<span class="normal"><a href="#__codelineno-130-11">11</a></span>
<span class="normal"><a href="#__codelineno-130-12">12</a></span>
<span class="normal"><a href="#__codelineno-130-13">13</a></span>
<span class="normal"><a href="#__codelineno-130-14">14</a></span>
<span class="normal"><a href="#__codelineno-130-15">15</a></span>
<span class="normal"><a href="#__codelineno-130-16">16</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-130-1" name="__codelineno-130-1"></a><span class="kd">type</span><span class="w"> </span><span class="nx">Person</span><span class="w"> </span><span class="kd">struct</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-130-2" name="__codelineno-130-2"></a><span class="w">    </span><span class="nx">Name</span><span class="w"> </span><span class="kt">string</span>
<a id="__codelineno-130-3" name="__codelineno-130-3"></a><span class="w">    </span><span class="nx">Age</span><span class="w">  </span><span class="kt">int</span>
<a id="__codelineno-130-4" name="__codelineno-130-4"></a><span class="p">}</span>
<a id="__codelineno-130-5" name="__codelineno-130-5"></a>
<a id="__codelineno-130-6" name="__codelineno-130-6"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">p</span><span class="w"> </span><span class="o">*</span><span class="nx">Person</span><span class="p">)</span><span class="w"> </span><span class="nx">String</span><span class="p">()</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-130-7" name="__codelineno-130-7"></a><span class="w">    </span><span class="nx">str</span><span class="o">:=</span><span class="w"> </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Sprintf</span><span class="p">(</span><span class="s">&quot;Person{Name:%s,Age:%d}&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">p</span><span class="p">.</span><span class="nx">Name</span><span class="p">,</span><span class="w"> </span><span class="nx">p</span><span class="p">.</span><span class="nx">Age</span><span class="p">)</span>
<a id="__codelineno-130-8" name="__codelineno-130-8"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">str</span>
<a id="__codelineno-130-9" name="__codelineno-130-9"></a><span class="p">}</span>
<a id="__codelineno-130-10" name="__codelineno-130-10"></a>
<a id="__codelineno-130-11" name="__codelineno-130-11"></a><span class="kd">func</span><span class="w"> </span><span class="nx">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-130-12" name="__codelineno-130-12"></a><span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nx">p1</span><span class="w"> </span><span class="nx">Person</span>
<a id="__codelineno-130-13" name="__codelineno-130-13"></a><span class="w">    </span><span class="nx">p1</span><span class="p">.</span><span class="nx">Name</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&quot;张三&quot;</span>
<a id="__codelineno-130-14" name="__codelineno-130-14"></a><span class="w">    </span><span class="nx">p1</span><span class="p">.</span><span class="nx">Age</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="mi">20</span>
<a id="__codelineno-130-15" name="__codelineno-130-15"></a><span class="w">    </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">p1</span><span class="p">)</span>
<a id="__codelineno-130-16" name="__codelineno-130-16"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<p>为了便于string的输出，最好就是直接带上这个string方法，用于输出结构体信息，会自动调用</p>
<h4 id="_35">函数和方法的区别<a class="headerlink" href="#_35" title="Permanent link">&para;</a></h4>
<ol>
<li>函数不需要绑定制定的数据类型的，方法需要绑定制定的数据类型</li>
<li>调用方法不一样，函数的调用方法是<code>函数名(实参列表)</code>，方法的调用方法是<code>变量名.方法名(实参列表)</code></li>
<li>对于函数来说，参数类型是什么既要传入什么样的值对于方法来说，可以传入指针类型，接受者为指针类型，也可以传入值类型，接受者为值类型</li>
</ol>
<h3 id="_36">创建结构体时指定字段值<a class="headerlink" href="#_36" title="Permanent link">&para;</a></h3>
<p>一.按照顺序提供值</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-131-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-131-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-131-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-131-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-131-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-131-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-131-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-131-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-131-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-131-10">10</a></span>
<span class="normal"><a href="#__codelineno-131-11">11</a></span>
<span class="normal"><a href="#__codelineno-131-12">12</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-131-1" name="__codelineno-131-1"></a><span class="kn">package</span><span class="w"> </span><span class="nx">main</span>
<a id="__codelineno-131-2" name="__codelineno-131-2"></a><span class="kn">import</span><span class="w"> </span><span class="s">&quot;fmt&quot;</span>
<a id="__codelineno-131-3" name="__codelineno-131-3"></a>
<a id="__codelineno-131-4" name="__codelineno-131-4"></a><span class="kd">type</span><span class="w"> </span><span class="nx">Person</span><span class="w"> </span><span class="kd">struct</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-131-5" name="__codelineno-131-5"></a><span class="w">    </span><span class="nx">Name</span><span class="w"> </span><span class="kt">string</span>
<a id="__codelineno-131-6" name="__codelineno-131-6"></a><span class="w">    </span><span class="nx">Age</span><span class="w">  </span><span class="kt">int</span>
<a id="__codelineno-131-7" name="__codelineno-131-7"></a><span class="p">}</span>
<a id="__codelineno-131-8" name="__codelineno-131-8"></a>
<a id="__codelineno-131-9" name="__codelineno-131-9"></a><span class="kd">func</span><span class="w"> </span><span class="nx">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-131-10" name="__codelineno-131-10"></a><span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nx">p1</span><span class="w"> </span><span class="nx">Person</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">Person</span><span class="p">{</span><span class="nx">Name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;张三&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">Age</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="p">}</span>
<a id="__codelineno-131-11" name="__codelineno-131-11"></a><span class="w">    </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="nx">p1</span><span class="p">)</span>
<a id="__codelineno-131-12" name="__codelineno-131-12"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<ul>
<li><code>var p1 Person = Person{Name: "张三", Age: 20}</code>创建Person结构体的实例，并指定Name和Age的值</li>
<li><code>fmt.Println(p1)</code>打印Person结构体的实例</li>
</ul>
<p>输出</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-132-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-132-1" name="__codelineno-132-1"></a><span class="o">{</span>张三<span class="w"> </span><span class="m">20</span><span class="o">}</span>
</code></pre></div></td></tr></table></div>
<p>二.通过key:value的方式</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-133-1">1</a></span>
<span class="normal"><a href="#__codelineno-133-2">2</a></span>
<span class="normal"><a href="#__codelineno-133-3">3</a></span>
<span class="normal"><a href="#__codelineno-133-4">4</a></span>
<span class="normal"><a href="#__codelineno-133-5">5</a></span>
<span class="normal"><a href="#__codelineno-133-6">6</a></span>
<span class="normal"><a href="#__codelineno-133-7">7</a></span>
<span class="normal"><a href="#__codelineno-133-8">8</a></span>
<span class="normal"><a href="#__codelineno-133-9">9</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-133-1" name="__codelineno-133-1"></a><span class="kd">type</span><span class="w"> </span><span class="nx">Person</span><span class="w"> </span><span class="kd">struct</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-133-2" name="__codelineno-133-2"></a><span class="w">    </span><span class="nx">Name</span><span class="w"> </span><span class="kt">string</span>
<a id="__codelineno-133-3" name="__codelineno-133-3"></a><span class="w">    </span><span class="nx">Age</span><span class="w">  </span><span class="kt">int</span>
<a id="__codelineno-133-4" name="__codelineno-133-4"></a><span class="p">}</span>
<a id="__codelineno-133-5" name="__codelineno-133-5"></a>
<a id="__codelineno-133-6" name="__codelineno-133-6"></a><span class="kd">func</span><span class="w"> </span><span class="nx">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-133-7" name="__codelineno-133-7"></a><span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nx">p1</span><span class="w"> </span><span class="nx">Person</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">Person</span><span class="p">{</span><span class="nx">Name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;张三&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">Age</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="p">,}</span>
<a id="__codelineno-133-8" name="__codelineno-133-8"></a><span class="w">    </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="nx">p1</span><span class="p">)</span>
<a id="__codelineno-133-9" name="__codelineno-133-9"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<ul>
<li><code>var p1 Person = Person{Name: "张三", Age: 20}</code>创建Person结构体的实例，并指定Name和Age的值</li>
<li><code>fmt.Println(p1)</code>打印Person结构体的实例</li>
</ul>
<p>三.想要返回结构体的指针类型</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-134-1">1</a></span>
<span class="normal"><a href="#__codelineno-134-2">2</a></span>
<span class="normal"><a href="#__codelineno-134-3">3</a></span>
<span class="normal"><a href="#__codelineno-134-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-134-1" name="__codelineno-134-1"></a><span class="kd">func</span><span class="w"> </span><span class="nx">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-134-2" name="__codelineno-134-2"></a><span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nx">p1</span><span class="w"> </span><span class="o">*</span><span class="nx">Person</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="o">&amp;</span><span class="nx">Person</span><span class="p">{</span><span class="nx">Name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;张三&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">Age</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="p">}</span>
<a id="__codelineno-134-3" name="__codelineno-134-3"></a><span class="w">    </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="o">*</span><span class="nx">p1</span><span class="p">)</span>
<a id="__codelineno-134-4" name="__codelineno-134-4"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<ul>
<li><code>var p1 *Person = &amp;Person{Name: "张三", Age: 20}</code>创建Person结构体的实例的指针，并指定Name和Age的值</li>
<li><code>fmt.Println(p1)</code>打印Person结构体的实例的指针</li>
</ul>
<h3 id="_37">跨包创建结构体实例<a class="headerlink" href="#_37" title="Permanent link">&para;</a></h3>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-135-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-135-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-135-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-135-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-135-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-135-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-135-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-135-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-135-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-135-10">10</a></span>
<span class="normal"><a href="#__codelineno-135-11">11</a></span>
<span class="normal"><a href="#__codelineno-135-12">12</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-135-1" name="__codelineno-135-1"></a><span class="kn">package</span><span class="w"> </span><span class="nx">main</span>
<a id="__codelineno-135-2" name="__codelineno-135-2"></a>
<a id="__codelineno-135-3" name="__codelineno-135-3"></a><span class="kn">import</span><span class="w"> </span><span class="p">(</span>
<a id="__codelineno-135-4" name="__codelineno-135-4"></a><span class="w">    </span><span class="s">&quot;fmt&quot;</span>
<a id="__codelineno-135-5" name="__codelineno-135-5"></a><span class="w">    </span><span class="s">&quot;go_code/project01/model&quot;</span><span class="c1">//按照文件位置导入就好了</span>
<a id="__codelineno-135-6" name="__codelineno-135-6"></a><span class="p">)</span>
<a id="__codelineno-135-7" name="__codelineno-135-7"></a>
<a id="__codelineno-135-8" name="__codelineno-135-8"></a><span class="kd">func</span><span class="w"> </span><span class="nx">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-135-9" name="__codelineno-135-9"></a><span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nx">p1</span><span class="w"> </span><span class="nx">model</span><span class="p">.</span><span class="nx">Person</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">model</span><span class="p">.</span><span class="nx">Person</span><span class="p">{</span><span class="nx">Name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;张三&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">Age</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="p">,}</span>
<a id="__codelineno-135-10" name="__codelineno-135-10"></a><span class="w">    </span><span class="nx">p2</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">model</span><span class="p">.</span><span class="nx">NewPerson</span><span class="p">(</span><span class="nx">Name</span><span class="p">:</span><span class="s">&quot;李四&quot;</span><span class="p">,</span><span class="nx">Age</span><span class="p">:</span><span class="mi">20</span><span class="p">,)</span><span class="c1">//这种简单省事的方法也可以</span>
<a id="__codelineno-135-11" name="__codelineno-135-11"></a><span class="w">    </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="nx">p1</span><span class="p">)</span>
<a id="__codelineno-135-12" name="__codelineno-135-12"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<ul>
<li><code>import "go_code/project01/model"</code>导入model包</li>
<li><code>var p1 model.Person = model.Person{Name: "张三", Age: 20}</code>创建model包里的Person结构体的实例，并指定Name和Age的值</li>
<li><code>fmt.Println(p1)</code>打印Person结构体的实例</li>
</ul>
<p>定义结构体的包</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-136-1">1</a></span>
<span class="normal"><a href="#__codelineno-136-2">2</a></span>
<span class="normal"><a href="#__codelineno-136-3">3</a></span>
<span class="normal"><a href="#__codelineno-136-4">4</a></span>
<span class="normal"><a href="#__codelineno-136-5">5</a></span>
<span class="normal"><a href="#__codelineno-136-6">6</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-136-1" name="__codelineno-136-1"></a><span class="kn">package</span><span class="w"> </span><span class="nx">model</span>
<a id="__codelineno-136-2" name="__codelineno-136-2"></a>
<a id="__codelineno-136-3" name="__codelineno-136-3"></a><span class="kd">type</span><span class="w"> </span><span class="nx">Person</span><span class="w"> </span><span class="kd">struct</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-136-4" name="__codelineno-136-4"></a><span class="w">    </span><span class="nx">Name</span><span class="w"> </span><span class="kt">string</span>
<a id="__codelineno-136-5" name="__codelineno-136-5"></a><span class="w">    </span><span class="nx">Age</span><span class="w">  </span><span class="kt">int</span>
<a id="__codelineno-136-6" name="__codelineno-136-6"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<ul>
<li><code>package model</code>定义model包</li>
<li><code>type Person struct</code>定义Person结构体</li>
<li><code>Name string</code>定义Name属性</li>
<li><code>Age  int</code>定义Age属性</li>
</ul>
<p>结构体的首字母要大写，才能在别的包内被调用</p>
<p>如果小写了，可以通过工厂模式来解决</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-137-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-137-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-137-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-137-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-137-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-137-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-137-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-137-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-137-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-137-10">10</a></span>
<span class="normal"><a href="#__codelineno-137-11">11</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-137-1" name="__codelineno-137-1"></a><span class="kn">package</span><span class="w"> </span><span class="nx">model</span>
<a id="__codelineno-137-2" name="__codelineno-137-2"></a>
<a id="__codelineno-137-3" name="__codelineno-137-3"></a><span class="kd">type</span><span class="w"> </span><span class="nx">person</span><span class="w"> </span><span class="kd">struct</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-137-4" name="__codelineno-137-4"></a><span class="w">    </span><span class="nx">Name</span><span class="w"> </span><span class="kt">string</span>
<a id="__codelineno-137-5" name="__codelineno-137-5"></a><span class="w">    </span><span class="nx">Age</span><span class="w">  </span><span class="kt">int</span>
<a id="__codelineno-137-6" name="__codelineno-137-6"></a><span class="p">}</span>
<a id="__codelineno-137-7" name="__codelineno-137-7"></a>
<a id="__codelineno-137-8" name="__codelineno-137-8"></a><span class="kd">func</span><span class="w"> </span><span class="nx">NewPerson</span><span class="p">(</span><span class="nx">name</span><span class="w"> </span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="nx">age</span><span class="w"> </span><span class="kt">int</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="nx">Person</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-137-9" name="__codelineno-137-9"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="o">&amp;</span><span class="nx">person</span><span class="p">{</span><span class="nx">Name</span><span class="p">:</span><span class="w"> </span><span class="nx">name</span><span class="p">,</span><span class="w"> </span><span class="nx">Age</span><span class="p">:</span><span class="w"> </span><span class="nx">age</span><span class="p">}</span>
<a id="__codelineno-137-10" name="__codelineno-137-10"></a><span class="p">}</span>
<a id="__codelineno-137-11" name="__codelineno-137-11"></a><span class="c1">//创建一个函数，调用函数就OK了</span>
</code></pre></div></td></tr></table></div>
<ul>
<li><code>func NewPerson(name string, age int) *person</code>定义一个工厂函数，返回值是Person结构体的指针</li>
<li><code>return &amp;person{Name: name, Age: age}</code>返回一个Person结构体的指针，并指定Name和Age的值</li>
</ul>
<p>调用</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-138-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-138-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-138-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-138-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-138-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-138-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-138-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-138-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-138-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-138-10">10</a></span>
<span class="normal"><a href="#__codelineno-138-11">11</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-138-1" name="__codelineno-138-1"></a><span class="kn">package</span><span class="w"> </span><span class="nx">main</span>
<a id="__codelineno-138-2" name="__codelineno-138-2"></a>
<a id="__codelineno-138-3" name="__codelineno-138-3"></a><span class="kn">import</span><span class="w"> </span><span class="p">(</span>
<a id="__codelineno-138-4" name="__codelineno-138-4"></a><span class="w">    </span><span class="s">&quot;fmt&quot;</span>
<a id="__codelineno-138-5" name="__codelineno-138-5"></a><span class="w">    </span><span class="s">&quot;go_code/project01/model&quot;</span>
<a id="__codelineno-138-6" name="__codelineno-138-6"></a><span class="p">)</span>
<a id="__codelineno-138-7" name="__codelineno-138-7"></a>
<a id="__codelineno-138-8" name="__codelineno-138-8"></a><span class="kd">func</span><span class="w"> </span><span class="nx">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-138-9" name="__codelineno-138-9"></a><span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nx">p1</span><span class="w"> </span><span class="o">*</span><span class="nx">model</span><span class="p">.</span><span class="nx">person</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">model</span><span class="p">.</span><span class="nx">NewPerson</span><span class="p">(</span><span class="s">&quot;张三&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">20</span><span class="p">)</span>
<a id="__codelineno-138-10" name="__codelineno-138-10"></a><span class="w">    </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="o">*</span><span class="nx">p1</span><span class="p">)</span>
<a id="__codelineno-138-11" name="__codelineno-138-11"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<h3 id="_38">封装的引入<a class="headerlink" href="#_38" title="Permanent link">&para;</a></h3>
<p>封装的概念</p>
<ul>
<li>封装：隐藏内部实现细节，只暴露必要的接口，外部代码只能通过接口来访问对象的属性和方法</li>
<li>面向对象编程的封装：隐藏对象的属性和方法，只暴露必要的接口，外部代码只能通过接口来访问对象的属性和方法</li>
</ul>
<p>好处：</p>
<ol>
<li>隐藏内部实现细节，提高代码的可读性和可维护性</li>
<li>提高代码的安全性，防止代码被随意修改</li>
<li>降低耦合度，提高代码的可复用性</li>
</ol>
<h4 id="_39">封装的实现<a class="headerlink" href="#_39" title="Permanent link">&para;</a></h4>
<ul>
<li>建议将结构体，字段属性的首字母小写（其他包无法使用）</li>
<li>给结构体的所在包提供一个工厂模式的函数，其首字母大写（类似一个构造函数）</li>
<li>提供一个首字母大写的Set方法（类似修改器），用于对属性判断并赋值</li>
<li>提供一个首字母大写的Get方法（类似访问器），用于获取属性值</li>
<li>还可以在数据内部进行数据的逻辑判断</li>
</ul>
<p>代码实现</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-139-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-139-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-139-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-139-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-139-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-139-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-139-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-139-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-139-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-139-10">10</a></span>
<span class="normal"><a href="#__codelineno-139-11">11</a></span>
<span class="normal"><a href="#__codelineno-139-12">12</a></span>
<span class="normal"><a href="#__codelineno-139-13">13</a></span>
<span class="normal"><a href="#__codelineno-139-14">14</a></span>
<span class="normal"><a href="#__codelineno-139-15">15</a></span>
<span class="normal"><a href="#__codelineno-139-16">16</a></span>
<span class="normal"><a href="#__codelineno-139-17">17</a></span>
<span class="normal"><a href="#__codelineno-139-18">18</a></span>
<span class="normal"><a href="#__codelineno-139-19">19</a></span>
<span class="normal"><a href="#__codelineno-139-20">20</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-139-1" name="__codelineno-139-1"></a><span class="kd">type</span><span class="w"> </span><span class="nx">person</span><span class="w"> </span><span class="kd">struct</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-139-2" name="__codelineno-139-2"></a><span class="w">    </span><span class="nx">Name</span><span class="w"> </span><span class="kt">string</span>
<a id="__codelineno-139-3" name="__codelineno-139-3"></a><span class="w">    </span><span class="nx">age</span><span class="w">  </span><span class="kt">int</span>
<a id="__codelineno-139-4" name="__codelineno-139-4"></a><span class="p">}</span>
<a id="__codelineno-139-5" name="__codelineno-139-5"></a>
<a id="__codelineno-139-6" name="__codelineno-139-6"></a><span class="kd">func</span><span class="w"> </span><span class="nx">NewPerson</span><span class="p">(</span><span class="nx">name</span><span class="w"> </span><span class="kt">string</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="nx">person</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-139-7" name="__codelineno-139-7"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="o">&amp;</span><span class="nx">person</span><span class="p">{</span><span class="nx">Name</span><span class="p">:</span><span class="w"> </span><span class="nx">name</span><span class="p">,}</span>
<a id="__codelineno-139-8" name="__codelineno-139-8"></a><span class="p">}</span>
<a id="__codelineno-139-9" name="__codelineno-139-9"></a>
<a id="__codelineno-139-10" name="__codelineno-139-10"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">p</span><span class="w"> </span><span class="o">*</span><span class="nx">person</span><span class="p">)</span><span class="w"> </span><span class="nx">SetAge</span><span class="p">(</span><span class="nx">age</span><span class="w"> </span><span class="kt">int</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-139-11" name="__codelineno-139-11"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="nx">age</span><span class="w"> </span><span class="p">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nx">age</span><span class="w"> </span><span class="p">&lt;</span><span class="w"> </span><span class="mi">150</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-139-12" name="__codelineno-139-12"></a><span class="w">        </span><span class="nx">p</span><span class="p">.</span><span class="nx">age</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">age</span>
<a id="__codelineno-139-13" name="__codelineno-139-13"></a><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-139-14" name="__codelineno-139-14"></a><span class="w">        </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="s">&quot;输入的年龄不正确&quot;</span><span class="p">)</span>
<a id="__codelineno-139-15" name="__codelineno-139-15"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-139-16" name="__codelineno-139-16"></a><span class="p">}</span>
<a id="__codelineno-139-17" name="__codelineno-139-17"></a>
<a id="__codelineno-139-18" name="__codelineno-139-18"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">p</span><span class="w"> </span><span class="o">*</span><span class="nx">person</span><span class="p">)</span><span class="w"> </span><span class="nx">GetAge</span><span class="p">()</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-139-19" name="__codelineno-139-19"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">p</span><span class="p">.</span><span class="nx">age</span>
<a id="__codelineno-139-20" name="__codelineno-139-20"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<ul>
<li><code>type person struct</code>定义person结构体</li>
<li><code>age  int</code>定义age属性</li>
<li><code>func NewPerson(name string, age int) *person</code>定义一个工厂函数，返回值是person结构体的指针</li>
<li><code>func (p *person) SetAge(age int)</code>给person结构体绑定一个修改器，用于对age属性判断并赋值</li>
<li><code>func (p *person) GetAge() int</code>给person结构体绑定一个访问器，用于获取age属性值</li>
</ul>
<p>调用</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-140-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-140-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-140-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-140-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-140-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-140-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-140-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-140-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-140-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-140-10">10</a></span>
<span class="normal"><a href="#__codelineno-140-11">11</a></span>
<span class="normal"><a href="#__codelineno-140-12">12</a></span>
<span class="normal"><a href="#__codelineno-140-13">13</a></span>
<span class="normal"><a href="#__codelineno-140-14">14</a></span>
<span class="normal"><a href="#__codelineno-140-15">15</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-140-1" name="__codelineno-140-1"></a><span class="kn">package</span><span class="w"> </span><span class="nx">main</span>
<a id="__codelineno-140-2" name="__codelineno-140-2"></a>
<a id="__codelineno-140-3" name="__codelineno-140-3"></a><span class="kn">import</span><span class="w"> </span><span class="p">(</span>
<a id="__codelineno-140-4" name="__codelineno-140-4"></a><span class="w">    </span><span class="s">&quot;fmt&quot;</span>
<a id="__codelineno-140-5" name="__codelineno-140-5"></a><span class="w">    </span><span class="s">&quot;go_code/project01/model&quot;</span>
<a id="__codelineno-140-6" name="__codelineno-140-6"></a><span class="p">)</span>
<a id="__codelineno-140-7" name="__codelineno-140-7"></a>
<a id="__codelineno-140-8" name="__codelineno-140-8"></a><span class="kd">func</span><span class="w"> </span><span class="nx">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-140-9" name="__codelineno-140-9"></a><span class="w">    </span><span class="nx">p1</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">model</span><span class="p">.</span><span class="nx">NewPerson</span><span class="p">(</span><span class="s">&quot;张三&quot;</span><span class="p">)</span>
<a id="__codelineno-140-10" name="__codelineno-140-10"></a><span class="w">    </span><span class="nx">p1</span><span class="p">.</span><span class="nx">SetAge</span><span class="p">(</span><span class="mi">25</span><span class="p">)</span>
<a id="__codelineno-140-11" name="__codelineno-140-11"></a>
<a id="__codelineno-140-12" name="__codelineno-140-12"></a><span class="w">    </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="nx">p1</span><span class="p">.</span><span class="nx">Name</span><span class="p">)</span>
<a id="__codelineno-140-13" name="__codelineno-140-13"></a><span class="w">    </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="nx">p1</span><span class="p">.</span><span class="nx">GetAge</span><span class="p">())</span>
<a id="__codelineno-140-14" name="__codelineno-140-14"></a><span class="w">    </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="o">*</span><span class="nx">p1</span><span class="p">)</span>
<a id="__codelineno-140-15" name="__codelineno-140-15"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<ul>
<li><code>var p1 *model.person = model.NewPerson("张三", 20)</code>创建person结构体的实例的指针，并指定Name和age的值</li>
<li><code>p1.SetAge(25)</code>调用person结构体的修改器，修改age属性的值</li>
<li><code>fmt.Println(p1.GetAge())</code>调用person结构体的访问器，获取age属性的值</li>
</ul>
<p>输出</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-141-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-141-1" name="__codelineno-141-1"></a><span class="m">25</span>
</code></pre></div></td></tr></table></div>
<h4 id="_40">结构体的继承<a class="headerlink" href="#_40" title="Permanent link">&para;</a></h4>
<p>两个结构体之间可以进行抽取，抽取出一个共同的属性和方法，形成一种新的结构体，就是继承的思想。</p>
<p>其他结构体只需要嵌套一个匿名的结构体就可以了，这就是继承的思想</p>
<p>例如</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-142-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-142-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-142-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-142-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-142-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-142-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-142-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-142-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-142-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-142-10">10</a></span>
<span class="normal"><a href="#__codelineno-142-11">11</a></span>
<span class="normal"><a href="#__codelineno-142-12">12</a></span>
<span class="normal"><a href="#__codelineno-142-13">13</a></span>
<span class="normal"><a href="#__codelineno-142-14">14</a></span>
<span class="normal"><a href="#__codelineno-142-15">15</a></span>
<span class="normal"><a href="#__codelineno-142-16">16</a></span>
<span class="normal"><a href="#__codelineno-142-17">17</a></span>
<span class="normal"><a href="#__codelineno-142-18">18</a></span>
<span class="normal"><a href="#__codelineno-142-19">19</a></span>
<span class="normal"><a href="#__codelineno-142-20">20</a></span>
<span class="normal"><a href="#__codelineno-142-21">21</a></span>
<span class="normal"><a href="#__codelineno-142-22">22</a></span>
<span class="normal"><a href="#__codelineno-142-23">23</a></span>
<span class="normal"><a href="#__codelineno-142-24">24</a></span>
<span class="normal"><a href="#__codelineno-142-25">25</a></span>
<span class="normal"><a href="#__codelineno-142-26">26</a></span>
<span class="normal"><a href="#__codelineno-142-27">27</a></span>
<span class="normal"><a href="#__codelineno-142-28">28</a></span>
<span class="normal"><a href="#__codelineno-142-29">29</a></span>
<span class="normal"><a href="#__codelineno-142-30">30</a></span>
<span class="normal"><a href="#__codelineno-142-31">31</a></span>
<span class="normal"><a href="#__codelineno-142-32">32</a></span>
<span class="normal"><a href="#__codelineno-142-33">33</a></span>
<span class="normal"><a href="#__codelineno-142-34">34</a></span>
<span class="normal"><a href="#__codelineno-142-35">35</a></span>
<span class="normal"><a href="#__codelineno-142-36">36</a></span>
<span class="normal"><a href="#__codelineno-142-37">37</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-142-1" name="__codelineno-142-1"></a><span class="kd">type</span><span class="w"> </span><span class="nx">Animal</span><span class="w"> </span><span class="kd">struct</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-142-2" name="__codelineno-142-2"></a><span class="w">    </span><span class="nx">Name</span><span class="w"> </span><span class="kt">string</span>
<a id="__codelineno-142-3" name="__codelineno-142-3"></a><span class="w">    </span><span class="nx">Age</span><span class="w">  </span><span class="kt">int</span>
<a id="__codelineno-142-4" name="__codelineno-142-4"></a><span class="w">    </span><span class="nx">Weight</span><span class="w"> </span><span class="kt">float32</span>
<a id="__codelineno-142-5" name="__codelineno-142-5"></a><span class="p">}</span>
<a id="__codelineno-142-6" name="__codelineno-142-6"></a>
<a id="__codelineno-142-7" name="__codelineno-142-7"></a><span class="c1">//给animal结构体绑定一个方法</span>
<a id="__codelineno-142-8" name="__codelineno-142-8"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">a</span><span class="w"> </span><span class="o">*</span><span class="nx">Animal</span><span class="p">)</span><span class="w"> </span><span class="nx">shout</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-142-9" name="__codelineno-142-9"></a><span class="w">    </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">Name</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;会喊&quot;</span><span class="p">)</span>
<a id="__codelineno-142-10" name="__codelineno-142-10"></a><span class="p">}</span>
<a id="__codelineno-142-11" name="__codelineno-142-11"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">a</span><span class="w"> </span><span class="o">*</span><span class="nx">Animal</span><span class="p">)</span><span class="w"> </span><span class="nx">move</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-142-12" name="__codelineno-142-12"></a><span class="w">    </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">Name</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;会动&quot;</span><span class="p">)</span>
<a id="__codelineno-142-13" name="__codelineno-142-13"></a><span class="p">}</span>
<a id="__codelineno-142-14" name="__codelineno-142-14"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">a</span><span class="w"> </span><span class="o">*</span><span class="nx">Animal</span><span class="p">)</span><span class="w"> </span><span class="nx">showInfo</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-142-15" name="__codelineno-142-15"></a><span class="w">    </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Printf</span><span class="p">(</span><span class="s">&quot;名字：%s,年龄：%d,体重：%.2f\n&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">a</span><span class="p">.</span><span class="nx">Name</span><span class="p">,</span><span class="w"> </span><span class="nx">a</span><span class="p">.</span><span class="nx">Age</span><span class="p">,</span><span class="w"> </span><span class="nx">a</span><span class="p">.</span><span class="nx">Weight</span><span class="p">)</span>
<a id="__codelineno-142-16" name="__codelineno-142-16"></a><span class="p">}</span>
<a id="__codelineno-142-17" name="__codelineno-142-17"></a>
<a id="__codelineno-142-18" name="__codelineno-142-18"></a><span class="c1">//再定义结构体cat</span>
<a id="__codelineno-142-19" name="__codelineno-142-19"></a><span class="kd">type</span><span class="w"> </span><span class="nx">Cat</span><span class="w"> </span><span class="kd">struct</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-142-20" name="__codelineno-142-20"></a><span class="w">    </span><span class="nx">Animal</span><span class="c1">//嵌套一个匿名的结构体</span>
<a id="__codelineno-142-21" name="__codelineno-142-21"></a><span class="w">    </span><span class="nx">Color</span><span class="w"> </span><span class="kt">string</span>
<a id="__codelineno-142-22" name="__codelineno-142-22"></a><span class="p">}</span>
<a id="__codelineno-142-23" name="__codelineno-142-23"></a>
<a id="__codelineno-142-24" name="__codelineno-142-24"></a><span class="c1">//给cat结构体绑定一个方法</span>
<a id="__codelineno-142-25" name="__codelineno-142-25"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">c</span><span class="w"> </span><span class="o">*</span><span class="nx">Cat</span><span class="p">)</span><span class="w"> </span><span class="nx">meow</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-142-26" name="__codelineno-142-26"></a><span class="w">    </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="nx">c</span><span class="p">.</span><span class="nx">Name</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;会喵喵叫&quot;</span><span class="p">)</span>
<a id="__codelineno-142-27" name="__codelineno-142-27"></a><span class="p">}</span>
<a id="__codelineno-142-28" name="__codelineno-142-28"></a><span class="kd">func</span><span class="w"> </span><span class="nx">main</span><span class="p">(){</span>
<a id="__codelineno-142-29" name="__codelineno-142-29"></a><span class="w">    </span><span class="nx">cat</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="o">&amp;</span><span class="nx">Cat</span><span class="p">{</span>
<a id="__codelineno-142-30" name="__codelineno-142-30"></a><span class="w">        </span><span class="nx">Animal</span><span class="p">:</span><span class="w"> </span><span class="nx">Animal</span><span class="p">{</span><span class="nx">Name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;小花&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">Age</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="nx">Weight</span><span class="p">:</span><span class="w"> </span><span class="mf">2.3</span><span class="p">},</span>
<a id="__codelineno-142-31" name="__codelineno-142-31"></a><span class="w">        </span><span class="nx">Color</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;花色&quot;</span><span class="p">,</span>
<a id="__codelineno-142-32" name="__codelineno-142-32"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-142-33" name="__codelineno-142-33"></a><span class="w">    </span><span class="nx">cat</span><span class="p">.</span><span class="nx">shout</span><span class="p">()</span><span class="c1">//cat.Animal.shout()也可以</span>
<a id="__codelineno-142-34" name="__codelineno-142-34"></a><span class="w">    </span><span class="nx">cat</span><span class="p">.</span><span class="nx">move</span><span class="p">()</span>
<a id="__codelineno-142-35" name="__codelineno-142-35"></a><span class="w">    </span><span class="nx">cat</span><span class="p">.</span><span class="nx">showInfo</span><span class="p">()</span>
<a id="__codelineno-142-36" name="__codelineno-142-36"></a><span class="w">    </span><span class="nx">cat</span><span class="p">.</span><span class="nx">meow</span><span class="p">()</span>
<a id="__codelineno-142-37" name="__codelineno-142-37"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<p>继承的优点：提高代码的复用性和扩展性，减少代码的冗余度</p>
<h4 id="_41">继承的注意事项<a class="headerlink" href="#_41" title="Permanent link">&para;</a></h4>
<ol>
<li>结构体可以使用嵌套匿名结构所有的字段和方法，也就是首字母大写或者小写的字段，方法，都可以被继承</li>
<li>结构体字段访问可以简化</li>
<li>当结构体和匿名结构体有相同的字段或者方法时，编译器就会采用就近访问原则来区分。如果希望访问匿名的结构体的字段和方法，就可以通过匿名结构体来区分</li>
<li>结构体的嵌套层级不能太深，否则会导致编译错误</li>
<li>如果嵌套了多个匿名结构体，那么该结构体可以直接访问嵌套的匿名结构体的字段和方法,为了保证代码的简洁性，建议不要使用多重继承（不要嵌套多个匿名结构体）</li>
<li>如果嵌入的匿名结构体中有相同的字段名或者方法名，则在访问时需要通过匿名结构体类型来区分</li>
<li>结构体的匿名字段可以是基本数据类型</li>
<li>写多重继承的时候，嵌入了多重结构体，可以直接赋值</li>
<li>嵌入匿名结构体的指针也是可以的(取的时候用<code>*</code>就可以取出值)</li>
<li>
<p>结构体的字段也可以是结构体类型的</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-143-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-143-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-143-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-143-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-143-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-143-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-143-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-143-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-143-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-143-10">10</a></span>
<span class="normal"><a href="#__codelineno-143-11">11</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-143-1" name="__codelineno-143-1"></a><span class="kd">type</span><span class="w"> </span><span class="nx">D</span><span class="w"> </span><span class="kd">struct</span><span class="p">{</span>
<a id="__codelineno-143-2" name="__codelineno-143-2"></a><span class="w">    </span><span class="nx">a</span><span class="w"> </span><span class="nx">ini</span>
<a id="__codelineno-143-3" name="__codelineno-143-3"></a><span class="w">    </span><span class="nx">b</span><span class="w"> </span><span class="kt">string</span>
<a id="__codelineno-143-4" name="__codelineno-143-4"></a><span class="w">    </span><span class="nx">c</span><span class="w"> </span><span class="nx">B</span>
<a id="__codelineno-143-5" name="__codelineno-143-5"></a><span class="p">}</span>
<a id="__codelineno-143-6" name="__codelineno-143-6"></a><span class="c1">//传统的</span>
<a id="__codelineno-143-7" name="__codelineno-143-7"></a><span class="kd">type</span><span class="w"> </span><span class="nx">E</span><span class="w"> </span><span class="kd">struct</span><span class="p">{</span>
<a id="__codelineno-143-8" name="__codelineno-143-8"></a><span class="w">    </span><span class="kt">int</span>
<a id="__codelineno-143-9" name="__codelineno-143-9"></a><span class="w">    </span><span class="kt">string</span>
<a id="__codelineno-143-10" name="__codelineno-143-10"></a><span class="w">    </span><span class="nx">B</span>
<a id="__codelineno-143-11" name="__codelineno-143-11"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
</li>
</ol>
<h3 id="_42">接口的引入<a class="headerlink" href="#_42" title="Permanent link">&para;</a></h3>
<p>接口中可以定义一组方法，但是不需要实现，不需要方法体，并且接口中不能包含任何变量。</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-144-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-144-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-144-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-144-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-144-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-144-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-144-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-144-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-144-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-144-10">10</a></span>
<span class="normal"><a href="#__codelineno-144-11">11</a></span>
<span class="normal"><a href="#__codelineno-144-12">12</a></span>
<span class="normal"><a href="#__codelineno-144-13">13</a></span>
<span class="normal"><a href="#__codelineno-144-14">14</a></span>
<span class="normal"><a href="#__codelineno-144-15">15</a></span>
<span class="normal"><a href="#__codelineno-144-16">16</a></span>
<span class="normal"><a href="#__codelineno-144-17">17</a></span>
<span class="normal"><a href="#__codelineno-144-18">18</a></span>
<span class="normal"><a href="#__codelineno-144-19">19</a></span>
<span class="normal"><a href="#__codelineno-144-20">20</a></span>
<span class="normal"><a href="#__codelineno-144-21">21</a></span>
<span class="normal"><a href="#__codelineno-144-22">22</a></span>
<span class="normal"><a href="#__codelineno-144-23">23</a></span>
<span class="normal"><a href="#__codelineno-144-24">24</a></span>
<span class="normal"><a href="#__codelineno-144-25">25</a></span>
<span class="normal"><a href="#__codelineno-144-26">26</a></span>
<span class="normal"><a href="#__codelineno-144-27">27</a></span>
<span class="normal"><a href="#__codelineno-144-28">28</a></span>
<span class="normal"><a href="#__codelineno-144-29">29</a></span>
<span class="normal"><a href="#__codelineno-144-30">30</a></span>
<span class="normal"><a href="#__codelineno-144-31">31</a></span>
<span class="normal"><a href="#__codelineno-144-32">32</a></span>
<span class="normal"><a href="#__codelineno-144-33">33</a></span>
<span class="normal"><a href="#__codelineno-144-34">34</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-144-1" name="__codelineno-144-1"></a><span class="kd">type</span><span class="w"> </span><span class="nx">Sayhello</span><span class="w"> </span><span class="kd">interface</span><span class="p">{</span>
<a id="__codelineno-144-2" name="__codelineno-144-2"></a><span class="w">    </span><span class="c1">//声明一个接口</span>
<a id="__codelineno-144-3" name="__codelineno-144-3"></a><span class="w">    </span><span class="nx">sayHello</span><span class="p">()</span><span class="c1">//方法名称</span>
<a id="__codelineno-144-4" name="__codelineno-144-4"></a><span class="p">}</span>
<a id="__codelineno-144-5" name="__codelineno-144-5"></a>
<a id="__codelineno-144-6" name="__codelineno-144-6"></a><span class="c1">//接口的实现，定义一个结构体</span>
<a id="__codelineno-144-7" name="__codelineno-144-7"></a><span class="c1">//中国人</span>
<a id="__codelineno-144-8" name="__codelineno-144-8"></a><span class="kd">type</span><span class="w"> </span><span class="nx">Chinese</span><span class="w"> </span><span class="kd">struct</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-144-9" name="__codelineno-144-9"></a>
<a id="__codelineno-144-10" name="__codelineno-144-10"></a><span class="p">}</span>
<a id="__codelineno-144-11" name="__codelineno-144-11"></a>
<a id="__codelineno-144-12" name="__codelineno-144-12"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">person</span><span class="w"> </span><span class="nx">Chinense</span><span class="p">)</span><span class="w"> </span><span class="nx">sayHello</span><span class="cm">/*方法名称*/</span><span class="p">{</span>
<a id="__codelineno-144-13" name="__codelineno-144-13"></a><span class="w">    </span><span class="nx">fmt</span><span class="p">.</span><span class="nb">println</span><span class="p">(</span><span class="s">&quot;你好&quot;</span><span class="p">)</span><span class="c1">//实现接口的方法，进行具体的视线输出</span>
<a id="__codelineno-144-14" name="__codelineno-144-14"></a><span class="p">}</span>
<a id="__codelineno-144-15" name="__codelineno-144-15"></a><span class="kd">type</span><span class="w"> </span><span class="nx">American</span><span class="w"> </span><span class="kd">struct</span><span class="p">{</span>
<a id="__codelineno-144-16" name="__codelineno-144-16"></a>
<a id="__codelineno-144-17" name="__codelineno-144-17"></a><span class="p">}</span>
<a id="__codelineno-144-18" name="__codelineno-144-18"></a><span class="kd">func</span><span class="p">(</span><span class="nx">person</span><span class="w"> </span><span class="nx">American</span><span class="p">)</span><span class="w"> </span><span class="nx">sayHello</span><span class="p">{</span>
<a id="__codelineno-144-19" name="__codelineno-144-19"></a><span class="w">    </span><span class="nx">fmt</span><span class="p">.</span><span class="nb">println</span><span class="p">(</span><span class="s">&quot;hello&quot;</span><span class="p">)</span>
<a id="__codelineno-144-20" name="__codelineno-144-20"></a><span class="p">}</span>
<a id="__codelineno-144-21" name="__codelineno-144-21"></a>
<a id="__codelineno-144-22" name="__codelineno-144-22"></a><span class="c1">//定义一个函数，接收具备Sahello接口能力的变量</span>
<a id="__codelineno-144-23" name="__codelineno-144-23"></a><span class="kd">func</span><span class="w"> </span><span class="nx">greet</span><span class="p">(</span><span class="nx">s</span><span class="w"> </span><span class="nx">Sayhello</span><span class="p">){</span>
<a id="__codelineno-144-24" name="__codelineno-144-24"></a><span class="w">    </span><span class="nx">s</span><span class="p">.</span><span class="nx">sayHello</span><span class="p">()</span>
<a id="__codelineno-144-25" name="__codelineno-144-25"></a><span class="p">}</span>
<a id="__codelineno-144-26" name="__codelineno-144-26"></a>
<a id="__codelineno-144-27" name="__codelineno-144-27"></a><span class="kd">func</span><span class="w"> </span><span class="nx">main</span><span class="p">(){</span>
<a id="__codelineno-144-28" name="__codelineno-144-28"></a><span class="w">    </span><span class="c1">//创建中国人</span>
<a id="__codelineno-144-29" name="__codelineno-144-29"></a><span class="w">    </span><span class="nx">c</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">Chinense</span><span class="p">{}</span>
<a id="__codelineno-144-30" name="__codelineno-144-30"></a><span class="w">    </span><span class="nx">a</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">Amecican</span><span class="p">{}</span>
<a id="__codelineno-144-31" name="__codelineno-144-31"></a><span class="w">    </span><span class="c1">//打招呼</span>
<a id="__codelineno-144-32" name="__codelineno-144-32"></a><span class="w">    </span><span class="nx">greet</span><span class="p">(</span><span class="nx">c</span><span class="p">)</span>
<a id="__codelineno-144-33" name="__codelineno-144-33"></a><span class="w">    </span><span class="nx">greet</span><span class="p">(</span><span class="nx">a</span><span class="p">)</span>
<a id="__codelineno-144-34" name="__codelineno-144-34"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<p>我先定义了一个interface{}接口，这个接口表示调用这个接口的都要执行以下几个函数：A,B，C</p>
<p>然后我再定义了能执行下面这些函数的变量</p>
<p>之后再每一个变量设定了对应A函数的A方法，B函数的B方法，C函数的C方法</p>
<p>然后我再定义一个函数D，接收这些变量，把接口和变量缝在一块，变成可以执行的函数</p>
<p>接口就是让某个具备接口能力的对象调用该接口
<img alt="alt text" src="../image.png" /></p>
<p>定义某种能力是的别的函数实现某种功能</p>
<ol>
<li>接口本身不能创建实例</li>
<li>
<p>自定义的数据类型都可以创建接口</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-145-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-145-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-145-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-145-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-145-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-145-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-145-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-145-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-145-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-145-10">10</a></span>
<span class="normal"><a href="#__codelineno-145-11">11</a></span>
<span class="normal"><a href="#__codelineno-145-12">12</a></span>
<span class="normal"><a href="#__codelineno-145-13">13</a></span>
<span class="normal"><a href="#__codelineno-145-14">14</a></span>
<span class="normal"><a href="#__codelineno-145-15">15</a></span>
<span class="normal"><a href="#__codelineno-145-16">16</a></span>
<span class="normal"><a href="#__codelineno-145-17">17</a></span>
<span class="normal"><a href="#__codelineno-145-18">18</a></span>
<span class="normal"><a href="#__codelineno-145-19">19</a></span>
<span class="normal"><a href="#__codelineno-145-20">20</a></span>
<span class="normal"><a href="#__codelineno-145-21">21</a></span>
<span class="normal"><a href="#__codelineno-145-22">22</a></span>
<span class="normal"><a href="#__codelineno-145-23">23</a></span>
<span class="normal"><a href="#__codelineno-145-24">24</a></span>
<span class="normal"><a href="#__codelineno-145-25">25</a></span>
<span class="normal"><a href="#__codelineno-145-26">26</a></span>
<span class="normal"><a href="#__codelineno-145-27">27</a></span>
<span class="normal"><a href="#__codelineno-145-28">28</a></span>
<span class="normal"><a href="#__codelineno-145-29">29</a></span>
<span class="normal"><a href="#__codelineno-145-30">30</a></span>
<span class="normal"><a href="#__codelineno-145-31">31</a></span>
<span class="normal"><a href="#__codelineno-145-32">32</a></span>
<span class="normal"><a href="#__codelineno-145-33">33</a></span>
<span class="normal"><a href="#__codelineno-145-34">34</a></span>
<span class="normal"><a href="#__codelineno-145-35">35</a></span>
<span class="normal"><a href="#__codelineno-145-36">36</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-145-1" name="__codelineno-145-1"></a><span class="kn">package</span><span class="w"> </span><span class="nx">main</span>
<a id="__codelineno-145-2" name="__codelineno-145-2"></a><span class="kn">import</span><span class="w"> </span><span class="s">&quot;fmt&quot;</span>
<a id="__codelineno-145-3" name="__codelineno-145-3"></a>
<a id="__codelineno-145-4" name="__codelineno-145-4"></a><span class="kd">type</span><span class="w"> </span><span class="nx">inter</span><span class="w"> </span><span class="kd">interface</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-145-5" name="__codelineno-145-5"></a><span class="w">    </span><span class="c1">// 定义一个接口方法say</span>
<a id="__codelineno-145-6" name="__codelineno-145-6"></a><span class="w">    </span><span class="nx">say</span><span class="p">()</span>
<a id="__codelineno-145-7" name="__codelineno-145-7"></a><span class="w">    </span><span class="c1">//在这里定义一种能力，不在这里实现</span>
<a id="__codelineno-145-8" name="__codelineno-145-8"></a><span class="p">}</span>
<a id="__codelineno-145-9" name="__codelineno-145-9"></a>
<a id="__codelineno-145-10" name="__codelineno-145-10"></a><span class="kd">type</span><span class="w"> </span><span class="nx">A</span><span class="w"> </span><span class="kt">int</span>
<a id="__codelineno-145-11" name="__codelineno-145-11"></a><span class="kd">type</span><span class="w"> </span><span class="nx">B</span><span class="w"> </span><span class="kt">string</span>
<a id="__codelineno-145-12" name="__codelineno-145-12"></a>
<a id="__codelineno-145-13" name="__codelineno-145-13"></a><span class="c1">// 为A和B类型实现say方法</span>
<a id="__codelineno-145-14" name="__codelineno-145-14"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">a</span><span class="w"> </span><span class="nx">A</span><span class="p">)</span><span class="w"> </span><span class="nx">say</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-145-15" name="__codelineno-145-15"></a><span class="w">    </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="s">&quot;A say hello&quot;</span><span class="p">)</span>
<a id="__codelineno-145-16" name="__codelineno-145-16"></a><span class="p">}</span>
<a id="__codelineno-145-17" name="__codelineno-145-17"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">b</span><span class="w"> </span><span class="nx">B</span><span class="p">)</span><span class="w"> </span><span class="nx">say</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-145-18" name="__codelineno-145-18"></a><span class="w">    </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="s">&quot;B say hello&quot;</span><span class="p">)</span>
<a id="__codelineno-145-19" name="__codelineno-145-19"></a><span class="p">}</span>
<a id="__codelineno-145-20" name="__codelineno-145-20"></a>
<a id="__codelineno-145-21" name="__codelineno-145-21"></a><span class="kd">func</span><span class="w"> </span><span class="nx">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-145-22" name="__codelineno-145-22"></a><span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nx">a</span><span class="w"> </span><span class="nx">A</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="c1">// 初始化A类型变量</span>
<a id="__codelineno-145-23" name="__codelineno-145-23"></a><span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nx">b</span><span class="w"> </span><span class="nx">B</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&quot;hello&quot;</span><span class="w"> </span><span class="c1">// 初始化B类型变量</span>
<a id="__codelineno-145-24" name="__codelineno-145-24"></a>
<a id="__codelineno-145-25" name="__codelineno-145-25"></a><span class="w">    </span><span class="c1">// 直接调用A和B的say方法</span>
<a id="__codelineno-145-26" name="__codelineno-145-26"></a><span class="w">    </span><span class="nx">a</span><span class="p">.</span><span class="nx">say</span><span class="p">()</span><span class="w"> </span><span class="c1">// 输出: A say hello</span>
<a id="__codelineno-145-27" name="__codelineno-145-27"></a><span class="w">    </span><span class="nx">b</span><span class="p">.</span><span class="nx">say</span><span class="p">()</span><span class="w"> </span><span class="c1">// 输出: B say hello</span>
<a id="__codelineno-145-28" name="__codelineno-145-28"></a>
<a id="__codelineno-145-29" name="__codelineno-145-29"></a><span class="w">    </span><span class="c1">// 通过接口调用A和B的say方法</span>
<a id="__codelineno-145-30" name="__codelineno-145-30"></a><span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nx">i</span><span class="w"> </span><span class="nx">inter</span>
<a id="__codelineno-145-31" name="__codelineno-145-31"></a><span class="w">    </span><span class="nx">i</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">a</span>
<a id="__codelineno-145-32" name="__codelineno-145-32"></a><span class="w">    </span><span class="nx">i</span><span class="p">.</span><span class="nx">say</span><span class="p">()</span><span class="w"> </span><span class="c1">// 输出: A say hello</span>
<a id="__codelineno-145-33" name="__codelineno-145-33"></a>
<a id="__codelineno-145-34" name="__codelineno-145-34"></a><span class="w">    </span><span class="nx">i</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">b</span>
<a id="__codelineno-145-35" name="__codelineno-145-35"></a><span class="w">    </span><span class="nx">i</span><span class="p">.</span><span class="nx">say</span><span class="p">()</span><span class="w"> </span><span class="c1">// 输出: B say hello</span>
<a id="__codelineno-145-36" name="__codelineno-145-36"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
</li>
<li>
<p>一个接口可以继承多个接口</p>
</li>
</ol>
<h4 id="_43">多态<a class="headerlink" href="#_43" title="Permanent link">&para;</a></h4>
<p>多态是面向对象的特性之一，在go中通过接口来实现</p>
<p>```go</p>









  



  <form class="md-feedback" name="feedback" hidden>
    <fieldset>
      <legend class="md-feedback__title">
        此页面有帮助吗？
      </legend>
      <div class="md-feedback__inner">
        <div class="md-feedback__list">
          
            <button class="md-feedback__icon md-icon" type="submit" title="This page was helpful" data-md-value="1">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M5 9v12H1V9h4m4 12a2 2 0 0 1-2-2V9c0-.55.22-1.05.59-1.41L14.17 1l1.06 1.06c.27.27.44.64.44 1.05l-.03.32L14.69 8H21a2 2 0 0 1 2 2v2c0 .26-.05.5-.14.73l-3.02 7.05C19.54 20.5 18.83 21 18 21H9m0-2h9.03L21 12v-2h-8.79l1.13-5.32L9 9.03V19Z"/></svg>
            </button>
          
            <button class="md-feedback__icon md-icon" type="submit" title="This page could be improved" data-md-value="0">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 15V3h4v12h-4M15 3a2 2 0 0 1 2 2v10c0 .55-.22 1.05-.59 1.41L9.83 23l-1.06-1.06c-.27-.27-.44-.64-.44-1.06l.03-.31.95-4.57H3a2 2 0 0 1-2-2v-2c0-.26.05-.5.14-.73l3.02-7.05C4.46 3.5 5.17 3 6 3h9m0 2H5.97L3 12v2h8.78l-1.13 5.32L15 14.97V5Z"/></svg>
            </button>
          
        </div>
        <div class="md-feedback__note">
          
            <div data-md-value="1" hidden>
              
              
                
              
              谢谢你的反馈！
            </div>
          
            <div data-md-value="0" hidden>
              
              
                
              
              Thanks for your feedback! Help us improve this page by using our <a href="https://marketingplatform.google.com/about/analytics/" target="_blank" rel="noopener">feedback form</a>.
            </div>
          
        </div>
      </div>
    </fieldset>
  </form>


                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.tabs", "navigation.expand", "navigation.top", "navigation.bottom", "toc.integrate", "content.code.copy", "content.code.link", "content.code.highlight", "content.math", "search.full", "search.share", "navigation.tabs", "navigation.sections"], "search": "../../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.fe8b6f2b.min.js"></script>
      
        <script src="../../../javascripts/extra.js"></script>
      
        <script src="../../../javascripts/mathjax.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>